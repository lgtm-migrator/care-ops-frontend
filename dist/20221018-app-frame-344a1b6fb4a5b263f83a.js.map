{"version":3,"file":"20221018-app-frame-344a1b6fb4a5b263f83a.js","mappings":"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","sources":["webpack://care-ops-frontend/./src/js/utils/formatting/remove-newline.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/check_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/state_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/owner_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/due_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/time_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/duration_component.js","webpack://care-ops-frontend/./src/js/views/patients/shared/actions_views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-sidebar_views.js","webpack://care-ops-frontend/./src/js/views/patients/shared/comments_views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-sidebar-activity-views.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/action-sidebar_app.js","webpack://care-ops-frontend/./src/js/views/patients/shared/flows_views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/flow/flow-sidebar_views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/flow/flow-sidebar-activity-views.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/flow-sidebar_app.js","webpack://care-ops-frontend/./src/js/views/programs/sidebar/program/programs-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/programs/sidebar/program-sidebar_app.js","webpack://care-ops-frontend/./src/js/views/programs/shared/components/published_component.js","webpack://care-ops-frontend/./src/js/views/shared/components/team/index.js","webpack://care-ops-frontend/./src/js/views/programs/shared/flows_views.js","webpack://care-ops-frontend/./src/js/views/programs/sidebar/flow/flow-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/programs/sidebar/flow-sidebar_app.js","webpack://care-ops-frontend/./src/js/views/programs/shared/components/form_component.js","webpack://care-ops-frontend/./src/js/views/programs/shared/components/dueday_component.js","webpack://care-ops-frontend/./src/js/views/programs/shared/actions_views.js","webpack://care-ops-frontend/./src/js/views/programs/sidebar/action/action-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/programs/sidebar/action-sidebar_app.js","webpack://care-ops-frontend/./src/js/views/clinicians/shared/components/role_component.js","webpack://care-ops-frontend/./src/js/views/shared/components/groups-manager/index.js","webpack://care-ops-frontend/./src/js/views/clinicians/shared/clinicians_views.js","webpack://care-ops-frontend/./src/js/views/clinicians/sidebar/clinician-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/clinicians/sidebar/clinician-sidebar_app.js","webpack://care-ops-frontend/./src/js/utils/patient-template.js","webpack://care-ops-frontend/./src/js/views/patients/widgets/widgets.js","webpack://care-ops-frontend/./src/js/views/patients/widgets/widgets_views.js","webpack://care-ops-frontend/./src/js/views/patients/sidebar/patient/patient-sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/patient-sidebar_app.js","webpack://care-ops-frontend/./src/js/services/sidebar.js","webpack://care-ops-frontend/./src/js/views/globals/search/patient-search_views.js","webpack://care-ops-frontend/./src/js/apps/globals/search_app.js","webpack://care-ops-frontend/./src/js/views/globals/app-nav/app-nav_views.js","webpack://care-ops-frontend/./src/js/views/globals/patient-modal/patient-modal_views.js","webpack://care-ops-frontend/./src/js/apps/globals/nav_app.js","webpack://care-ops-frontend/./src/js/views/patients/patient/sidebar/sidebar_views.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/sidebar/sidebar_app.js","webpack://care-ops-frontend/./src/js/views/forms/form/widgets/widget_header_view.js","webpack://care-ops-frontend/./src/js/apps/forms/widgets/widgets_header_app.js","webpack://care-ops-frontend/./src/js/views/forms/form/form_views.js","webpack://care-ops-frontend/./src/js/apps/forms/form/form_app.js","webpack://care-ops-frontend/./src/js/apps/forms/form/form-patient_app.js","webpack://care-ops-frontend/./src/js/apps/forms/form/form-preview_app.js","webpack://care-ops-frontend/./src/js/apps/forms/forms-main_app.js","webpack://care-ops-frontend/./src/js/base/subrouterapp.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/flow/flow_state.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/action/action_app.js","webpack://care-ops-frontend/./src/js/views/patients/shared/bulk-edit/bulk-edit_views.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/bulk-edit-actions_app.js","webpack://care-ops-frontend/./src/js/views/patients/patient/flow/flow_views.js","webpack://care-ops-frontend/./src/js/views/patients/shared/add-workflow/add-workflow_views.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/flow/flow_app.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/dashboard/add-workflow_app.js","webpack://care-ops-frontend/./src/js/views/patients/patient/dashboard/dashboard_views.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/dashboard/dashboard_app.js","webpack://care-ops-frontend/./src/js/views/patients/patient/archive/archive_views.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/archive/archive_app.js","webpack://care-ops-frontend/./src/js/views/patients/patient/patient_views.js","webpack://care-ops-frontend/./src/js/apps/patients/patient/patient_app.js","webpack://care-ops-frontend/./src/js/apps/patients/worklist/worklist_state.js","webpack://care-ops-frontend/./src/js/views/patients/worklist/filters_views.js","webpack://care-ops-frontend/./src/js/apps/patients/worklist/filters_app.js","webpack://care-ops-frontend/./src/js/apps/patients/sidebar/bulk-edit-flows_app.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/date-filter/date-filter_views.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/date-filter/date-filter_state.js","webpack://care-ops-frontend/./src/js/views/patients/shared/components/date-filter/index.js","webpack://care-ops-frontend/./src/js/views/shared/components/list-search/list-search_views.js","webpack://care-ops-frontend/./src/js/views/shared/components/list-search/index.js","webpack://care-ops-frontend/./src/js/utils/formatting/build-matchers-array.js","webpack://care-ops-frontend/./src/js/views/patients/worklist/action_views.js","webpack://care-ops-frontend/./src/js/views/patients/worklist/flow_views.js","webpack://care-ops-frontend/./src/js/views/patients/worklist/worklist_views.js","webpack://care-ops-frontend/./src/js/apps/patients/worklist/worklist_app.js","webpack://care-ops-frontend/./src/js/apps/patients/schedule/schedule_state.js","webpack://care-ops-frontend/./src/js/views/patients/schedule/filters_views.js","webpack://care-ops-frontend/./src/js/apps/patients/schedule/filters_app.js","webpack://care-ops-frontend/./src/js/views/patients/schedule/schedule_views.js","webpack://care-ops-frontend/./src/js/apps/patients/schedule/schedule_app.js","webpack://care-ops-frontend/./src/js/apps/patients/patients-main_app.js","webpack://care-ops-frontend/./src/js/apps/patients/schedule/reduced_schedule_app.js","webpack://care-ops-frontend/./src/js/apps/patients/reduced-patients-main_app.js","webpack://care-ops-frontend/./src/js/views/clinicians/clinicians-all_views.js","webpack://care-ops-frontend/./src/js/views/clinicians/clinician-modal/clinician-modal_views.js","webpack://care-ops-frontend/./src/js/apps/clinicians/clinicians-all_app.js","webpack://care-ops-frontend/./src/js/apps/clinicians/clinicians-main_app.js","webpack://care-ops-frontend/./src/js/views/dashboards/dashboards-all_views.js","webpack://care-ops-frontend/./src/js/apps/dashboards/dashboards-all_app.js","webpack://care-ops-frontend/./src/js/views/dashboards/dashboard_views.js","webpack://care-ops-frontend/./src/js/apps/dashboards/dashboard_app.js","webpack://care-ops-frontend/./src/js/apps/dashboards/dashboards-main_app.js","webpack://care-ops-frontend/./src/js/views/programs/programs-all_views.js","webpack://care-ops-frontend/./src/js/apps/programs/programs-all_app.js","webpack://care-ops-frontend/./src/js/views/programs/program/workflows/workflows_views.js","webpack://care-ops-frontend/./src/js/apps/programs/program/workflows/workflows_app.js","webpack://care-ops-frontend/./src/js/apps/programs/program/action/action_app.js","webpack://care-ops-frontend/./src/js/views/programs/program/program_views.js","webpack://care-ops-frontend/./src/js/views/programs/program/sidebar/sidebar-views.js","webpack://care-ops-frontend/./src/js/apps/programs/program/program_app.js","webpack://care-ops-frontend/./src/js/behaviors/sortable-list.js","webpack://care-ops-frontend/./src/js/views/programs/program/flow/flow_views.js","webpack://care-ops-frontend/./src/js/apps/programs/program/flow/flow_app.js","webpack://care-ops-frontend/./src/js/apps/programs/programs-main_app.js","webpack://care-ops-frontend/./src/js/apps/globals/app-frame_app.js","webpack://care-ops-frontend/./src/js/views/clinicians/clinician-modal/clinician-modal.hbs","webpack://care-ops-frontend/./src/js/views/clinicians/sidebar/clinician-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/globals/patient-modal/patient-modal.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/archive/action-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/archive/flow-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/dashboard/action-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/dashboard/flow-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/dashboard/layout.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/flow/action-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/patient/flow/header.hbs","webpack://care-ops-frontend/./src/js/views/patients/schedule/layout.hbs","webpack://care-ops-frontend/./src/js/views/patients/shared/bulk-edit/bulk-edit-action-body.hbs","webpack://care-ops-frontend/./src/js/views/patients/shared/bulk-edit/bulk-edit-flow-body.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-details.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-name.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/action-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/action/form-sharing.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/flow/flow-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/patients/sidebar/patient/patient-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/patients/worklist/action-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/worklist/flow-item.hbs","webpack://care-ops-frontend/./src/js/views/patients/worklist/layout.hbs","webpack://care-ops-frontend/./src/js/views/patients/worklist/table-header.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/flow/action-item.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/flow/header.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/sidebar/sidebar-layout.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/workflows/action-item.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/workflows/flow-item.hbs","webpack://care-ops-frontend/./src/js/views/programs/program/workflows/layout.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/action/action-details.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/action/action-name.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/action/action-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/flow/flow-details.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/flow/flow-name.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/flow/flow-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/program/program-details.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/program/program-name.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/program/program-sidebar.hbs","webpack://care-ops-frontend/./src/js/views/programs/sidebar/program/program-state.hbs"],"sourcesContent":["export default str => {\n  return str && str.replace(/(\\r\\n|\\n|\\r)/gm, ' ');\n};\n","import hbs from 'handlebars-inline-precompile';\nimport { Component } from 'marionette.toolkit';\n\nimport 'scss/modules/buttons.scss';\n\nexport default Component.extend({\n  stateEvents: {\n    'change:isSelected': 'onStateChangeIsSelected',\n  },\n  viewEvents: {\n    'click': 'onClick',\n  },\n  viewOptions() {\n    const isSelected = this.getState('isSelected');\n    const template = isSelected ? hbs`{{fas \"square-check\"}}` : hbs`{{fal \"square\"}}`;\n\n    return {\n      tagName: 'button',\n      className: 'button--checkbox js-select',\n      template,\n      triggers: {\n        'click': 'click',\n      },\n    };\n  },\n  onClick(view, domEvent) {\n    this.toggleState('isSelected');\n    this.triggerMethod('select', domEvent);\n  },\n  onStateChangeIsSelected(state, isSelected) {\n    this.show();\n    this.triggerMethod('change:isSelected', isSelected);\n  },\n});\n","import { map } from 'underscore';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport { STATE_STATUS } from 'js/static';\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport 'scss/domain/action-state.scss';\n\nconst i18n = intl.patients.shared.components.stateComponent;\n\nconst StateTemplate = hbs`<span class=\"action--{{ options.color }}\">{{fa options.iconType options.icon}}{{#unless isCompact}}<span>{{ name }}</span>{{/unless}}</span>`;\n\nlet statesCollection;\n\nfunction getStates() {\n  if (statesCollection) return statesCollection;\n  const currentOrg = Radio.request('bootstrap', 'currentOrg');\n  statesCollection = currentOrg.getStates();\n  return statesCollection;\n}\n\nconst statuses = [STATE_STATUS.QUEUED, STATE_STATUS.STARTED, STATE_STATUS.DONE];\nlet statesLists;\n\nfunction getStateLists() {\n  if (statesLists) return statesLists;\n  const statesByStatus = getStates().groupBy('status');\n  statesLists = map(statuses, status => {\n    return {\n      collection: Radio.request('entities', 'states:collection', statesByStatus[status]),\n      headingText: i18n.statusLabels[status],\n    };\n  });\n  return statesLists;\n}\n\nexport default Droplist.extend({\n  isCompact: false,\n  initialize({ stateId }) {\n    this.lists = getStateLists();\n    this.setSelected(stateId);\n  },\n  setSelected(stateId) {\n    const states = getStates();\n    this.setState({ selected: states.get(stateId) });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:state', selected);\n  },\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n\n    return {\n      className: isCompact ? 'button-secondary--compact' : 'button-secondary w-100',\n      template: StateTemplate,\n      templateContext: {\n        isCompact,\n      },\n    };\n  },\n  picklistOptions: {\n    headingText: i18n.headingText,\n    itemTemplate: StateTemplate,\n  },\n});\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './owner-component.scss';\n\nconst i18n = intl.patients.shared.components.ownerComponent;\n\nconst OwnerItemTemplate = hbs`<div>{{matchText name query}} <span class=\"owner-component__team\">{{matchText short query}}</span></div>`;\nconst FilterButtonTemplate = hbs`{{far \"circle-user\"}}<span>{{ name }}</span>{{far \"angle-down\"}}`;\n\nlet teamsCollection;\n\nfunction getTeams() {\n  if (teamsCollection) return teamsCollection;\n  const currentOrg = Radio.request('bootstrap', 'currentOrg');\n  teamsCollection = currentOrg.getActiveTeams();\n  return teamsCollection;\n}\n\n// Caching for single renders\nlet groupCache = {};\n\nfunction getGroupClinicians(group) {\n  if (groupCache[group.id]) return groupCache[group.id];\n  groupCache[group.id] = group.getActiveClinicians();\n  return groupCache[group.id];\n}\n\nexport default Droplist.extend({\n  isCompact: false,\n  isFilter: false,\n  headingText: i18n.headingText,\n  placeholderText: i18n.placeholderText,\n  hasTeams: true,\n  hasCurrentClinician: true,\n  popWidth() {\n    const isFilter = this.getOption('isFilter');\n    const isCompact = this.getOption('isCompact');\n\n    return (isFilter || isCompact) ? null : this.getView().$el.outerWidth();\n  },\n  picklistOptions() {\n    return {\n      itemTemplate: OwnerItemTemplate,\n      itemTemplateContext() {\n        if (this.model.type === 'teams') return;\n        return {\n          short: this.model.getTeam().get('short'),\n        };\n      },\n      isSelectlist: true,\n      infoText: this.getOption('infoText'),\n      headingText: this.getOption('headingText'),\n      placeholderText: this.getOption('placeholderText'),\n    };\n  },\n  viewOptions() {\n    const icon = { type: 'far', icon: 'circle-user' };\n    const isCompact = this.getOption('isCompact');\n    const isFilter = this.getOption('isFilter');\n\n    if (isFilter) {\n      return {\n        className: 'button-filter',\n        template: FilterButtonTemplate,\n      };\n    }\n\n    if (isCompact) {\n      const selected = this.getState('selected');\n      const isTeam = selected.type === 'teams';\n\n      return {\n        className: 'owner-component--compact button-secondary--compact w-100',\n        templateContext: {\n          attr: isTeam ? 'short' : 'name',\n          icon,\n        },\n      };\n    }\n\n    return {\n      className: 'button-secondary w-100',\n      templateContext: {\n        attr: 'name',\n        icon,\n      },\n    };\n  },\n\n  initialize({ owner, groups }) {\n    this.lists = [];\n\n    if (this.getOption('hasCurrentClinician')) {\n      const currentUser = Radio.request('bootstrap', 'currentUser');\n      this.lists.push({\n        collection: new Backbone.Collection([currentUser]),\n      });\n    }\n\n    if (groups) {\n      this.lists.push(...groups.map(group => {\n        return {\n          collection: getGroupClinicians(group),\n          headingText: group.get('name'),\n        };\n      }));\n    }\n\n    if (this.getOption('hasTeams')) {\n      this.lists.push({\n        collection: getTeams(),\n        headingText: this.lists.length ? i18n.teamsHeadingText : null,\n      });\n    }\n\n    this.setState({ selected: owner });\n  },\n  onDestroy() {\n    // NOTE: overzealously clearing the cache\n    groupCache = {};\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:owner', selected);\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { Component } from 'marionette.toolkit';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Datepicker from 'js/components/datepicker';\n\nimport './due-component.scss';\n\nconst i18n = intl.patients.shared.components.dueComponent;\n\nconst DueTemplate = hbs`\n  <span{{#if isOverdue}} class=\"is-overdue\"{{/if}}>\n    {{far \"calendar-days\"}}{{formatDateTime date dateFormat inputFormat=\"YYYY-MM-DD\" defaultHtml=defaultHtml}}\n  </span>\n`;\n\nexport default Component.extend({\n  isCompact: false,\n  viewEvents: {\n    'click': 'onClick',\n  },\n  onClick() {\n    this.toggleState('isActive');\n  },\n  stateEvents: {\n    'change:isActive': 'onChangeIsActive',\n    'change:selected': 'onChangeStateSelected',\n  },\n  onChangeIsActive(state, isActive) {\n    const view = this.getView();\n    view.$el.toggleClass('is-active', isActive);\n\n    if (!isActive) return;\n\n    // blur off the button so enter won't trigger select repeatedly\n    view.$el.blur();\n\n    this.showDatepicker();\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n    const selected = this.getState('selected');\n    const isDisabled = this.getState('isDisabled');\n\n    return {\n      tagName: 'button',\n      attributes: {\n        disabled: isDisabled,\n      },\n      className() {\n        if (isCompact) {\n          return 'button-secondary--compact due-component';\n        }\n\n        return 'button-secondary w-100 due-component';\n      },\n      triggers: {\n        'click': 'click',\n      },\n      template: DueTemplate,\n      templateContext: {\n        defaultHtml: isCompact ? '' : `<span>${ i18n.defaultText }</span>`,\n        dateFormat: isCompact ? 'SHORT' : 'LONG',\n        date: selected,\n        isOverdue: !isDisabled && this.getOption('isOverdue'),\n      },\n    };\n  },\n  initialize({ date }) {\n    this.setState({ selected: date });\n  },\n  showDatepicker() {\n    const datepicker = new Datepicker({\n      uiView: this.getView(),\n      state: { selectedDate: this.getState('selected') },\n    });\n\n    this.listenTo(datepicker, {\n      'change:selectedDate'(date) {\n        this.setState('selected', date);\n        datepicker.destroy();\n      },\n      'destroy': this.onDatepickerDestroy,\n    });\n\n    datepicker.show();\n  },\n  onDatepickerDestroy() {\n    this.toggleState('isActive', false);\n  },\n  onChangeStateSelected(state, selected) {\n    this.show();\n    this.triggerMethod('change:due', selected);\n  },\n});\n","import { times as _times } from 'underscore';\nimport dayjs from 'dayjs';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './time-component.scss';\n\nconst i18n = intl.patients.shared.components.timeComponent;\nconst timeFormat = 'HH:mm:ss';\n\n// Every 15 mins for 24 hours starting at 7am\nconst start = dayjs('07:00:00', timeFormat);\n\nconst times = _times(96, function(n) {\n  return { id: start.add(15 * n, 'minutes').format(timeFormat) };\n});\n\nconst NoTimeCompactTemplate = hbs`{{far \"clock\"}}`;\n\nconst TimeTemplate = hbs`{{far \"clock\"}}{{formatDateTime id \"LT\" inputFormat=\"HH:mm:ss\" defaultHtml=defaultHtml}}`;\n\nexport default Droplist.extend({\n  collection: new Backbone.Collection(times),\n  align: 'right',\n  popWidth: 192,\n  isCompact: false,\n  isSelectlist: true,\n  getClassName(time, isCompact) {\n    const isOverdue = time && this.getOption('isOverdue') ? 'is-overdue' : '';\n\n    if (isCompact) {\n      return `button-secondary--compact time-component ${ isOverdue }`;\n    }\n\n    return `button-secondary time-component w-100 ${ isOverdue }`;\n  },\n  getTemplate(time, isCompact) {\n    if (!time && isCompact) {\n      return NoTimeCompactTemplate;\n    }\n\n    return TimeTemplate;\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n    const selected = this.getState('selected');\n    const time = selected ? selected.id : null;\n\n    return {\n      className: this.getClassName(time, isCompact),\n      template: this.getTemplate(time, isCompact),\n      templateContext: {\n        defaultHtml: `<span>${ i18n.placeholderText }</span>`,\n      },\n    };\n  },\n  picklistOptions: {\n    canClear: true,\n    clearText: i18n.clear,\n    headingText: i18n.headingText,\n    placeholderText: i18n.placeholderText,\n    isSelectlist: true,\n    itemTemplateContext() {\n      return {\n        text: dayjs(this.model.id, timeFormat).format('LT'),\n      };\n    },\n  },\n  initialize({ time }) {\n    const selected = this.collection.get(time);\n\n    this.setState({ selected });\n  },\n  onChangeSelected(selected) {\n    const time = selected ? selected.id : null;\n\n    this.triggerMethod('change:time', time);\n  },\n});\n","import { map, range } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './owner-component.scss';\n\nconst i18n = intl.patients.shared.components.durationComponent;\n\nconst durations = map(range(99), function(duration) {\n  return { id: duration + 1 };\n});\n\nconst NoDurationTemplate = hbs`{{far \"stopwatch\"}}<span>{{ @intl.patients.shared.components.durationComponent.defaultText }}</span>`;\n\nconst DurationTemplate = hbs`{{far \"stopwatch\"}}<span>{{formatMessage (intlGet \"patients.shared.components.durationComponent.mins\") min=id}}</span>`;\n\nconst itemTemplate = hbs`{{formatMessage (intlGet \"patients.shared.components.durationComponent.mins\") min=id}}`;\n\nexport default Droplist.extend({\n  collection: new Backbone.Collection(durations),\n  getTemplate() {\n    if (!this.getState('selected')) {\n      return NoDurationTemplate;\n    }\n    return DurationTemplate;\n  },\n  viewOptions() {\n    return {\n      className: 'button-secondary w-100',\n      template: this.getTemplate(),\n    };\n  },\n  picklistOptions: {\n    canClear: true,\n    clearText: i18n.clear,\n    headingText: i18n.headingText,\n    placeholderText: i18n.placeholderText,\n    isSelectlist: true,\n    itemTemplate,\n  },\n  initialize({ duration }) {\n    const selected = this.collection.get(duration);\n\n    this.setState({ selected });\n  },\n  popWidth() {\n    return this.getView().$el.outerWidth();\n  },\n  onChangeSelected(selected) {\n    const duration = selected ? selected.id : 0;\n\n    this.triggerMethod('change:duration', duration);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport { renderTemplate } from 'js/i18n';\n\nimport 'scss/modules/buttons.scss';\n\nimport Tooltip from 'js/components/tooltip';\n\nimport trim from 'js/utils/formatting/trim';\n\nimport CheckComponent from './components/check_component';\nimport StateComponent from './components/state_component';\nimport OwnerComponent from './components/owner_component';\nimport DueComponent from './components/due_component';\nimport TimeComponent from './components/time_component';\nimport DurationComponent from './components/duration_component';\n\nconst FormButton = View.extend({\n  className: 'button-secondary--compact',\n  tagName: 'button',\n  template: hbs`{{far \"square-poll-horizontal\"}}`,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'form:patientAction', this.model.id, this.model.getForm().id);\n  },\n});\n\nconst DetailsTooltip = View.extend({\n  template: hbs`{{far \"circle-info\"}}`,\n  triggers: {\n    'click': 'prevent-row-click',\n  },\n  onRender() {\n    const template = hbs`\n      {{#if flowName}}<p class=\"action-tooltip__flow\"><span class=\"action-tooltip__flow-icon\">{{fas \"folder\"}}</span>{{ flowName }}</p>{{/if}}\n      <p><span class=\"action-tooltip__action-icon\">{{far \"file-lines\"}}</span><span class=\"action-tooltip__action-name\">{{ name }}</span></p>\n      <p class=\"action-tooltip__action-details\">{{ details }}</p>\n    `;\n\n    const flow = this.model.getFlow();\n\n    new Tooltip({\n      messageHtml: renderTemplate(template, {\n        name: this.model.get('name'),\n        flowName: flow ? flow.get('name') : null,\n        details: this._formatDetails(this.model.get('details')),\n      }),\n      uiView: this,\n      ui: this.$el,\n    });\n  },\n  _formatDetails(details) {\n    if (!details || details.length <= 140) return details;\n\n    return `${ trim(details.slice(0, 140)) }...`;\n  },\n});\n\nexport {\n  CheckComponent,\n  StateComponent,\n  OwnerComponent,\n  DueComponent,\n  TimeComponent,\n  DurationComponent,\n  FormButton,\n  DetailsTooltip,\n};\n","import { bind } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/forms.scss';\nimport 'scss/modules/textarea-flex.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport { ACTION_SHARING } from 'js/static';\nimport intl from 'js/i18n';\nimport keyCodes from 'js/utils/formatting/key-codes';\nimport removeNewline from 'js/utils/formatting/remove-newline';\nimport trim from 'js/utils/formatting/trim';\n\nimport { animSidebar } from 'js/anim';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\nimport Optionlist from 'js/components/optionlist';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, DurationComponent } from 'js/views/patients/shared/actions_views';\n\nimport ActionSidebarTemplate from './action-sidebar.hbs';\nimport ActionNameTemplate from './action-name.hbs';\nimport ActionDetailsTemplate from './action-details.hbs';\nimport FormSharingTemplate from './form-sharing.hbs';\n\nimport 'scss/domain/action-state.scss';\nimport './action-sidebar.scss';\n\nconst { ENTER_KEY } = keyCodes;\n\nconst DisabledSaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`<button class=\"button--green\" disabled>{{ @intl.patients.sidebar.action.actionSidebarViews.disabledSaveView.saveBtn }}</button>`,\n});\n\nconst SaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`\n    <button class=\"button--green js-save\">{{ @intl.patients.sidebar.action.actionSidebarViews.saveView.saveBtn }}</button>\n    <button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.patients.sidebar.action.actionSidebarViews.saveView.cancelBtn }}</button>\n  `,\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-save': 'save',\n  },\n});\n\nconst NameView = View.extend({\n  className: 'pos--relative',\n  template: ActionNameTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchKeydown(evt) {\n    if (evt.which === ENTER_KEY) {\n      evt.preventDefault();\n      return;\n    }\n  },\n  onWatchChange(text) {\n    const newText = removeNewline(text);\n    this.ui.input.val(newText);\n    this.ui.spacer.text(newText || ' ');\n\n    this.model.set('name', newText);\n  },\n  templateContext() {\n    return {\n      isNew: this.model.isNew(),\n      isDisabled: this.getOption('isDisabled'),\n      isAdHoc: this.model.isAdHoc(),\n    };\n  },\n  onDomRefresh() {\n    if (this.model.isNew()) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst DetailsView = View.extend({\n  className: 'pos--relative',\n  template: ActionDetailsTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchChange(text) {\n    this.ui.input.val(text);\n    this.ui.spacer.text(text || ' ');\n\n    this.model.set('details', trim(text));\n  },\n});\n\nconst FormView = View.extend({\n  attributes() {\n    return {\n      disabled: !!this.getOption('isShowingForm'),\n    };\n  },\n  tagName: 'button',\n  className: 'button-secondary w-100 action-sidebar__form',\n  template: hbs`{{far \"square-poll-horizontal\"}}<span>{{ name }}</span>`,\n  triggers: {\n    'click': 'click',\n  },\n});\n\nfunction getSharingOpts(sharing) {\n  switch (sharing) {\n    case ACTION_SHARING.PENDING:\n    case ACTION_SHARING.SENT:\n      return {\n        iconType: 'fas',\n        icon: 'circle-dot',\n        color: 'black',\n      };\n    case ACTION_SHARING.RESPONDED:\n      return {\n        iconType: 'fas',\n        icon: 'circle-check',\n        color: 'green',\n      };\n    case ACTION_SHARING.CANCELED:\n    case ACTION_SHARING.ERROR_OPT_OUT:\n      return {\n        iconType: 'far',\n        icon: 'octagon-minus',\n        color: 'orange',\n      };\n    default:\n      return {\n        iconType: 'fas',\n        icon: 'circle-exclamation',\n        color: 'red',\n      };\n  }\n}\n\nconst FormSharingView = View.extend({\n  className: 'sidebar__dialog',\n  triggers: {\n    'click .js-share': 'click:share',\n    'click .js-cancel': 'click:cancelShare',\n    'click .js-undo-cancel': 'click:undoCancelShare',\n    'click .js-response': 'click:response',\n  },\n  template: FormSharingTemplate,\n  templateContext() {\n    const patient = this.model.getPatient();\n    const sharing = this.model.get('sharing');\n    const stateOptions = getSharingOpts(sharing);\n    const isPending = sharing === ACTION_SHARING.PENDING;\n    const isSent = sharing === ACTION_SHARING.SENT;\n    const isResponded = sharing === ACTION_SHARING.RESPONDED;\n    const isCanceled = sharing === ACTION_SHARING.CANCELED;\n\n    return {\n      stateOptions,\n      isWaiting: isSent || isPending,\n      isResponded,\n      isCanceled,\n      isError: !isPending && !isSent && !isResponded && !isCanceled,\n      patient: patient.pick('first_name', 'last_name'),\n      isDone: this.model.isDone(),\n    };\n  },\n});\n\nconst LayoutView = View.extend({\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n    'click:share': 'click:share',\n    'click:cancelShare': 'click:cancelShare',\n    'click:undoCancelShare': 'click:undoCancelShare',\n  },\n  className: 'sidebar flex-region',\n  template: ActionSidebarTemplate,\n  regions: {\n    name: '[data-name-region]',\n    details: '[data-details-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDay: '[data-due-day-region]',\n    dueTime: '[data-due-time-region]',\n    duration: '[data-duration-region]',\n    form: '[data-form-region]',\n    formSharing: '[data-form-sharing-region]',\n    save: '[data-save-region]',\n    activity: {\n      el: '[data-activity-region]',\n      regionClass: PreloadRegion,\n    },\n    timestamps: '[data-timestamps-region]',\n    comment: '[data-comment-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: intl.patients.sidebar.action.actionSidebarViews.layoutView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{ @intl.patients.sidebar.action.actionSidebarViews.layoutView.menuOptions.delete }}</span>`,\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  templateContext() {\n    const outreach = this.action.get('outreach');\n    return {\n      outreach,\n      hasOutreach: !!outreach,\n      isNew: this.action.isNew(),\n      hasForm: !!this.action.getForm(),\n    };\n  },\n  initialize({ action }) {\n    this.action = action;\n    this.listenTo(this.action, {\n      'change:_state': this.onChangeActionState,\n      'change:_owner': this.onChangeOwner,\n      'change:due_date': this.onChangeDueDate,\n      'change:due_time': this.onChangeDueDate,\n      'change:duration': this.onChangeDuration,\n      'change:sharing': this.onChangeSharing,\n    });\n    const flow = this.action.getFlow();\n    this.listenTo(flow, 'change:_state', this.showAction);\n  },\n  isFlowDone() {\n    const flow = this.action.getFlow();\n    return flow && flow.isDone();\n  },\n  onChangeActionState() {\n    this.showFormSharing();\n    const isDone = this.action.isDone();\n\n    const prevState = Radio.request('entities', 'states:model', this.action.previous('_state'));\n    const isPrevDone = prevState.isDone();\n\n    if (isDone === isPrevDone) return;\n\n    this.showAction();\n  },\n  onChangeOwner() {\n    this.showOwner();\n  },\n  onChangeDueDate() {\n    this.showDueDay();\n    this.showDueTime();\n  },\n  onChangeDuration() {\n    this.showDuration();\n  },\n  onChangeSharing() {\n    this.showFormSharing();\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onRender() {\n    this.showAction();\n  },\n  cloneAction() {\n    // NOTE: creates a new clone from the truth for cancelable editing\n    if (this.clonedAction) this.stopListening(this.clonedAction);\n    this.clonedAction = this.action.clone();\n  },\n  showAction() {\n    this.showEditForm();\n    this.showState();\n    this.showOwner();\n    this.showDueDay();\n    this.showDueTime();\n    this.showDuration();\n    this.showForm();\n    this.showFormSharing();\n  },\n  showEditForm() {\n    this.cloneAction();\n    this.listenTo(this.clonedAction, 'change:name change:details', this.showSave);\n\n    if (this.action.isNew()) this.showDisabledSave();\n    else this.getRegion('save').empty();\n\n    this.showName();\n    this.showDetails();\n  },\n  showName() {\n    const isDisabled = this.action.isDone() || this.isFlowDone();\n    this.showChildView('name', new NameView({ model: this.clonedAction, action: this.action, isDisabled }));\n  },\n  showDetails() {\n    this.showChildView('details', new DetailsView({ model: this.clonedAction, action: this.action }));\n  },\n  showState() {\n    const isDisabled = this.action.isNew() || this.isFlowDone();\n    const stateComponent = new StateComponent({ stateId: this.action.get('_state'), state: { isDisabled } });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.action.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.action.isNew() || this.action.isDone() || this.isFlowDone();\n    const ownerComponent = new OwnerComponent({\n      owner: this.action.getOwner(),\n      groups: this.action.getPatient().getGroups(),\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.action.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDay() {\n    const isDisabled = this.action.isNew() || this.action.isDone() || this.isFlowDone();\n    const dueDayComponent = new DueComponent({\n      date: this.action.get('due_date'),\n      state: { isDisabled },\n      isOverdue: this.action.isOverdue(),\n    });\n\n    this.listenTo(dueDayComponent, 'change:due', date => {\n      this.action.saveDueDate(date);\n    });\n\n    this.showChildView('dueDay', dueDayComponent);\n  },\n  showDueTime() {\n    const isDisabled = this.action.isNew() || this.action.isDone() || this.isFlowDone() || !this.action.get('due_date');\n    const dueTimeComponent = new TimeComponent({\n      time: this.action.get('due_time'),\n      isOverdue: this.action.isOverdue(),\n      state: { isDisabled },\n    });\n\n    this.listenTo(dueTimeComponent, 'change:time', time => {\n      this.action.saveDueTime(time);\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showDuration() {\n    const isDisabled = this.action.isNew() || this.action.isDone() || this.isFlowDone();\n    const durationComponent = new DurationComponent({ duration: this.action.get('duration'), state: { isDisabled } });\n\n    this.listenTo(durationComponent, 'change:duration', duration => {\n      this.action.save({ duration });\n    });\n\n    this.showChildView('duration', durationComponent);\n  },\n  showForm() {\n    const form = this.action.getForm();\n    if (!form || this.action.isNew()) return;\n\n    const formView = new FormView({\n      model: form,\n      isShowingForm: this.getOption('isShowingForm'),\n    });\n\n    this.listenTo(formView, 'click', () => {\n      this.triggerMethod('click:form', form);\n    });\n\n    this.showChildView('form', formView);\n  },\n  showFormSharing() {\n    const sharing = this.action.get('sharing');\n\n    if (sharing === ACTION_SHARING.DISABLED) return;\n\n    const formSharingView = new FormSharingView({ model: this.action });\n\n    this.listenTo(formSharingView, 'click:response', () => {\n      this.triggerMethod('click:form', this.action.getForm());\n    });\n\n    this.showChildView('formSharing', formSharingView);\n  },\n  showSave() {\n    if (!this.clonedAction.isValid()) return this.showDisabledSave();\n\n    this.showChildView('save', new SaveView({ model: this.clonedAction }));\n  },\n  showDisabledSave() {\n    this.showChildView('save', new DisabledSaveView());\n  },\n  onSave() {\n    this.getRegion('save').empty();\n  },\n  onCancel() {\n    if (this.action.isNew()) {\n      this.triggerMethod('close', this);\n      return;\n    }\n\n    this.showEditForm();\n  },\n});\n\nexport {\n  LayoutView,\n};\n","import hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View } from 'marionette';\n\nimport 'scss/modules/comments.scss';\n\nimport intl from 'js/i18n';\nimport trim from 'js/utils/formatting/trim';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\n\nconst PostCommentView = View.extend({\n  className: 'comment__actions',\n  template: hbs`\n    <button class=\"button--green js-post\" {{#if isDisabled}}disabled{{/if}}>\n      {{#if isNew}}\n        {{ @intl.patients.shared.commentsViews.postCommentView.postBtn }}\n      {{else}}\n        {{ @intl.patients.shared.commentsViews.postCommentView.saveBtn }}\n      {{/if}}\n    </button>\n    {{#unless shouldHideCancel}}<button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.patients.shared.commentsViews.postCommentView.cancelBtn }}</button>{{/unless}}\n    {{#unless isNew}}<button class=\"button--text u-float--left comment__delete js-delete\"><span class=\"u-margin--r-4\">{{far \"trash-can\"}}</span>{{ @intl.patients.shared.commentsViews.postCommentView.deleteBtn }}</button>{{/unless}}\n  `,\n  templateContext() {\n    const shouldHideCancel = this.getOption('shouldHideCancel');\n    const isDisabled = !this.model.isValid() || !this.model.hasChanged('message');\n    const isNew = this.model.isNew();\n\n    return {\n      shouldHideCancel,\n      isDisabled,\n      isNew,\n    };\n  },\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-post': 'post',\n    'click .js-delete': 'delete',\n  },\n\n});\n\nconst CommentFormView = View.extend({\n  behaviors: [InputWatcherBehavior],\n  modelEvents: {\n    'change:message': 'showPostView',\n  },\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  template: hbs`\n    <div class=\"flex comment__form\">\n      <span class=\"comment__author-label\">{{ initials }}</span>\n      <div class=\"flex-grow pos--relative\">\n        <textarea class=\"input-secondary textarea-flex__input js-input\" placeholder=\"{{ @intl.patients.shared.commentsViews.commentFormView.placeholder }}\">{{ message }}</textarea>\n        <div class=\"textarea-flex__container input-secondary comment__input js-spacer\">{{ message }}</div>\n      </div>\n    </div>\n    <div data-post-region></div>\n  `,\n  regions: {\n    post: '[data-post-region]',\n  },\n  childViewTriggers: {\n    'post': 'post:comment',\n    'cancel': 'cancel:comment',\n    'delete': 'confirm:delete',\n  },\n  templateContext() {\n    const clinician = this.model.getClinician();\n    return {\n      initials: clinician.getInitials(),\n    };\n  },\n  onRender() {\n    this.showPostView();\n  },\n  onWatchChange(text) {\n    this.ui.input.val(text);\n    this.ui.spacer.text(text || ' ');\n\n    this.model.set('message', trim(text));\n  },\n  showPostView() {\n    const shouldHideCancel = this.model.isNew() && !this.model.get('message');\n\n    this.showChildView('post', new PostCommentView({\n      model: this.model,\n      shouldHideCancel,\n    }));\n  },\n  onConfirmDelete() {\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: intl.patients.shared.commentsViews.commentFormView.deleteModal.bodyText,\n      headingText: intl.patients.shared.commentsViews.commentFormView.deleteModal.headingText,\n      submitText: intl.patients.shared.commentsViews.commentFormView.deleteModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.triggerMethod('delete:comment', this.model);\n      },\n    });\n  },\n});\n\nexport {\n  CommentFormView,\n};\n","import dayjs from 'dayjs';\n\nimport Radio from 'backbone.radio';\n\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport { alphaSort } from 'js/utils/sorting';\n\nimport { ACTION_SHARING } from 'js/static';\nimport { renderTemplate } from 'js/i18n';\n\nimport Tooltip from 'js/components/tooltip';\n\nimport { CommentFormView } from 'js/views/patients/shared/comments_views';\n\nimport 'scss/modules/comments.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport './action-sidebar.scss';\n\nconst CreatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.created\") name = name team = team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst ClinicianAssignedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.clinicianAssigned\") name = name team = team to_name = to_clinician}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst ActionCopiedFromProgramActionTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.actionCopiedFromProgram\") name = name team = team program = program}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst DetailsUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.detailsUpdated\") name = name team = team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst DueDateUpdatedTemplate = hbs`\n  {{#unless value}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.dueDateCleared\") name = name team = team }}\n  {{else}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.dueDateUpdated\") name = name team = team date = (formatDateTime value \"LONG\")}}\n  {{/unless}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst DueTimeUpdatedTemplate = hbs`\n  {{#unless value}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.dueTimeCleared\") name = name team = team }}\n  {{else}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.dueTimeUpdated\") name = name team = team time = (formatDateTime value \"LT\" inputFormat=\"HH:mm:ss\")}}\n  {{/unless}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst DurationUpdatedTemplate = hbs`\n  {{#unless value}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.durationCleared\") name = name team = team}}\n  {{else}}\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.durationUpdated\") name = name team = team duration = value}}\n  {{/unless}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst FormUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.formUpdated\") name = name team = team form = form}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst FormRespondedTemplate = hbs`\n  {{#if _editor}}\n    {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.formResponded\") name = name team = team form = form}}\n  {{ else }}\n    {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.formRecipientResponded\") recipient = recipient form = form}}\n  {{/if}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst FormRemovedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.formRemoved\") name = name team = team form = form}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst NameUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.nameUpdated\") name = name team = team to_name = value from_name = previous}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst TeamAssignedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.teamAssigned\") name = name team = team to_team = to_team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst StateUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.stateUpdated\") name = name team = team to_state = to_state}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst SharingCanceledTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.sharingCanceled\") name = name team = team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst SharingSentTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.sharingSent\") recipient = recipient form = form}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst CommentView = View.extend({\n  className: 'u-margin--b-16',\n  ui: {\n    edit: '.js-edit',\n  },\n  triggers: {\n    'click @ui.edit': 'click:edit',\n  },\n  childViewTriggers: {\n    'cancel:comment': 'cancel:edit',\n    'post:comment': 'save:comment',\n    'delete:comment': 'delete:comment',\n  },\n  regions: {\n    comment: '[data-comment-activity-region]',\n  },\n  template: hbs`\n    <div data-comment-activity-region>\n      <div class=\"comment__item\">\n        <div class=\"comment__author-label\">{{ initials }}</div>\n        <div class=\"comment__title\">\n          <span class=\"comment__author-name\">{{ name }}</span>\n          <span class=\"comment__timestamp\">{{ formatDateTime created_at \"AT_TIME\" }}</span>\n          {{#if canEdit}}<span class=\"js-edit comment__edit\">{{far \"pen\"}} {{ @intl.patients.sidebar.action.activityViews.commentView.edit }}</span>{{/if}}\n        </div>\n        <div class=\"comment__message\">{{ message }}{{#if edited_at}}<span class=\"comment__edited\"> {{ @intl.patients.sidebar.action.activityViews.commentView.edited }} </span>{{/if}}</div>\n      </div>\n    </div>\n  `,\n  templateContext() {\n    const clinician = this.model.getClinician();\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n\n    return {\n      canEdit: clinician.id === currentUser.id,\n      name: clinician.get('name'),\n      initials: clinician.getInitials(),\n    };\n  },\n  onRender() {\n    const edited = this.model.get('edited_at');\n    if (!edited) return;\n\n    const template = hbs`{{formatHTMLMessage (intlGet \"patients.sidebar.action.activityViews.commentView.editTooltip\")  edited = (formatDateTime edited \"TIME\") }}`;\n\n    new Tooltip({\n      messageHtml: renderTemplate(template, { edited }),\n      uiView: this,\n      ui: this.ui.edit,\n    });\n  },\n  onClickEdit() {\n    this.showChildView('comment', new CommentFormView({ model: this.model.clone() }));\n  },\n  onSaveComment({ model }) {\n    this.model.save({\n      message: model.get('message'),\n      edited_at: dayjs.utc().format(),\n    });\n    this.render();\n  },\n  onCancelEdit() {\n    this.render();\n  },\n  onDeleteComment() {\n    this.model.destroy();\n  },\n});\n\nconst ActivityView = View.extend({\n  className: 'action-sidebar__activity-item',\n  getTemplate() {\n    const type = this.model.get('event_type');\n    const Templates = {\n      ActionClinicianAssigned: ClinicianAssignedTemplate,\n      ActionCreated: CreatedTemplate,\n      ActionDetailsUpdated: DetailsUpdatedTemplate,\n      ActionDueDateUpdated: DueDateUpdatedTemplate,\n      ActionDueTimeUpdated: DueTimeUpdatedTemplate,\n      ActionDurationUpdated: DurationUpdatedTemplate,\n      ActionFormUpdated: FormUpdatedTemplate,\n      ActionFormResponded: FormRespondedTemplate,\n      ActionFormRemoved: FormRemovedTemplate,\n      ActionNameUpdated: NameUpdatedTemplate,\n      ActionCopiedFromProgramAction: ActionCopiedFromProgramActionTemplate,\n      ActionTeamAssigned: TeamAssignedTemplate,\n      ActionRoleAssigned: TeamAssignedTemplate, // NOTE: Support for legacy event type\n      ActionStateUpdated: StateUpdatedTemplate,\n    };\n\n    if (type === 'ActionSharingUpdated') {\n      const sharing = this.model.get('value');\n      if (sharing === ACTION_SHARING.SENT) return SharingSentTemplate;\n      if (sharing === ACTION_SHARING.CANCELED) return SharingCanceledTemplate;\n    }\n\n    if (!Templates[type]) return hbs``;\n\n    return Templates[type];\n  },\n  templateContext() {\n    const recipient = this.model.getRecipient();\n    const editor = this.model.getEditor();\n    const clinician = this.model.getClinician();\n    const program = this.model.getProgram();\n    const form = this.model.getForm();\n\n    return {\n      recipient: recipient ? `${ recipient.get('first_name') } ${ recipient.get('last_name') }` : null,\n      name: editor.get('name'),\n      team: editor.getTeam().get('name'),\n      to_clinician: clinician.get('name'),\n      to_team: this.model.getTeam().get('name'),\n      to_state: this.model.getState().get('name'),\n      program: program ? program.get('name') : null,\n      form: form ? form.get('name') : null,\n    };\n  },\n});\n\nconst ActivitiesView = CollectionView.extend({\n  childView(model) {\n    return (model.type === 'events') ? ActivityView : CommentView;\n  },\n  viewFilter({ model }) {\n    if (model.get('event_type') === 'ActionCreated' && this.model.get('_program_action')) return false;\n    return true;\n  },\n  viewComparator(viewA, viewB) {\n    return alphaSort('asc', this._getSortDate(viewA.model), this._getSortDate(viewB.model));\n  },\n  _getSortDate(model) {\n    if (model.get('date')) return model.get('date');\n\n    return model.get('created_at');\n  },\n});\n\nconst TimestampsView = View.extend({\n  className: 'sidebar__footer flex',\n  template: hbs`\n    <div class=\"sidebar__footer-left\"><h4 class=\"sidebar__label\">{{ @intl.patients.sidebar.action.activityViews.createdAt }}</h4><div>{{formatDateTime createdAt \"AT_TIME\"}}</div></div>\n    <div><h4 class=\"sidebar__label\">{{ @intl.patients.sidebar.action.activityViews.updatedAt }}</h4><div>{{formatDateTime updated_at \"AT_TIME\"}}</div></div>\n  `,\n  templateContext() {\n    return {\n      createdAt: this.getOption('createdEvent').get('date'),\n    };\n  },\n});\n\nexport {\n  ActivitiesView,\n  TimestampsView,\n};\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport dayjs from 'dayjs';\n\nimport App from 'js/base/app';\n\nimport { ACTION_SHARING } from 'js/static';\n\nimport { LayoutView } from 'js/views/patients/sidebar/action/action-sidebar_views';\nimport { CommentFormView } from 'js/views/patients/shared/comments_views';\nimport { ActivitiesView, TimestampsView } from 'js/views/patients/sidebar/action/action-sidebar-activity-views';\n\nexport default App.extend({\n  onBeforeStart({ action, isShowingForm }) {\n    this.action = action;\n\n    this.showView(new LayoutView({\n      action: this.action,\n      isShowingForm,\n    }));\n\n    if (!this.action.isNew()) this.getRegion('activity').startPreloader();\n  },\n  beforeStart() {\n    if (this.action.isNew()) return;\n\n    return [\n      Radio.request('entities', 'fetch:actionEvents:collection', this.action.id),\n      Radio.request('entities', 'fetch:comments:collection:byAction', this.action.id),\n    ];\n  },\n  onStart(options, [activity] = [], [comments] = []) {\n    if (this.action.isNew()) return;\n\n    this.activityCollection = new Backbone.Collection([...activity.models, ...comments.models]);\n    this.showActivity();\n    this.showNewCommentForm();\n  },\n  showActivity() {\n    this.showChildView('activity', new ActivitiesView({\n      collection: this.activityCollection,\n      model: this.action,\n    }));\n    const createdEvent = this.activityCollection.find({ event_type: 'ActionCreated' });\n\n    this.showChildView('timestamps', new TimestampsView({ model: this.action, createdEvent }));\n  },\n  showNewCommentForm() {\n    const clinician = Radio.request('bootstrap', 'currentUser');\n\n    const newCommentFormView = this.showChildView('comment', new CommentFormView({\n      model: Radio.request('entities', 'comments:model', {\n        _action: this.action.id,\n        _clinician: clinician.id,\n      }),\n    }));\n\n    this.listenTo(newCommentFormView, {\n      'post:comment': this.onPostNewComment,\n      'cancel:comment': this.onCancelNewComment,\n    });\n  },\n  viewEvents: {\n    'save': 'onSave',\n    'close': 'stop',\n    'delete': 'onDelete',\n    'click:form': 'onClickForm',\n    'click:share': 'onClickShare',\n    'click:cancelShare': 'onClickCancel',\n    'click:undoCancelShare': 'onClickUndoCancel',\n  },\n  onSave({ model }) {\n    if (model.isNew()) {\n      this.action.saveAll(model.attributes).done(() => {\n        Radio.trigger('event-router', 'patient:action', this.action.get('_patient'), this.action.id);\n      });\n      return;\n    }\n\n    this.action.save(model.pick('name', 'details'));\n  },\n  onDelete() {\n    this.action.destroy({ wait: true })\n      .done(() => {\n        this.stop();\n      })\n      .fail(({ responseJSON }) => {\n        Radio.request('alert', 'show:apiError', responseJSON);\n      });\n  },\n  onStop() {\n    this.action.trigger('editing', false);\n    if (this.action && this.action.isNew()) this.action.destroy();\n\n    Radio.request('sidebar', 'close');\n  },\n  onClickForm(form) {\n    Radio.trigger('event-router', 'form:patientAction', this.action.id, form.id);\n  },\n  onClickShare() {\n    this.action.save({ sharing: ACTION_SHARING.PENDING });\n  },\n  onClickCancel() {\n    this.action.save({ sharing: ACTION_SHARING.CANCELED });\n  },\n  onClickUndoCancel() {\n    this.action.save({ sharing: ACTION_SHARING.PENDING });\n  },\n  onPostNewComment({ model }) {\n    model.set({ created_at: dayjs.utc().format() }).save();\n    this.activityCollection.add(model);\n    this.showNewCommentForm();\n  },\n  onCancelNewComment() {\n    this.showNewCommentForm();\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport CheckComponent from './components/check_component';\nimport StateComponent from './components/state_component';\nimport OwnerComponent from './components/owner_component';\n\nconst i18n = intl.patients.shared.flowsViews;\n\nconst FlowStateComponent = StateComponent.extend({\n  onPicklistSelect({ model }) {\n    // Selected done\n    if (model.isDone() && this.getOption('flow')) {\n      this.shouldSelectDone(model);\n      return;\n    }\n\n    this.setSelectedStatus(model);\n  },\n  shouldSelectDone(model) {\n    const flow = this.getOption('flow');\n\n    if (flow.isAllDone()) {\n      this.setSelectedStatus(model);\n      return;\n    }\n\n    // We must hide the droplist before showing the modal\n    this.popRegion.empty();\n\n    if (Radio.request('bootstrap', 'currentOrg:setting', 'require_done_flow')) {\n      Radio.request('modal', 'show:small', {\n        bodyText: i18n.requireDoneModal.bodyText,\n        headingText: i18n.requireDoneModal.headingText,\n        submitText: i18n.requireDoneModal.submitText,\n        cancelText: false,\n        buttonClass: 'button--blue',\n      });\n      return;\n    }\n\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.doneModal.bodyText,\n      headingText: i18n.doneModal.headingText,\n      submitText: i18n.doneModal.submitText,\n      onSubmit: () => {\n        this.setSelectedStatus(model);\n        modal.destroy();\n      },\n    });\n  },\n  setSelectedStatus(model) {\n    this.setState('selected', model);\n    this.popRegion.empty();\n  },\n});\n\nexport {\n  CheckComponent,\n  FlowStateComponent,\n  OwnerComponent,\n};\n","import { bind, extend } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport intl from 'js/i18n';\n\nimport { animSidebar } from 'js/anim';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport { FlowStateComponent, OwnerComponent } from 'js/views/patients/shared/flows_views';\n\nimport FlowSidebarTemplate from './flow-sidebar.hbs';\n\nimport './flow-sidebar.scss';\n\nconst i18n = intl.patients.sidebar.flow.flowSidebarViews;\n\nconst TimestampsView = View.extend({\n  className: 'sidebar__footer flex',\n  template: hbs`\n    <div class=\"sidebar__footer-left\"><h4 class=\"sidebar__label\">{{ @intl.patients.sidebar.flow.flowSidebarViews.timestampsView.createdAt }}</h4><div>{{formatDateTime created_at \"AT_TIME\"}}</div></div>\n    <div><h4 class=\"sidebar__label\">{{ @intl.patients.sidebar.flow.flowSidebarViews.timestampsView.updatedAt }}</h4><div>{{formatDateTime updated_at \"AT_TIME\"}}</div></div>\n  `,\n});\n\nconst LayoutView = View.extend({\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n  },\n  className: 'sidebar flex-region',\n  template: FlowSidebarTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    activity: {\n      el: '[data-activity-region]',\n      regionClass: PreloadRegion,\n    },\n    timestamps: '[data-timestamps-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.layoutView.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{ @intl.patients.sidebar.flow.flowSidebarViews.layoutView.delete }}</span>`,\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  modelEvents: {\n    'change:_state'() {\n      this.showState();\n      this.showOwner();\n    },\n    'change:_owner': 'showOwner',\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showTimestamps();\n  },\n  showState() {\n    const stateComponent = new FlowStateComponent({\n      flow: this.model,\n      stateId: this.model.get('_state'),\n    });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isDone();\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      groups: this.model.getPatient().getGroups(),\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showTimestamps() {\n    this.showChildView('timestamps', new TimestampsView({ model: this.model }));\n  },\n});\n\nfunction getDeleteModal(opts) {\n  return extend({ buttonClass: 'button--red' }, i18n.deleteModal, opts);\n}\n\nexport {\n  getDeleteModal,\n  LayoutView,\n};\n","import hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport './flow-sidebar.scss';\n\nconst ProgramStartedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.programStarted\") name = name team = team program = program}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst ClinicianAssignedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.clinicianAssigned\") name = name team = team to_name = to_clinician}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst DetailsUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.detailsUpdated\") name = name team = team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst NameUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.nameUpdated\") name = name team = team to_name = value from_name = previous}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst TeamAssignedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.teamAssigned\") name = name team = team to_team = to_team}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst StateUpdatedTemplate = hbs`\n  {{formatHTMLMessage (intlGet \"patients.sidebar.flow.activityViews.stateUpdated\") name = name team = team to_state = to_state}}\n  <div>{{formatDateTime date \"AT_TIME\"}}</div>\n`;\n\nconst ActivityView = View.extend({\n  className: 'patient-flow-sidebar__activity-item',\n  getTemplate() {\n    const type = this.model.get('event_type');\n\n    const Templates = {\n      FlowProgramStarted: ProgramStartedTemplate,\n      FlowClinicianAssigned: ClinicianAssignedTemplate,\n      FlowDetailsUpdated: DetailsUpdatedTemplate,\n      FlowNameUpdated: NameUpdatedTemplate,\n      FlowTeamAssigned: TeamAssignedTemplate,\n      FlowRoleAssigned: TeamAssignedTemplate, // NOTE: Support for legacy event type\n      FlowStateUpdated: StateUpdatedTemplate,\n    };\n\n    if (!Templates[type]) return hbs``;\n\n    return Templates[type];\n  },\n  templateContext() {\n    const editor = this.model.getEditor();\n    const clinician = this.model.getClinician();\n    const program = this.model.getProgram();\n\n    return {\n      name: editor.get('name'),\n      team: editor.getTeam().get('name'),\n      program: (program) ? program.get('name') : null,\n      to_clinician: clinician.get('name'),\n      to_team: this.model.getTeam().get('name'),\n      to_state: this.model.getState().get('name'),\n    };\n  },\n});\n\nconst ActivitiesView = CollectionView.extend({\n  childView: ActivityView,\n});\n\nexport { ActivitiesView };\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { LayoutView, getDeleteModal } from 'js/views/patients/sidebar/flow/flow-sidebar_views';\nimport { ActivitiesView } from 'js/views/patients/sidebar/flow/flow-sidebar-activity-views';\n\nexport default App.extend({\n  onBeforeStart({ flow }) {\n    this.flow = flow;\n    this.flow.trigger('editing', true);\n\n    this.showView(new LayoutView({\n      model: this.flow,\n    }));\n\n    this.getRegion('activity').startPreloader();\n  },\n  beforeStart() {\n    return Radio.request('entities', 'fetch:flowEvents:collection', this.flow.id);\n  },\n  onStart(options, activity) {\n    this.showChildView('activity', new ActivitiesView({ collection: activity, model: this.flow }));\n  },\n  viewEvents: {\n    'close': 'stop',\n    'delete': 'onDelete',\n  },\n  onDelete() {\n    const modal = Radio.request('modal', 'show:small', getDeleteModal({\n      onSubmit: () => {\n        this.flow.destroy({ wait: true })\n          .done(() => {\n            Radio.trigger('event-router', 'patient:dashboard', this.flow.get('_patient'));\n          })\n          .fail(({ responseJSON }) => {\n            Radio.request('alert', 'show:apiError', responseJSON);\n          });\n        modal.destroy();\n      },\n    }));\n  },\n  onStop() {\n    this.flow.trigger('editing', false);\n    Radio.request('sidebar', 'close');\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/textarea-flex.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport keyCodes from 'js/utils/formatting/key-codes';\nimport removeNewline from 'js/utils/formatting/remove-newline';\nimport trim from 'js/utils/formatting/trim';\n\nimport { animSidebar } from 'js/anim';\n\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\n\nimport ProgramDetailsTemplate from './program-details.hbs';\nimport ProgramNameTemplate from './program-name.hbs';\nimport ProgramSidebarTemplate from './program-sidebar.hbs';\nimport ProgramStateTemplate from './program-state.hbs';\n\nimport './programs-sidebar.scss';\n\nconst { ENTER_KEY } = keyCodes;\n\nconst DisabledSaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`<button class=\"button--green\" disabled>{{ @intl.programs.sidebar.program.programsSidebarViews.disabledSaveView.saveBtn }}</button>`,\n});\n\nconst SaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`\n    <button class=\"button--green js-save\">{{ @intl.programs.sidebar.program.programsSidebarViews.saveView.saveBtn }}</button>\n    <button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.programs.sidebar.program.programsSidebarViews.saveView.cancelBtn }}</button>\n  `,\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-save': 'save',\n  },\n});\n\nconst NameView = View.extend({\n  template: ProgramNameTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchKeydown(evt) {\n    if (evt.which === ENTER_KEY) {\n      evt.preventDefault();\n      return;\n    }\n  },\n  onWatchChange(text) {\n    const newText = removeNewline(text);\n    this.ui.input.val(newText);\n    this.ui.spacer.text(newText || ' ');\n\n    this.model.set('name', newText);\n  },\n  templateContext() {\n    return {\n      error: this.getOption('error'),\n      isNew: this.model.isNew(),\n    };\n  },\n  onDomRefresh() {\n    if (this.model.isNew()) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst DetailsView = View.extend({\n  className: 'pos--relative',\n  template: ProgramDetailsTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchChange(text) {\n    this.ui.input.val(text);\n    this.ui.spacer.text(text || ' ');\n\n    this.model.set('details', trim(text));\n  },\n});\n\nconst StateView = View.extend({\n  template: ProgramStateTemplate,\n  triggers: {\n    'click .js-state-toggle': 'click:toggle',\n  },\n  modelEvents: {\n    'change:published': 'render',\n  },\n});\n\nconst TimestampsView = View.extend({\n  className: 'sidebar__footer flex',\n  template: hbs`\n    <div class=\"sidebar__footer-left\"><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.program.programsSidebarViews.timestampsView.createdAt }}</h4><div>{{formatDateTime created_at \"AT_TIME\"}}</div></div>\n    <div><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.program.programsSidebarViews.timestampsView.updatedAt }}</h4><div>{{formatDateTime updated_at \"AT_TIME\"}}</div></div>\n  `,\n});\n\nconst LayoutView = View.extend({\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n    'toggle': 'toggle',\n  },\n  className: 'sidebar flex-region',\n  template: ProgramSidebarTemplate,\n  regions: {\n    name: '[data-name-region]',\n    details: '[data-details-region]',\n    state: '[data-state-region]',\n    save: '[data-save-region]',\n    timestamps: '[data-timestamps-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n  },\n  initialize({ program }) {\n    this.program = program;\n    this.model = this.program.clone();\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onRender() {\n    this.showForm();\n    this.showState();\n    this.showTimestamps();\n  },\n  showForm() {\n    this.stopListening(this.model);\n    this.model = this.program.clone();\n    this.listenTo(this.model, 'change:name change:details', this.showSave);\n\n    if (this.model.isNew()) this.showDisabledSave();\n    else this.getRegion('save').empty();\n\n    this.showName();\n    this.showDetails();\n  },\n  showName(error) {\n    this.showChildView('name', new NameView({ model: this.model, program: this.program, error }));\n  },\n  showDetails() {\n    this.showChildView('details', new DetailsView({ model: this.model, program: this.program }));\n  },\n  showSave() {\n    if (!this.model.isValid()) return this.showDisabledSave();\n\n    this.showChildView('save', new SaveView({ model: this.model }));\n  },\n  showState() {\n    if (this.program.isNew()) return;\n    const stateView = new StateView({ model: this.program, program: this.program });\n\n    this.listenTo(stateView, 'click:toggle', () => {\n      this.program.save({ published: !this.program.get('published') });\n    });\n\n    this.showChildView('state', stateView);\n  },\n  showTimestamps() {\n    if (this.program.isNew()) return;\n    this.showChildView('timestamps', new TimestampsView({ model: this.program }));\n  },\n  showDisabledSave() {\n    this.showChildView('save', new DisabledSaveView());\n  },\n  onSave() {\n    if (this.model.isNew()) this.showDisabledSave();\n    else this.getRegion('save').empty();\n  },\n  showErrors({ name }) {\n    this.showName(name);\n    this.showDisabledSave();\n  },\n  onCancel() {\n    if (this.model.isNew()) {\n      this.triggerMethod('close', this);\n      return;\n    }\n\n    this.showForm();\n  },\n});\n\nexport {\n  LayoutView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { LayoutView } from 'js/views/programs/sidebar/program/programs-sidebar_views';\n\nexport default App.extend({\n  onBeforeStart({ program }) {\n    this.program = program;\n\n    this.showView(new LayoutView({\n      program: this.program,\n    }));\n  },\n  viewEvents: {\n    'save': 'onSave',\n    'close': 'stop',\n  },\n  onSave({ model }) {\n    const isNew = this.program.isNew();\n    this.program.save(model.pick('name', 'details'))\n      .then(() => {\n        if (isNew) Radio.request('sidebar', 'close');\n      }, ({ responseJSON }) => {\n        const errors = this.program.parseErrors(responseJSON);\n        this.getView().showErrors(errors);\n      });\n  },\n  onStop() {\n    if (this.program && this.program.isNew()) this.program.destroy();\n\n    Radio.request('sidebar', 'close');\n  },\n});\n","import { result } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport { PUBLISH_STATE_STATUS } from 'js/static';\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport 'scss/domain/program-action-state.scss';\n\nconst i18n = intl.programs.shared.components.publishedComponent;\n\nconst ButtonCompactTemplate = hbs`<span class=\"{{ className }}\">{{far icon}}</span>`;\n\nconst PublishedTemplate = hbs`<span class=\"{{ className }}\">{{far icon}}<span>{{ name }}</span></span>`;\n\nconst PublishedStates = [\n  {\n    id: PUBLISH_STATE_STATUS.DRAFT,\n    icon: 'pen-to-square',\n    className: 'program-action--draft',\n    name: i18n.draftText,\n  },\n  {\n    id: PUBLISH_STATE_STATUS.PUBLISHED,\n    icon: 'circle-play',\n    className: 'program-action--published',\n    name: i18n.publishedText,\n  },\n  {\n    id: PUBLISH_STATE_STATUS.CONDITIONAL,\n    icon: 'circle-pause',\n    className: 'program-action--conditional',\n    name: i18n.conditionalText,\n  },\n];\n\nexport default Droplist.extend({\n  isCompact: false,\n  initialize(options) {\n    this.mergeOptions(options, ['status', 'isPublishedDisabled', 'isConditionalAvailable']);\n\n    this.collection = new Backbone.Collection(PublishedStates);\n\n    if (!result(this, 'isConditionalAvailable')) this.collection.remove(PUBLISH_STATE_STATUS.CONDITIONAL);\n\n    this.setState({ selected: this.collection.get(this.status) });\n  },\n  // Overridden for flow component\n  isPublishDisabled: false,\n  isConditionalAvailable: true,\n  onChangeSelected(selected) {\n    this.triggerMethod('change:status', selected.id);\n  },\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n\n    return {\n      className: isCompact ? 'button-secondary--compact' : 'button-secondary w-100',\n      template: isCompact ? ButtonCompactTemplate : PublishedTemplate,\n    };\n  },\n  picklistOptions() {\n    const isDisabled = result(this, 'isPublishDisabled');\n\n    return {\n      headingText: i18n.headingText,\n      itemClassName() {\n        return isDisabled && this.model.id === PUBLISH_STATE_STATUS.PUBLISHED ? 'is-disabled' : '';\n      },\n      itemTemplate: PublishedTemplate,\n      infoText: isDisabled ? i18n.flowStatusInfoText : null,\n    };\n  },\n});\n","import { result } from 'underscore';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './team-component.scss';\n\nconst i18n = intl.shared.components.teamComponent;\n\nconst TeamItemTemplate = hbs`<div>{{matchText name query}} <span class=\"team-component__team\">{{matchText short query}}</span></div>`;\n\nlet teamsCollection;\n\nfunction getTeams() {\n  if (teamsCollection) return teamsCollection;\n  const currentOrg = Radio.request('bootstrap', 'currentOrg');\n  teamsCollection = currentOrg.getTeams();\n  return teamsCollection;\n}\n\nexport default Droplist.extend({\n  TeamItemTemplate,\n  isCompact: false,\n  defaultText() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : i18n.defaultText;\n  },\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  canClear: false,\n  picklistOptions() {\n    return {\n      canClear: this.getOption('canClear'),\n      itemTemplate: this.TeamItemTemplate,\n      isSelectlist: true,\n      headingText: i18n.headingText,\n      placeholderText: i18n.placeholderText,\n    };\n  },\n  viewOptions() {\n    const icon = { type: 'far', icon: 'circle-user' };\n    const defaultText = result(this, 'defaultText');\n\n    if (this.getOption('isCompact')) {\n      return {\n        className: 'button-secondary--compact',\n        templateContext: {\n          defaultText,\n          attr: 'short',\n          icon,\n        },\n      };\n    }\n\n    return {\n      className: 'button-secondary w-100',\n      templateContext: {\n        defaultText,\n        attr: 'name',\n        icon,\n      },\n    };\n  },\n  initialize({ team }) {\n    this.collection = getTeams();\n\n    this.setState({ selected: this.collection.get(team) });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:team', selected);\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport { PUBLISH_STATE_STATUS } from 'js/static';\n\nimport PublishedComponent from './components/published_component';\nimport TeamComponent from 'js/views/shared/components/team';\n\nconst FlowPublishedComponent = PublishedComponent.extend({\n  isPublishDisabled() {\n    const flow = this.getOption('flow');\n    const programActions = flow.getActions();\n    return !programActions.some({ status: PUBLISH_STATE_STATUS.PUBLISHED });\n  },\n  isConditionalAvailable: false,\n  onPicklistSelect({ model }) {\n    if (model.id === PUBLISH_STATE_STATUS.PUBLISHED && this.isPublishDisabled()) {\n      return;\n    }\n\n    this.setState('selected', model);\n    this.popRegion.empty();\n  },\n});\n\nlet teamsCollection;\n\nfunction getTeams() {\n  if (teamsCollection) return teamsCollection;\n  const currentOrg = Radio.request('bootstrap', 'currentOrg');\n  teamsCollection = currentOrg.getTeams();\n  return teamsCollection;\n}\n\nconst OwnerComponent = TeamComponent.extend({\n  canClear: true,\n  initialize({ owner }) {\n    this.collection = getTeams();\n\n    this.setState({ selected: owner });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:owner', selected);\n  },\n});\n\nexport {\n  FlowPublishedComponent,\n  OwnerComponent,\n};\n","import { bind, extend } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/forms.scss';\nimport 'scss/modules/textarea-flex.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport intl from 'js/i18n';\nimport keyCodes from 'js/utils/formatting/key-codes';\nimport removeNewline from 'js/utils/formatting/remove-newline';\nimport trim from 'js/utils/formatting/trim';\n\nimport { animSidebar } from 'js/anim';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\nimport Optionlist from 'js/components/optionlist';\nimport Tooltip from 'js/components/tooltip';\n\nimport { FlowPublishedComponent, OwnerComponent } from 'js/views/programs/shared/flows_views';\n\nimport FlowSidebarTemplate from './flow-sidebar.hbs';\nimport FlowNameTemplate from './flow-name.hbs';\nimport FlowDetailsTemplate from './flow-details.hbs';\n\nimport 'scss/domain/action-state.scss';\n\nconst i18n = intl.programs.sidebar.flow.flowSidebarViews;\n\nconst { ENTER_KEY } = keyCodes;\n\nconst DisabledSaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`<button class=\"button--green\" disabled>{{ @intl.programs.sidebar.flow.flowSidebarViews.disabledSaveView.saveBtn }}</button>`,\n});\n\nconst SaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`\n    <button class=\"button--green js-save\">{{ @intl.programs.sidebar.flow.flowSidebarViews.saveView.saveBtn }}</button>\n    <button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.programs.sidebar.flow.flowSidebarViews.saveView.cancelBtn }}</button>\n  `,\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-save': 'save',\n  },\n});\n\nconst NameView = View.extend({\n  className: 'pos--relative',\n  template: FlowNameTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchKeydown(evt) {\n    if (evt.which === ENTER_KEY) {\n      evt.preventDefault();\n      return;\n    }\n  },\n  onWatchChange(text) {\n    const newText = removeNewline(text);\n    this.ui.input.val(newText);\n    this.ui.spacer.text(newText || ' ');\n\n    this.model.set('name', newText);\n  },\n  templateContext() {\n    return {\n      isNew: this.model.isNew(),\n    };\n  },\n  onDomRefresh() {\n    if (this.model.isNew()) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst DetailsView = View.extend({\n  className: 'pos--relative',\n  template: FlowDetailsTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchChange(text) {\n    this.ui.input.val(text);\n    this.ui.spacer.text(text || ' ');\n\n    this.model.set('details', trim(text));\n  },\n});\n\nconst StateView = View.extend({\n  className() {\n    if (this.model.isNew()) return 'button-secondary w-100 is-disabled';\n    return 'button-secondary w-100';\n  },\n  template: hbs`<span class=\"action--{{ stateOptions.color }}\">{{fa stateOptions.iconType stateOptions.icon}}<span>{{ @intl.programs.sidebar.flow.flowSidebarViews.stateView.label }}</span></span>`,\n  templateContext() {\n    const currentOrg = Radio.request('bootstrap', 'currentOrg');\n    const states = currentOrg.getStates();\n    const defaultState = states.at(0);\n\n    return {\n      stateOptions: defaultState.get('options'),\n    };\n  },\n  onRender() {\n    if (this.model.isNew()) return;\n\n    new Tooltip({\n      message: i18n.stateView.tooltip,\n      uiView: this,\n      ui: this.$el,\n    });\n  },\n});\n\nconst TimestampsView = View.extend({\n  className: 'sidebar__footer flex',\n  template: hbs`\n    <div class=\"sidebar__footer-left\"><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.flow.flowSidebarViews.timestampsView.createdAt }}</h4><div>{{formatDateTime created_at \"AT_TIME\"}}</div></div>\n    <div><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.flow.flowSidebarViews.timestampsView.updatedAt }}</h4><div>{{formatDateTime updated_at \"AT_TIME\"}}</div></div>\n  `,\n});\n\nconst LayoutView = View.extend({\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n  },\n  className: 'sidebar flex-region',\n  template: FlowSidebarTemplate,\n  regions: {\n    name: '[data-name-region]',\n    details: '[data-details-region]',\n    published: '[data-published-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    save: '[data-save-region]',\n    timestamps: '[data-timestamps-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: intl.programs.sidebar.flow.layoutView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{ @intl.programs.sidebar.flow.layoutView.menuOptions.delete }}</span>`,\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  templateContext() {\n    return {\n      isNew: this.model.isNew(),\n    };\n  },\n  initialize({ flow }) {\n    this.flow = flow;\n    this.model = this.flow.clone();\n    this.listenTo(this.flow, {\n      'change:status': this.onChangeFlowStatus,\n      'change:_owner': this.onChangeOwner,\n    });\n  },\n  onChangeFlowStatus() {\n    this.showPublished();\n  },\n  onChangeOwner() {\n    this.showOwner();\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onRender() {\n    this.showFlow();\n    this.showTimestamps();\n  },\n  showFlow() {\n    this.showForm();\n    this.showPublished();\n    this.showState();\n    this.showOwner();\n  },\n  showForm() {\n    this.stopListening(this.model);\n    this.model = this.flow.clone();\n    this.listenTo(this.model, 'change:name change:details', this.showSave);\n\n    if (this.model.isNew()) this.showDisabledSave();\n    else this.getRegion('save').empty();\n\n    this.showName();\n    this.showDetails();\n  },\n  showName() {\n    this.showChildView('name', new NameView({ model: this.model, flow: this.flow }));\n  },\n  showDetails() {\n    this.showChildView('details', new DetailsView({ model: this.model, flow: this.flow }));\n  },\n  showPublished() {\n    const isDisabled = this.flow.isNew();\n    const publishedComponent = new FlowPublishedComponent({ flow: this.flow, status: this.flow.get('status'), state: { isDisabled } });\n\n    this.listenTo(publishedComponent, 'change:status', status => {\n      this.flow.save({ status });\n    });\n\n    this.showChildView('published', publishedComponent);\n  },\n  showState() {\n    this.showChildView('state', new StateView({ model: this.flow }));\n  },\n  showOwner() {\n    const isDisabled = this.flow.isNew();\n    const ownerComponent = new OwnerComponent({ owner: this.flow.getOwner(), state: { isDisabled } });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.flow.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showTimestamps() {\n    if (this.flow.isNew()) return;\n    this.showChildView('timestamps', new TimestampsView({ model: this.flow }));\n  },\n  showSave() {\n    if (!this.model.isValid()) return this.showDisabledSave();\n\n    this.showChildView('save', new SaveView({ model: this.model }));\n  },\n  showDisabledSave() {\n    this.showChildView('save', new DisabledSaveView());\n  },\n  onSave() {\n    this.getRegion('save').empty();\n  },\n  onCancel() {\n    if (this.model.isNew()) {\n      this.triggerMethod('close', this);\n      return;\n    }\n\n    this.showForm();\n  },\n});\n\nfunction getDeleteModal(opts) {\n  return extend({ buttonClass: 'button--red' }, i18n.deleteModal, opts);\n}\n\nexport {\n  getDeleteModal,\n  LayoutView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { LayoutView, getDeleteModal } from 'js/views/programs/sidebar/flow/flow-sidebar_views';\n\nexport default App.extend({\n  onBeforeStart({ flow }) {\n    this.flow = flow;\n    this.flow.trigger('editing', true);\n\n    this.showView(new LayoutView({\n      flow: this.flow,\n    }));\n  },\n  viewEvents: {\n    'save': 'onSave',\n    'close': 'stop',\n    'delete': 'onDelete',\n  },\n  onSave({ model }) {\n    if (model.isNew()) {\n      this.flow.saveAll(model.attributes).done(() => {\n        Radio.trigger('event-router', 'programFlow', this.flow.id);\n      });\n      return;\n    }\n\n    this.flow.save(model.pick('name', 'details'));\n  },\n  onDelete() {\n    const modal = Radio.request('modal', 'show:small', getDeleteModal({\n      onSubmit: () => {\n        this.flow.destroy({ wait: true })\n          .done(() => {\n            Radio.trigger('event-router', 'program:details', this.flow.get('_program'));\n          })\n          .fail(({ responseJSON }) => {\n            Radio.request('alert', 'show:apiError', responseJSON);\n          });\n\n        modal.destroy();\n      },\n    }));\n  },\n  onStop() {\n    if (this.flow && this.flow.isNew()) this.flow.destroy();\n    this.flow.trigger('editing', false);\n    Radio.request('sidebar', 'close');\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './form-component.scss';\n\nconst i18n = intl.programs.shared.components.formComponent;\n\nconst FormTemplate = hbs`\n  <button class=\"js-button button-secondary button__group flex-grow\" {{#if isDisabled}}disabled{{/if}}>\n    {{far \"square-poll-horizontal\"}}<span>{{ name }}</span>\n  </button><button class=\"js-click-form button button__group form-component__form-button\" {{#if isDisabled}}disabled{{/if}}>{{far \"up-right-and-down-left-from-center\"}}</button>\n`;\nconst NoFormTemplate = hbs`\n  <button class=\"js-button button-secondary w-100\" {{#if isDisabled}}disabled{{/if}}>\n    {{far \"square-poll-horizontal\"}}<span>{{ @intl.programs.shared.components.formComponent.defaultText }}</span>\n  </button>\n`;\n\nlet formsCollection;\n\nfunction getForms() {\n  if (formsCollection) return formsCollection;\n  const currentOrg = Radio.request('bootstrap', 'currentOrg');\n  formsCollection = currentOrg.getForms();\n  const formModels = formsCollection.reject({ published_at: null });\n  formsCollection.reset(formModels);\n  return formsCollection;\n}\n\nexport default Droplist.extend({\n  viewOptions() {\n    const selected = this.getState('selected');\n    return {\n      className: 'flex',\n      template: selected ? FormTemplate : NoFormTemplate,\n      templateContext() {\n        return {\n          isDisabled: this.getOption('state').isDisabled,\n        };\n      },\n      tagName: 'div',\n      triggers: {\n        'click .js-button': 'click',\n        'focus .js-button': 'focus',\n        'click .js-click-form': 'click:form',\n      },\n    };\n  },\n  viewEvents: {\n    'click': 'onClick',\n    'click:form': 'onViewClickForm',\n  },\n  onViewClickForm() {\n    this.triggerMethod('click:form', this.getState('selected'));\n  },\n  picklistOptions: {\n    canClear: true,\n    headingText: i18n.headingText,\n    placeholderText: i18n.placeholderText,\n    noResultsText: i18n.noResultsText,\n    isSelectlist: true,\n    itemTemplateContext: {\n      icon: {\n        type: 'far',\n        icon: 'square-poll-horizontal',\n      },\n    },\n    attr: 'name',\n  },\n  initialize({ form }) {\n    this.collection = getForms();\n\n    this.setState({ selected: form });\n  },\n  popWidth() {\n    return this.getView().$el.outerWidth();\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:form', selected);\n  },\n});\n","import { map, range } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nconst i18n = intl.programs.shared.components.dueDayComponent;\n\nconst days = map(range(366), function(day) {\n  return { id: day };\n});\n\nconst SameDayTemplate = hbs`{{far \"stopwatch\"}}<span>{{ @intl.programs.shared.components.dueDayComponent.sameDay }}</span>`;\n\nconst NoDayCompactTemplate = hbs`{{far \"stopwatch\"}}`;\n\nconst NoDayTemplate = hbs`{{far \"stopwatch\"}}<span>{{ @intl.programs.shared.components.dueDayComponent.defaultText }}</span>`;\n\nconst DueDayTemplate = hbs`{{far \"stopwatch\"}}<span>{{formatMessage  (intlGet \"programs.shared.components.dueDayComponent.days\") day=id}}</span>`;\n\nconst itemTemplate = hbs`{{formatMessage  (intlGet \"programs.shared.components.dueDayComponent.days\") day=id}}`;\n\nexport default Droplist.extend({\n  collection: new Backbone.Collection(days),\n  isCompact: false,\n  getTemplate(day, isCompact) {\n    if (day === 0) {\n      return SameDayTemplate;\n    }\n\n    if (!day && isCompact) {\n      return NoDayCompactTemplate;\n    }\n\n    return day ? DueDayTemplate : NoDayTemplate;\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n    const selected = this.getState('selected');\n    const day = selected ? selected.id : null;\n\n    return {\n      className: isCompact ? 'button-secondary--compact' : 'button-secondary w-100',\n      template: this.getTemplate(day, isCompact),\n    };\n  },\n  picklistOptions: {\n    canClear: true,\n    headingText: i18n.headingText,\n    placeholderText: i18n.placeholderText,\n    isSelectlist: true,\n    itemTemplate,\n  },\n  initialize({ day }) {\n    const selected = this.collection.get(day);\n\n    this.setState({ selected });\n  },\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  onChangeSelected(selected) {\n    const day = selected ? selected.id : null;\n\n    this.triggerMethod('change:day', day);\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport FormComponent from './components/form_component';\nimport TeamComponent from 'js/views/shared/components/team';\nimport DueDayComponent from './components/dueday_component';\nimport PublishedComponent from './components/published_component';\n\nlet teamsCollection;\n\nfunction getTeams() {\n  if (teamsCollection) return teamsCollection;\n  const currentOrg = Radio.request('bootstrap', 'currentOrg');\n  teamsCollection = currentOrg.getTeams();\n  return teamsCollection;\n}\n\nconst OwnerComponent = TeamComponent.extend({\n  canClear: true,\n  initialize({ owner, isFromFlow }) {\n    this.collection = getTeams();\n\n    if (isFromFlow) this.defaultText = intl.programs.shared.actionsView.ownerComponent.defaultText;\n\n    this.setState({ selected: owner });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:owner', selected);\n  },\n});\n\nexport {\n  FormComponent,\n  OwnerComponent,\n  DueDayComponent,\n  PublishedComponent,\n};\n","import { bind } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/forms.scss';\nimport 'scss/modules/textarea-flex.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport intl from 'js/i18n';\nimport keyCodes from 'js/utils/formatting/key-codes';\nimport removeNewline from 'js/utils/formatting/remove-newline';\nimport trim from 'js/utils/formatting/trim';\n\nimport { animSidebar } from 'js/anim';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\nimport Optionlist from 'js/components/optionlist';\nimport Tooltip from 'js/components/tooltip';\n\nimport { PublishedComponent, OwnerComponent, DueDayComponent, FormComponent } from 'js/views/programs/shared/actions_views';\n\nimport ActionSidebarTemplate from './action-sidebar.hbs';\nimport ActionNameTemplate from './action-name.hbs';\nimport ActionDetailsTemplate from './action-details.hbs';\n\nimport 'scss/domain/action-state.scss';\n\nconst { ENTER_KEY } = keyCodes;\n\nconst DisabledSaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`<button class=\"button--green\" disabled>{{ @intl.programs.sidebar.action.actionSidebarViews.disabledSaveView.saveBtn }}</button>`,\n});\n\nconst SaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`\n    <button class=\"button--green js-save\">{{ @intl.programs.sidebar.action.actionSidebarViews.saveView.saveBtn }}</button>\n    <button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.programs.sidebar.action.actionSidebarViews.saveView.cancelBtn }}</button>\n  `,\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-save': 'save',\n  },\n});\n\nconst NameView = View.extend({\n  className: 'pos--relative',\n  template: ActionNameTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchKeydown(evt) {\n    if (evt.which === ENTER_KEY) {\n      evt.preventDefault();\n      return;\n    }\n  },\n  onWatchChange(text) {\n    const newText = removeNewline(text);\n    this.ui.input.val(newText);\n    this.ui.spacer.text(newText || ' ');\n\n    this.model.set('name', newText);\n  },\n  templateContext() {\n    return {\n      isNew: this.model.isNew(),\n    };\n  },\n  onDomRefresh() {\n    if (this.model.isNew()) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst DetailsView = View.extend({\n  className: 'pos--relative',\n  template: ActionDetailsTemplate,\n  behaviors: [InputWatcherBehavior],\n  ui: {\n    input: '.js-input',\n    spacer: '.js-spacer',\n  },\n  onWatchChange(text) {\n    this.ui.input.val(text);\n    this.ui.spacer.text(text || ' ');\n\n    this.model.set('details', trim(text));\n  },\n});\n\nconst StateView = View.extend({\n  className() {\n    if (this.model.isNew()) return 'button-secondary w-100 is-disabled';\n    return 'button-secondary w-100';\n  },\n  template: hbs`<span class=\"action--{{ stateOptions.color }}\">{{fa stateOptions.iconType stateOptions.icon}}<span>{{ @intl.programs.sidebar.action.actionSidebarViews.stateView.label }}</span></span>`,\n  templateContext() {\n    const currentOrg = Radio.request('bootstrap', 'currentOrg');\n    const states = currentOrg.getStates();\n    const defaultState = states.at(0);\n\n    return {\n      stateOptions: defaultState.get('options'),\n    };\n  },\n  onRender() {\n    if (this.model.isNew()) return;\n\n    new Tooltip({\n      message: intl.programs.sidebar.action.actionSidebarViews.stateView.tooltip,\n      uiView: this,\n      ui: this.$el,\n    });\n  },\n});\n\nconst TimestampsView = View.extend({\n  className: 'sidebar__footer flex',\n  template: hbs`\n    <div class=\"sidebar__footer-left\"><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.action.actionSidebarViews.timestampsView.createdAt }}</h4><div>{{formatDateTime created_at \"AT_TIME\"}}</div></div>\n    <div><h4 class=\"sidebar__label\">{{ @intl.programs.sidebar.action.actionSidebarViews.timestampsView.updatedAt }}</h4><div>{{formatDateTime updated_at \"AT_TIME\"}}</div></div>\n  `,\n});\n\nconst HeadingView = View.extend({\n  getTemplate() {\n    if (this.model.hasOutreach()) {\n      return hbs`{{ @intl.programs.sidebar.action.actionSidebarViews.headingView.headingOutreachText }}`;\n    }\n    return hbs`{{ @intl.programs.sidebar.action.actionSidebarViews.headingView.headingText }}`;\n  },\n});\n\nconst FormSharingButtonView = View.extend({\n  tagName: 'button',\n  className: 'button--blue w-100 u-text-align--center',\n  attributes() {\n    return {\n      disabled: this.getOption('isDisabled'),\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  template: hbs`{{far \"share-from-square\"}} {{ @intl.programs.sidebar.action.actionSidebarViews.formSharingButtonView.buttonText }}`,\n});\n\nconst FormSharingView = View.extend({\n  className: 'sidebar__dialog',\n  triggers: {\n    'click .js-disable': 'click',\n  },\n  template: hbs`\n    <div class=\"flex\">\n      <h3 class=\"sidebar__heading flex-grow\">{{far \"share-from-square\" classes=\"u-margin--r-8\"}}{{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.label }}</h3>\n      <button class=\"button--link js-disable\">{{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.disableButtonText }}</button>\n    </div>\n    <div class=\"flex u-margin--t-16\">\n      <h4 class=\"sidebar__label--inset u-margin--t-8\">{{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.recipientLabel }}</h4>\n      <div class=\"flex-grow\"><button class=\"button-secondary w-100\" disabled>{{far \"user-plus\"}} {{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.recipientDefault }}</button></div>\n    </div>\n    <div class=\"flex u-margin--t-8\">\n      <h4 class=\"sidebar__label--inset u-margin--t-8\">{{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.whenLabel }}</h4>\n      <div class=\"flex-grow\"><button class=\"button-secondary w-100\" disabled>{{far \"stopwatch\"}} {{ @intl.programs.sidebar.action.actionSidebarViews.formSharingView.whenDefault }}</button></div>\n    </div>\n  `,\n});\n\nconst LayoutView = View.extend({\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n  },\n  className: 'sidebar flex-region',\n  template: ActionSidebarTemplate,\n  regions: {\n    heading: '[data-heading-region]',\n    name: '[data-name-region]',\n    details: '[data-details-region]',\n    published: '[data-published-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    due: '[data-due-region]',\n    form: '[data-form-region]',\n    formSharing: '[data-form-sharing-region]',\n    save: '[data-save-region]',\n    timestamps: '[data-timestamps-region]',\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: intl.programs.sidebar.action.layoutView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{ @intl.programs.sidebar.action.layoutView.menuOptions.delete }}</span>`,\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  templateContext() {\n    return {\n      isNew: this.model.isNew(),\n    };\n  },\n  initialize({ action }) {\n    this.action = action;\n    this.model = this.action.clone();\n    this.listenTo(this.action, {\n      'change:_form change:outreach': this.showHeading,\n      'change:status': this.onChangeActionStatus,\n      'change:_owner': this.onChangeOwner,\n      'change:days_until_due': this.onChangeDueDay,\n    });\n  },\n  onChangeActionStatus() {\n    this.showPublished();\n  },\n  onChangeOwner() {\n    this.showOwner();\n  },\n  onChangeDueDay() {\n    this.showDueDay();\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onRender() {\n    this.showHeading();\n    this.showAction();\n    this.showTimestamps();\n  },\n  showHeading() {\n    this.showChildView('heading', new HeadingView({ model: this.action }));\n  },\n  showAction() {\n    this.showEditForm();\n    this.showPublished();\n    this.showState();\n    this.showOwner();\n    this.showDueDay();\n    this.showForm();\n  },\n  showEditForm() {\n    this.stopListening(this.model);\n    this.model = this.action.clone();\n    this.listenTo(this.model, 'change:name change:details', this.showSave);\n\n    if (this.model.isNew()) this.showDisabledSave();\n    else this.getRegion('save').empty();\n\n    this.showName();\n    this.showDetails();\n  },\n  showName() {\n    this.showChildView('name', new NameView({ model: this.model, action: this.action }));\n  },\n  showDetails() {\n    this.showChildView('details', new DetailsView({ model: this.model, action: this.action }));\n  },\n  showPublished() {\n    const isDisabled = this.action.isNew();\n    const isFromFlow = !!this.action.get('_program_flow');\n    const publishedComponent = new PublishedComponent({\n      isConditionalAvailable: isFromFlow,\n      status: this.action.get('status'),\n      state: { isDisabled },\n    });\n\n    this.listenTo(publishedComponent, 'change:status', status => {\n      this.action.save({ status });\n    });\n\n    this.showChildView('published', publishedComponent);\n  },\n  showState() {\n    this.showChildView('state', new StateView({ model: this.action }));\n  },\n  showOwner() {\n    const isDisabled = this.action.isNew();\n    const isFromFlow = !!this.action.get('_program_flow');\n    const ownerComponent = new OwnerComponent({ owner: this.action.getOwner(), isFromFlow, state: { isDisabled } });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.action.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDay() {\n    const isDisabled = this.action.isNew();\n    const dueDayComponent = new DueDayComponent({ day: this.action.get('days_until_due'), state: { isDisabled } });\n\n    this.listenTo(dueDayComponent, 'change:day', day => {\n      this.action.save({ days_until_due: day });\n    });\n\n    this.showChildView('due', dueDayComponent);\n  },\n  showForm() {\n    const isDisabled = this.action.isNew();\n    const formComponent = new FormComponent({ form: this.action.getForm(), state: { isDisabled } });\n\n    this.listenTo(formComponent, {\n      'change:form'(form) {\n        this.action.saveForm(form);\n      },\n      'click:form'(form) {\n        this.triggerMethod('click:form', form);\n      },\n    });\n\n    this.showChildView('form', formComponent);\n  },\n  showTimestamps() {\n    if (this.action.isNew()) return;\n    this.showChildView('timestamps', new TimestampsView({ model: this.action }));\n  },\n  showSave() {\n    if (!this.model.isValid()) return this.showDisabledSave();\n\n    this.showChildView('save', new SaveView({ model: this.model }));\n  },\n  showDisabledSave() {\n    this.showChildView('save', new DisabledSaveView());\n  },\n  onSave() {\n    this.getRegion('save').empty();\n  },\n  onCancel() {\n    if (this.model.isNew()) {\n      this.triggerMethod('close', this);\n      return;\n    }\n\n    this.showEditForm();\n  },\n});\n\nexport {\n  LayoutView,\n  FormSharingButtonView,\n  FormSharingView,\n};\n","import Radio from 'backbone.radio';\n\nimport { ACTION_OUTREACH } from 'js/static';\n\nimport App from 'js/base/app';\n\nimport { LayoutView, FormSharingButtonView, FormSharingView } from 'js/views/programs/sidebar/action/action-sidebar_views';\n\nexport default App.extend({\n  onBeforeStart({ action }) {\n    this.action = action;\n\n    this.showView(new LayoutView({\n      action: this.action,\n    }));\n  },\n  onStart() {\n    this.showFormSharing();\n\n    this.listenTo(this.action, 'change:_form change:outreach', this.showFormSharing);\n  },\n  showFormSharing() {\n    if (!Radio.request('bootstrap', 'currentOrg:setting', 'care_team_outreach')) return;\n\n    const form = this.action.getForm();\n\n    if (!form) {\n      this.showChildView('formSharing', new FormSharingButtonView({ isDisabled: true }));\n      return;\n    }\n\n    if (!this.action.hasOutreach()) {\n      const button = new FormSharingButtonView();\n\n      this.listenTo(button, 'click', () => {\n        this.action.save({ outreach: 'patient' });\n      });\n\n      this.showChildView('formSharing', button);\n      return;\n    }\n\n    const formSharingView = new FormSharingView();\n\n    this.listenTo(formSharingView, 'click', () => {\n      this.action.save({ outreach: ACTION_OUTREACH.DISABLED });\n    });\n\n    this.showChildView('formSharing', formSharingView);\n  },\n  viewEvents: {\n    'save': 'onSave',\n    'close': 'stop',\n    'delete': 'onDelete',\n    'click:form': 'onClickForm',\n  },\n  onSave({ model }) {\n    if (model.isNew()) {\n      this.action.saveAll(model.attributes)\n        .done(() => {\n          const flowId = this.action.get('_program_flow');\n\n          if (flowId) {\n            Radio.trigger('event-router', 'programFlow:action', flowId, this.action.id);\n            return;\n          }\n\n          Radio.trigger('event-router', 'program:action', this.action.get('_program'), this.action.id);\n        });\n      return;\n    }\n\n    this.action.save(model.pick('name', 'details'));\n  },\n  onDelete() {\n    this.action.destroy({ wait: true })\n      .done(() => {\n        this.stop();\n      })\n      .fail(({ responseJSON }) => {\n        Radio.request('alert', 'show:apiError', responseJSON);\n      });\n  },\n  onStop() {\n    this.action.trigger('editing', false);\n    if (this.action && this.action.isNew()) this.action.destroy();\n\n    Radio.request('sidebar', 'close');\n  },\n  onClickForm(form) {\n    Radio.trigger('event-router', 'form:preview', form.id);\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './role-component.scss';\n\nconst i18n = intl.clinicians.shared.components.roleComponent;\n\nconst ItemTemplate = hbs`<div><div>{{ label }}</div><div class=\"role-component__details\">{{ description }}</div></div>`;\n\nexport default Droplist.extend({\n  isCompact: false,\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  picklistOptions: {\n    headingText: i18n.headingText,\n    itemTemplate: ItemTemplate,\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n\n    return {\n      className: isCompact ? 'button-secondary' : 'button-secondary w-100',\n      templateContext: {\n        attr: 'label',\n        defaultText: i18n.defaultText,\n        icon: {\n          type: 'far',\n          icon: 'shield',\n        },\n      },\n    };\n  },\n  initialize({ role }) {\n    this.collection = Radio.request('bootstrap', 'currentOrg:roles');\n    this.setState({ selected: role });\n  },\n  onChangeSelected(selected) {\n    this.triggerMethod('change:role', selected);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { CollectionView, View } from 'marionette';\n\nimport Droplist from 'js/components/droplist';\n\nimport './groups-manager.scss';\n\nconst GroupsItemView = View.extend({\n  tagName: 'li',\n  className() {\n    if (this.getOption('isDisabled')) return 'groups-manager__item is-disabled';\n\n    return 'groups-manager__item';\n  },\n  template: hbs`{{far \"users\"}}<span>{{name}}</span>{{#unless isDisabled}}<button class=\"button--icon groups-manager__remove js-remove\">{{far \"trash-can\"}}</button>{{/unless}}`,\n  templateContext() {\n    return {\n      isDisabled: this.getOption('isDisabled'),\n    };\n  },\n  triggers: {\n    'click .js-remove': 'remove',\n  },\n});\n\nconst GroupsListView = CollectionView.extend({\n  tagName: 'ul',\n  childView: GroupsItemView,\n  childViewOptions() {\n    return {\n      isDisabled: this.getOption('isDisabled'),\n    };\n  },\n  childViewTriggers: {\n    'remove': 'remove',\n  },\n  onRemove(child) {\n    this.triggerMethod('remove:member', child.model);\n  },\n});\n\nconst GroupsDropList = Droplist.extend({\n  initialize() {\n    this.listenTo(this.collection, 'update', this.show);\n  },\n  popWidth() {\n    return this.getView().$el.outerWidth();\n  },\n  viewOptions: {\n    className: 'button-secondary groups-manager__droplist',\n    template: hbs`{{far \"users\"}}<span>{{ @intl.shared.components.groupsManager.groupsDroplist.addGroup }}</span>`,\n  },\n  picklistOptions: {\n    attr: 'name',\n  },\n  onShow() {\n    const isDisabled = this.getOption('isDisabled');\n\n    this.setState({ isDisabled: isDisabled || this.collection.length === 0 });\n  },\n  onPicklistSelect({ model }) {\n    this.triggerMethod('add:member', model);\n    this.popRegion.empty();\n  },\n});\n\nexport default View.extend({\n  className: 'groups-manager__wrapper',\n  template: hbs`\n    <div data-groups-region></div>\n    <div data-droplist-region></div>\n  `,\n  regions: {\n    groups: '[data-groups-region]',\n    droplist: '[data-droplist-region]',\n  },\n  initialize({ member }) {\n    this.currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.member = member;\n    this.memberGroups = this.member.getGroups();\n    this.groups = this.currentClinician.getGroups();\n\n    this.groups.remove(this.memberGroups.models);\n  },\n  onRender() {\n    this.showGroups();\n    this.showDroplist();\n  },\n  showGroups() {\n    const groupsView = this.showChildView('groups', new GroupsListView({\n      collection: this.memberGroups,\n      isDisabled: this.getOption('isDisabled'),\n    }));\n\n    this.listenTo(groupsView, 'remove:member', this.removeMemberGroup);\n  },\n  showDroplist() {\n    if (this.getOption('isDisabled')) return;\n\n    const droplist = this.showChildView('droplist', new GroupsDropList({\n      collection: this.groups,\n      ...this.getOption('droplistOptions'),\n    }));\n\n    this.listenTo(droplist, 'add:member', this.addMemberGroup);\n  },\n  addMemberGroup(group) {\n    this.memberGroups.add(group);\n    this.groups.remove(group);\n    this.triggerMethod('add:member', this.member, group);\n  },\n  removeMemberGroup(group) {\n    this.memberGroups.remove(group);\n    this.groups.add(group);\n    this.triggerMethod('remove:member', this.member, group);\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport Backbone from 'backbone';\n\nimport RoleComponent from './components/role_component';\nimport TeamComponent from 'js/views/shared/components/team';\nimport GroupsManagerComponent from 'js/views/shared/components/groups-manager';\n\nimport intl, { renderTemplate } from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport './clinician-state.scss';\n\nconst i18n = intl.clinicians.shared.clinicianViews;\n\nconst GroupsComponent = GroupsManagerComponent.extend({\n  removeMemberGroup(group) {\n    if (this.member.isNew()) {\n      this.memberGroups.remove(group);\n      this.triggerMethod('remove:member', this.member, group);\n      return;\n    }\n\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: renderTemplate(hbs`{{formatMessage (intlGet \"clinicians.shared.clinicianViews.groupsComponent.removeModal.bodyText\") group=group team=team}}`, {\n        group: group.get('name'),\n        team: this.member.getTeam().get('name'),\n      }),\n      headingText: i18n.groupsComponent.removeModal.headingText,\n      submitText: i18n.groupsComponent.removeModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.memberGroups.remove(group);\n        this.groups.add(group);\n        this.triggerMethod('remove:member', this.member, group);\n      },\n    });\n  },\n});\n\nconst ActiveState = {\n  id: 'enabled',\n  state: 'active',\n  icon: {\n    type: 'fas',\n    icon: 'circle-check',\n  },\n  name: i18n.stateComponent.active,\n};\n\nconst PendingState = {\n  id: 'enabled',\n  state: 'pending',\n  icon: {\n    type: 'fas',\n    icon: 'circle-half-stroke',\n  },\n  name: i18n.stateComponent.pending,\n};\n\nconst DisabledState = {\n  id: 'disabled',\n  state: 'disabled',\n  icon: {\n    type: 'far',\n    icon: 'circle-minus',\n  },\n  name: i18n.stateComponent.disabled,\n};\n\nconst StateCompactTemplate = hbs`<span class=\"clinician-state--{{ state }}\">{{fa icon.type icon.icon}}</span>`;\n\nconst StateTemplate = hbs`<span class=\"clinician-state--{{ state }}\">{{fa icon.type icon.icon}}<span>{{ name }}</span></span>`;\n\nconst StateComponent = Droplist.extend({\n  isCompact: false,\n  popWidth() {\n    const isCompact = this.getOption('isCompact');\n\n    return isCompact ? null : this.getView().$el.outerWidth();\n  },\n  picklistOptions() {\n    return {\n      itemTemplate: StateTemplate,\n      headingText: i18n.stateComponent.headingText,\n    };\n  },\n  viewOptions() {\n    const isCompact = this.getOption('isCompact');\n    return {\n      className: isCompact ? 'button-secondary--compact' : 'button-secondary w-100',\n      template: isCompact ? StateCompactTemplate : StateTemplate,\n    };\n  },\n  initialize({ selectedId, isActive }) {\n    this.collection = new Backbone.Collection([isActive ? ActiveState : PendingState, DisabledState]);\n    this.setState('selected', this.collection.get(selectedId));\n  },\n});\n\nexport {\n  RoleComponent,\n  GroupsComponent,\n  TeamComponent,\n  StateComponent,\n};\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/forms.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport { animSidebar } from 'js/anim';\n\nimport { GroupsComponent, TeamComponent, RoleComponent, StateComponent } from 'js/views/clinicians/shared/clinicians_views';\n\nimport ClinicianSidebarTemplate from './clinician-sidebar.hbs';\n\nimport './clinician-sidebar.scss';\n\nconst NameView = View.extend({\n  className: 'pos--relative',\n  template: hbs`\n    <input class=\"input-primary w-100 js-input{{#if error}} has-error{{/if}}\" placeholder=\"{{ @intl.clinicians.sidebar.clinicianSidebarViews.nameView.placeholder }}\" value=\"{{ name }}\" {{#unless canEdit}}disabled{{/unless}} />{{~ remove_whitespace ~}}\n    {{#unless canEdit}}<span class=\"clinician-sidebar__locked-icon\">{{far \"lock\"}}</span>{{/unless}}\n    {{#if error}}<div class=\"form-error u-margin--b-4\">{{ error }}</div>{{/if}}\n  `,\n  templateContext() {\n    return {\n      canEdit: this.model.isEditable(),\n      error: this.getOption('error'),\n    };\n  },\n  ui: {\n    input: '.js-input',\n  },\n  events: {\n    'input @ui.input': 'onInput',\n  },\n  onInput(evt) {\n    this.model.set('name', evt.target.value);\n  },\n});\n\nconst EmailView = View.extend({\n  className: 'pos--relative',\n  template: hbs`\n    <input class=\"input-primary w-100 js-input{{#if error}} has-error{{/if}}\" placeholder=\"{{ @intl.clinicians.sidebar.clinicianSidebarViews.emailView.placeholder }}\" value=\"{{ email }}\" {{#unless canEdit}}disabled{{/unless}} />{{~ remove_whitespace ~}}\n    {{#unless canEdit}}<span class=\"clinician-sidebar__locked-icon\">{{far \"lock\"}}</span>{{/unless}}\n    {{#if error}}<div class=\"form-error u-margin--b-4\">{{ error }}</div>{{/if}}\n  `,\n  templateContext() {\n    return {\n      canEdit: this.model.isEditable(),\n      error: this.getOption('error'),\n    };\n  },\n  ui: {\n    input: '.js-input',\n  },\n  events: {\n    'input @ui.input': 'onInput',\n  },\n  onInput(evt) {\n    this.model.set('email', evt.target.value);\n  },\n});\n\nconst SaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`\n    <button class=\"button--green js-save\">{{ @intl.clinicians.sidebar.clinicianSidebarViews.saveView.saveBtn }}</button>\n    <button class=\"button--text u-margin--r-4 js-cancel\">{{ @intl.clinicians.sidebar.clinicianSidebarViews.saveView.cancelBtn }}</button>\n  `,\n  triggers: {\n    'click .js-cancel': 'cancel',\n    'click .js-save': 'save',\n  },\n});\n\nconst DisabledSaveView = View.extend({\n  className: 'u-margin--t-8 sidebar__save',\n  template: hbs`<button class=\"button--green\" disabled>{{ @intl.clinicians.sidebar.clinicianSidebarViews.disabledSaveView.saveBtn }}</button>`,\n});\n\nconst InfoView = View.extend({\n  className: 'sidebar__info',\n  template: hbs`\n    {{fas \"circle-info\"}}{{ @intl.clinicians.sidebar.clinicianSidebarViews.infoView.groupTeamInfo }}\n  `,\n});\n\nconst SidebarView = View.extend({\n  className: 'sidebar flex-region',\n  template: ClinicianSidebarTemplate,\n  triggers: {\n    'click .js-close': 'close',\n  },\n  childViewTriggers: {\n    'save': 'save',\n    'cancel': 'cancel',\n  },\n  regions: {\n    name: '[data-name-region]',\n    email: '[data-email-region]',\n    save: '[data-save-region]',\n    team: '[data-team-region]',\n    groups: '[data-groups-region]',\n    info: '[data-info-region]',\n    role: '[data-role-region]',\n    state: '[data-state-region]',\n  },\n  initialize({ clinician }) {\n    this.clinician = clinician;\n\n    this.listenTo(this.clinician, {\n      'change:enabled': this.onChangeEnabled,\n      'change:_team': this.showInfo,\n      'change:_groups': this.showInfo,\n    });\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onChangeEnabled() {\n    this.showState();\n    this.showRole();\n    this.showTeam();\n    this.showGroups();\n  },\n  onRender() {\n    this.showForm();\n    this.showState();\n    this.showRole();\n    this.showTeam();\n    this.showGroups();\n    this.showInfo();\n  },\n  cloneClinician() {\n    // NOTE: creates a new clone from the truth for cancelable editing\n    if (this.clonedClinician) this.stopListening(this.clonedClinician);\n    this.clonedClinician = this.clinician.clone();\n  },\n  showName(error) {\n    this.showChildView('name', new NameView({\n      model: this.clonedClinician,\n      error,\n    }));\n  },\n  showEmail(error) {\n    this.showChildView('email', new EmailView({\n      model: this.clonedClinician,\n      error,\n    }));\n  },\n  showState() {\n    const isActive = this.clinician.isActive();\n    const selectedId = this.clinician.get('enabled') ? 'enabled' : 'disabled';\n\n    const stateComponent = new StateComponent({ isActive, selectedId });\n\n    this.listenTo(stateComponent, 'change:selected', selected => {\n      this.clinician.save({ enabled: selected.id !== 'disabled' });\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showRole() {\n    const isDisabled = !this.clinician.get('enabled');\n    const roleComponent = new RoleComponent({ role: this.clinician.getRole(), state: { isDisabled } });\n\n    this.listenTo(roleComponent, 'change:role', role => {\n      this.clinician.saveRole(role);\n    });\n\n    this.showChildView('role', roleComponent);\n  },\n  showTeam() {\n    const isDisabled = !this.clinician.get('enabled');\n    const teamComponent = new TeamComponent({ team: this.clinician.get('_team'), state: { isDisabled } });\n\n    this.listenTo(teamComponent, 'change:team', team => {\n      this.clinician.saveTeam(team);\n    });\n\n    this.showChildView('team', teamComponent);\n  },\n  showGroups() {\n    const groupsManager = this.showChildView('groups', new GroupsComponent({\n      member: this.clinician,\n      droplistOptions: {\n        isDisabled: !this.clinician.get('enabled'),\n      },\n    }));\n\n    this.listenTo(groupsManager, {\n      'add:member'(clinician, group) {\n        group.addClinician(clinician);\n      },\n      'remove:member'(clinician, group) {\n        group.removeClinician(clinician);\n      },\n    });\n  },\n  showSave() {\n    if (!this.clonedClinician.isValid()) {\n      this.showDisabledSave();\n      return;\n    }\n\n    this.showChildView('save', new SaveView({ model: this.clonedClinician }));\n  },\n  showDisabledSave() {\n    this.showChildView('save', new DisabledSaveView());\n  },\n  showForm() {\n    this.cloneClinician();\n    this.listenTo(this.clonedClinician, 'change:name change:email', this.showSave);\n\n    this.getRegion('save').empty();\n\n    this.showName();\n    this.showEmail();\n  },\n  showInfo() {\n    if (!this.clinician.hasTeam() || this.clinician.getGroups().length === 0) {\n      this.showChildView('info', new InfoView());\n      return;\n    }\n\n    this.getRegion('info').empty();\n  },\n  showErrors({ name, email }) {\n    this.showName(name);\n    this.showEmail(email);\n    this.showDisabledSave();\n  },\n  onSave() {\n    this.getRegion('save').empty();\n  },\n  onCancel() {\n    this.showForm();\n  },\n});\n\nexport {\n  SidebarView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { SidebarView } from 'js/views/clinicians/sidebar/clinician-sidebar_views';\n\nexport default App.extend({\n  onBeforeStart({ clinician }) {\n    this.clinician = clinician;\n\n    this.showView(new SidebarView({ clinician }));\n  },\n  viewEvents: {\n    'save': 'onSave',\n    'close': 'stop',\n  },\n  onSave({ model }) {\n    this.clinician.save(model.attributes).then(() => {\n      Radio.trigger('event-router', 'clinician', this.clinician.id);\n    }, ({ responseJSON }) => {\n      const errors = this.clinician.parseErrors(responseJSON);\n      this.getView().showErrors(errors);\n    });\n  },\n  onStop() {\n    this.clinician.trigger('editing', false);\n\n    Radio.request('sidebar', 'close');\n    Radio.trigger('event-router', 'clinicians:all');\n  },\n});\n","\nimport { each, first, propertyOf, reduce, escape } from 'underscore';\n\nexport const _ = { propertyOf, escape };\n\n// {{ fields.field_name.deep_nest }}\nconst fieldRegEx = /{{\\s*fields.([\\w\\-.]+?)\\s*}}/g;\n// {{ patient.first_name }}\nconst patientRegEx = /{{\\s*patient.([\\w\\-.]+?)\\s*}}/g;\n// {{ value }}\nconst valueRegEx = /({{\\s*value\\s*}})/g;\n// {{ value.deep.nest }}\nconst valueDeepRegEx = /{{\\s*value(?:\\.([\\w\\-.]+?))?\\s*}}/g;\n// {{ widget.widget_name-id }}\nconst widgetRegEx = /{{\\s*widget.([\\w\\-.]+?)\\s*}}/g;\n\n// Certain characters need to be escaped so that they can be put into a\n// string literal.\nconst escapes = {\n  '\\'': '\\'',\n  '\\\\': '\\\\',\n  '\\r': 'r',\n  '\\n': 'n',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029',\n};\n\nconst escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\nfunction escapeChar(match) {\n  return `\\\\${ escapes[match] }`;\n}\n\nfunction escapeTemplate(valueString) {\n  return `'+\\n((__t=(${ valueString }))==null?'':escape(__t))+\\n'`;\n}\n\nfunction deepGetTemplate(dataKey, nestedKeys) {\n  let keys = '';\n\n  each(nestedKeys.split('.'), key => {\n    keys += `'${ key }',`;\n  });\n\n  return escapeTemplate(`propertyOf(data.${ dataKey })([${ keys }])`);\n}\n\nexport default function patientTemplate(text, childValue) {\n  // Compile the template source, escaping string literals appropriately.\n  let index = 0;\n  let source = '';\n\n  // Create a list of used field names for formatting only used fields\n  const fieldNames = [];\n\n  const widgetNames = [];\n\n  const matcher = RegExp(`${ [\n    fieldRegEx.source,\n    patientRegEx.source,\n    valueRegEx.source,\n    valueDeepRegEx.source,\n    widgetRegEx.source,\n  ].join('|') }|$`, 'g');\n\n  text.replace(matcher, function(match, fieldKeys, patientKeys, valueOnly, valueKeys, widgetName, offset) {\n    source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n    index = offset + match.length;\n\n    if (valueOnly) {\n      source += escapeTemplate('data.value');\n    }\n\n    if (valueKeys) {\n      source += deepGetTemplate('value', valueKeys);\n    }\n\n    if (fieldKeys) {\n      fieldNames.push(first(fieldKeys.split('.')));\n      source += deepGetTemplate('fields', fieldKeys);\n    }\n\n    if (patientKeys) {\n      source += deepGetTemplate('patient', patientKeys);\n    }\n\n    if (widgetName) {\n      widgetNames.push(widgetName);\n      source += `<span data-${ widgetName }-region></span>`;\n    }\n\n    return match;\n  });\n\n  source = `var __t;\\nreturn '${ source }';\\n`;\n\n  const render = new Function('data', '{ propertyOf, escape }', source);\n\n  const templateFunction = function(patient) {\n    const patientFields = patient.getFields();\n\n    const fields = reduce(fieldNames, (fieldData, name) => {\n      const field = patientFields.find({ name });\n\n      if (!field) return fieldData;\n\n      fieldData[name] = field.get('value');\n\n      return fieldData;\n    }, {});\n\n    const data = {\n      patient: patient.attributes,\n      fields,\n      value: childValue,\n    };\n\n    return render.call(this, data, _);\n  };\n\n  templateFunction.widgetNames = widgetNames;\n\n  return templateFunction;\n}\n","import { each, map, propertyOf, reduce, extend, isFunction, filter, reject, find } from 'underscore';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView } from 'marionette';\nimport dayjs from 'dayjs';\nimport parsePhoneNumber from 'libphonenumber-js/min';\n\nimport hbs from 'handlebars-inline-precompile';\n\nimport patientTemplate from 'js/utils/patient-template';\n\nimport './widgets.scss';\n\n// NOTE: widget is a view or view definition\nexport function buildWidget(widget, patient, widgetModel, options) {\n  if (isFunction(widget)) return new widget(extend({ model: patient }, options, widgetModel.get('definition')));\n\n  return new View(extend({ model: patient }, options, widgetModel.get('definition'), widget));\n}\n\nfunction getKeyValue(value, keys) {\n  if (keys.length) {\n    return propertyOf(value)(keys);\n  }\n\n  return value;\n}\n\nfunction getWidgetValue({ fields, name, key, childValue }) {\n  const keys = key && key.split('.') || [];\n\n  if (childValue) {\n    return getKeyValue(childValue, keys);\n  }\n\n  // NOTE: Makes `field_name` optional\n  if (keys.length && !name) name = keys.shift();\n\n  const currentField = fields.find({ name });\n\n  if (!currentField) return;\n\n  return getKeyValue(currentField.getValue(), keys);\n}\n\n// NOTE: These widgets are documented in ./README.md\n\nconst widgets = {\n  dob: {\n    modelEvents: {\n      'change:birth_date': 'render',\n    },\n    template: hbs`{{formatHTMLMessage (intlGet \"patients.widgets.widgets.dob\") dob=(formatDateTime dob \"LONG\" inputFormat=\"YYYY-MM-DD\") age=age}}`,\n    templateContext() {\n      const dob = this.model.get('birth_date');\n\n      const age = dayjs().diff(dayjs(dob, 'YYYY-MM-DD'), 'years');\n\n      return { dob, age };\n    },\n  },\n  sex: {\n    modelEvents: {\n      'change:sex': 'render',\n    },\n    template: hbs`{{formatMessage (intlGet \"patients.widgets.widgets.sex\") sex=sex}}`,\n  },\n  status: {\n    modelEvents: {\n      'change:status': 'render',\n    },\n    template: hbs`<span class=\"widgets__status-{{ status }}\">{{formatMessage (intlGet \"patients.widgets.widgets.status\") status=status}}</span>`,\n  },\n  divider: {\n    template: hbs`<div class=\"widgets__divider\"></div>`,\n  },\n  groups: {\n    modelEvents: {\n      'change:_groups': 'render',\n    },\n    template: hbs`{{#each groups}}<div>{{ this.name }}</div>{{/each}}`,\n    templateContext() {\n      return {\n        groups: map(this.model.getGroups().models, 'attributes'),\n      };\n    },\n  },\n  patientIdentifiers: {\n    className: 'widgets-value',\n    template: hbs`{{ displayValue }}{{#unless displayValue}}{{{ defaultHtml }}}{{/unless}}`,\n    templateContext() {\n      const defaultHtml = this.getOption('default_html');\n      const identifiersArray = this.model.get('identifiers');\n      const identifierType = this.getOption('identifier_type');\n\n      const identifier = find(identifiersArray, { type: identifierType });\n\n      return {\n        displayValue: identifier && identifier.value,\n        defaultHtml,\n      };\n    },\n  },\n  optionsWidget: {\n    className: 'widgets-value',\n    template: hbs`{{ displayValue }}{{#unless displayValue}}{{{ defaultHtml }}}{{/unless}}`,\n    templateContext() {\n      const defaultHtml = this.getOption('default_html');\n      const value = getWidgetValue({\n        fields: this.model.getFields(),\n        name: this.getOption('field_name'),\n        key: this.getOption('key'),\n        childValue: this.getOption('childValue'),\n      });\n      const displayOptions = this.getOption('display_options');\n\n      return {\n        displayValue: displayOptions[value] || value,\n        defaultHtml,\n      };\n    },\n  },\n  phoneWidget: {\n    className: 'widgets-value',\n    template: hbs`{{ displayValue }}{{#unless displayValue}}{{{ defaultHtml }}}{{/unless}}`,\n    templateContext() {\n      const defaultHtml = this.getOption('default_html');\n      const value = getWidgetValue({\n        fields: this.model.getFields(),\n        name: this.getOption('field_name'),\n        key: this.getOption('key'),\n        childValue: this.getOption('childValue'),\n      });\n      if (!value) return { defaultHtml };\n\n      const phone = parsePhoneNumber(value, 'US');\n\n      return {\n        displayValue: phone ? phone.formatNational() : null,\n        defaultHtml,\n      };\n    },\n  },\n  fieldWidget: {\n    className: 'widgets-value',\n    template: hbs`{{ displayValue }}{{#unless displayValue}}{{{ defaultHtml }}}{{/unless}}`,\n    templateContext() {\n      const defaultHtml = this.getOption('default_html');\n      const displayValue = getWidgetValue({\n        fields: this.model.getFields(),\n        name: this.getOption('field_name'),\n        key: this.getOption('key'),\n        childValue: this.getOption('childValue'),\n      });\n      return {\n        displayValue,\n        defaultHtml,\n      };\n    },\n  },\n  templateWidget: View.extend({\n    className: 'widgets-value',\n    initialize() {\n      this.childValue = this.getOption('childValue');\n      this.template = patientTemplate(this.template, this.childValue);\n      this.nestedWidgets = this.template.widgetNames;\n\n      const widgetRegions = reduce(this.nestedWidgets, (regions, widgetName) => {\n        regions[widgetName] = `[data-${ widgetName }-region]`;\n        return regions;\n      }, {});\n\n      this.addRegions(widgetRegions);\n    },\n    serializeData() {\n      return this.model;\n    },\n    onRender() {\n      each(this.nestedWidgets, widgetName => {\n        const widgetModel = Radio.request('entities', 'widgets:model', widgetName);\n        const widget = widgets[widgetModel.get('widget_type')];\n\n        this.showChildView(widgetName, buildWidget(widget, this.model, widgetModel, { tagName: 'span', childValue: this.childValue }));\n      });\n    },\n  }),\n  arrayWidget: CollectionView.extend({\n    className: 'widgets-value',\n    childWidget: {\n      widget_type: 'fieldWidget',\n      definition: {},\n    },\n    getArrayValue(arrayValue) {\n      const filterValue = this.getOption('filter_value');\n      if (filterValue) arrayValue = filter(arrayValue, filterValue);\n\n      const rejectValue = this.getOption('reject_value');\n      if (rejectValue) arrayValue = reject(arrayValue, rejectValue);\n\n      return arrayValue;\n    },\n    initialize({ child_widget, field_name, key, childValue }) {\n      const arrayValue = getWidgetValue({\n        fields: this.model.getFields(),\n        name: field_name,\n        key,\n        childValue,\n      });\n\n      each(this.getArrayValue(arrayValue), value => {\n        const widgetModel = Radio.request('entities', 'widgets:model', child_widget || this.childWidget);\n        const widget = widgets[widgetModel.get('widget_type')];\n\n        this.addChildView(buildWidget(widget, this.model, widgetModel, { childValue: value }));\n      });\n    },\n    template: hbs`{{ defaultHtml }}`,\n    templateContext() {\n      const defaultHtml = this.getOption('default_html');\n\n      return { defaultHtml };\n    },\n  }),\n  formWidget: View.extend({\n    className: 'button-primary widgets__form-widget',\n    tagName: 'button',\n    template: hbs`{{far \"square-poll-horizontal\"}} {{formName}} {{far \"up-right-and-down-left-from-center\"}}`,\n    templateContext() {\n      return {\n        formName: this.getOption('form_name'),\n      };\n    },\n    triggers: {\n      'click': 'click',\n    },\n    onClick() {\n      if (this.getOption('is_modal')) {\n        const form = Radio.request('entities', 'forms:model', this.getOption('form_id'));\n        Radio.request('modal', 'show:form', this.model, this.getOption('form_name'), form, this.getOption('modal_size'));\n        return;\n      }\n      Radio.trigger('event-router', 'form:patient', this.model.id, this.getOption('form_id'));\n    },\n  }),\n  dateTimeWidget: {\n    template: hbs`{{formatDateTime dateTime format inputFormat=inputFormat defaultHtml=defaultHtml}}`,\n    templateContext() {\n      const dateTime = getWidgetValue({\n        fields: this.model.getFields(),\n        name: this.getOption('field_name'),\n        key: this.getOption('key'),\n        childValue: this.getOption('childValue'),\n      });\n\n      return {\n        format: this.getOption('format') || 'TIME_OR_DAY',\n        inputFormat: this.getOption('input_format'),\n        dateTime,\n        defaultHtml: this.getOption('default_html'),\n      };\n    },\n  },\n};\n\nexport default widgets;\n","import { View, CollectionView } from 'marionette';\n\nimport hbs from 'handlebars-inline-precompile';\n\nimport widgets, { buildWidget } from './widgets';\n\nimport './widgets.scss';\n\nconst WidgetView = View.extend({\n  className() {\n    return this.getOption('itemClassName');\n  },\n  template: hbs`{{#if definition.display_name}}<div class=\"widgets__heading\">{{ definition.display_name }}</div>{{/if}}<div class=\"widgets__item\" data-content-region></div>`,\n  regions: {\n    content: '[data-content-region]',\n  },\n  onRender() {\n    const widget = this.getOption('widget');\n    const patient = this.getOption('patient');\n\n    this.showChildView('content', buildWidget(widget, patient, this.model));\n  },\n});\n\nconst WidgetCollectionView = CollectionView.extend({\n  childView: WidgetView,\n  childViewOptions(model) {\n    const widget = widgets[model.get('widget_type')];\n\n    return {\n      itemClassName: this.getOption('itemClassName'),\n      widget,\n      model,\n      patient: this.model,\n    };\n  },\n  viewFilter({ model }) {\n    return model.get('widget_type');\n  },\n  viewComparator: false,\n});\n\nexport {\n  WidgetCollectionView,\n};\n","import Radio from 'backbone.radio';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport { animSidebar } from 'js/anim';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport PatientSidebarTemplate from './patient-sidebar.hbs';\n\nimport { WidgetCollectionView } from 'js/views/patients/widgets/widgets_views';\n\nimport 'scss/domain/patient-sidebar.scss';\nimport './patient-sidebar.scss';\n\nconst SidebarWidgetsView = WidgetCollectionView.extend({\n  itemClassName: 'patient-sidebar__section',\n});\n\nconst LayoutView = View.extend({\n  className: 'sidebar sidebar--small flex-region',\n  template: PatientSidebarTemplate,\n  regions: {\n    widgets: {\n      el: '[data-widgets-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  triggers: {\n    'click .js-close': 'close',\n    'click .js-patient': 'click:patient',\n  },\n  onAttach() {\n    animSidebar(this.el);\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.id);\n  },\n});\n\nexport {\n  LayoutView,\n  SidebarWidgetsView,\n};\n","import { map } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { LayoutView, SidebarWidgetsView } from 'js/views/patients/sidebar/patient/patient-sidebar_views';\n\nexport default App.extend({\n  onBeforeStart({ patient }) {\n    this.showView(new LayoutView({ model: patient }));\n\n    this.getRegion('widgets').startPreloader();\n  },\n  beforeStart({ patient }) {\n    const patientModel = Radio.request('entities', 'fetch:patients:model', patient.id);\n    const fields = map(Radio.request('bootstrap', 'sidebarWidgets:fields'), fieldName => {\n      return Radio.request('entities', 'fetch:patientFields:model', patient.id, fieldName);\n    });\n\n    return [patientModel, ...fields];\n  },\n  onStart({ patient }) {\n    const widgets = Radio.request('bootstrap', 'sidebarWidgets');\n\n    this.showChildView('widgets', new SidebarWidgetsView({\n      model: patient,\n      collection: widgets,\n    }));\n  },\n  viewEvents: {\n    'close': 'stop',\n  },\n  onStop() {\n    Radio.request('sidebar', 'close');\n  },\n});\n","import { extend } from 'underscore';\n\nimport App from 'js/base/app';\n\nimport ActionSidebarApp from 'js/apps/patients/sidebar/action-sidebar_app';\nimport FlowSidebarApp from 'js/apps/patients/sidebar/flow-sidebar_app';\nimport ProgramSidebarApp from 'js/apps/programs/sidebar/program-sidebar_app';\nimport ProgramFlowSidebarApp from 'js/apps/programs/sidebar/flow-sidebar_app';\nimport ProgramActionSidebarApp from 'js/apps/programs/sidebar/action-sidebar_app';\nimport ClinicianSidebarApp from 'js/apps/clinicians/sidebar/clinician-sidebar_app';\nimport PatientSidebarApp from 'js/apps/patients/sidebar/patient-sidebar_app';\n\nexport default App.extend({\n  channelName: 'sidebar',\n\n  radioRequests: {\n    'close': 'closeSidebar',\n    'start': 'startSidebarApp',\n  },\n\n  childApps: {\n    action: ActionSidebarApp,\n    flow: FlowSidebarApp,\n    program: ProgramSidebarApp,\n    programFlow: ProgramFlowSidebarApp,\n    programAction: ProgramActionSidebarApp,\n    clinician: ClinicianSidebarApp,\n    patient: PatientSidebarApp,\n  },\n\n  startSidebarApp(appName, appOptions) {\n    /* istanbul ignore if */\n    if (this.isStarting) return;\n\n    this.isStarting = true;\n\n    this.stopSidebarApp();\n\n    const sidebarOpts = extend({\n      region: this.getRegion(),\n    }, appOptions);\n\n    this.currentApp = this.startChildApp(appName, sidebarOpts);\n\n    this.isStarting = false;\n\n    this.getChannel().trigger('show', this.currentApp);\n\n    return this.currentApp;\n  },\n\n  closeSidebar() {\n    const currentApp = this.currentApp;\n\n    this.stopSidebarApp();\n\n    this.getRegion().empty();\n\n    this.getChannel().trigger('close', currentApp);\n  },\n\n  stopSidebarApp() {\n    if (!this.currentApp) return;\n\n    this.currentApp.stop();\n\n    delete this.currentApp;\n  },\n});\n","import { noop } from 'underscore';\nimport hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView, Region } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/modals.scss';\n\nimport Component from 'js/base/component';\n\nimport InputFocusBehavior from 'js/behaviors/input-focus';\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\nimport PicklistBehavior from 'js/behaviors/picklist-transport';\n\nimport './patient-search.scss';\n\nconst TipTemplate = hbs`\n  <div class=\"patient-search__tip\">{{ @intl.globals.search.patientSearchViews.emptyView.searchTip }}</div>\n  <div class=\"patient-search__search-by\">\n    <div class=\"patient-search__search-by-title\">{{ @intl.globals.search.patientSearchViews.emptyView.searchBy }}</div>\n    <div class=\"u-margin--t-8 qa-search-option\">\n      <span class=\"patient-search__search-by-label\">{{ @intl.globals.search.patientSearchViews.emptyView.exampleDobLabel }}</span>\n      {{ @intl.globals.search.patientSearchViews.emptyView.exampleDob }}\n    </div>\n    {{#each settings.identifiers}}\n      <div class=\"u-margin--t-8 qa-search-option\">\n        <span class=\"patient-search__search-by-label\">{{this.label}}</span>\n        {{ @intl.globals.search.patientSearchViews.emptyView.exampleId }} {{this.example}}\n      </div>\n    {{/each}}\n  </div>\n  <div class=\"patient-search__shortcut\">{{fas \"keyboard\"}}<strong class=\"u-margin--l-8\">{{ @intl.globals.search.patientSearchViews.emptyView.shortcut }}</strong></div>\n`;\n\nconst EmptyView = View.extend({\n  collectionEvents: {\n    'search': 'render',\n  },\n  tagName: 'li',\n  className: 'patient-search__no-results',\n  initialize({ state }) {\n    this.state = state;\n    this.listenTo(this.state, 'change:search', this.render);\n  },\n  templateContext() {\n    const settings = Radio.request('bootstrap', 'currentOrg:setting', 'patient_search');\n    return { settings };\n  },\n  getTemplate() {\n    const search = this.state.get('search');\n\n    if (!search || search.length < 3) return TipTemplate;\n    if (this.collection.isSearching) return hbs`{{ @intl.globals.search.patientSearchViews.emptyView.searching }}`;\n\n    return hbs`{{ @intl.globals.search.patientSearchViews.emptyView.noResults }}`;\n  },\n});\n\nconst PicklistItem = View.extend({\n  tagName: 'li',\n  className: 'js-picklist-item patient-search__picklist-item',\n  initialize({ state }) {\n    this.state = state;\n    this.listenTo(this.state, 'change:search', this.render);\n  },\n  triggers: {\n    'click': 'select',\n  },\n  onSelect() {\n    this.state.set({ selected: this.model });\n  },\n  template: hbs`\n    <div class=\"patient-search__picklist-item-name u-text--overflow\">\n      <span>{{matchText name search}}{{~ remove_whitespace ~}}</span>\n    </div>\n    <div class=\"patient-search__picklist-item-meta\">\n      <div class=\"patient-search__picklist-item-dob u-text--overflow\">\n        {{formatDateTime birth_date \"MM/DD/YYYY\"}}\n      </div>\n      {{#if hasIdentifiers}}\n        <div class=\"patient-search__picklist-item-identifier u-text--overflow\">\n          {{#if identifiers.0.value}}{{matchText identifiers.0.value search}}{{else}}&ndash;{{/if}}\n        </div>\n      {{/if}}\n    </div>\n  `,\n  templateContext() {\n    return {\n      name: `${ this.model.get('first_name') } ${ this.model.get('last_name') }`,\n      search: this.state.get('search'),\n      hasIdentifiers: this.collection.hasIdentifiers(),\n    };\n  },\n});\n\nconst ListView = CollectionView.extend({\n  tagName: 'ul',\n  serializeCollection: noop,\n  childView: PicklistItem,\n  childViewOptions() {\n    return {\n      collection: this.collection,\n      state: this.model,\n    };\n  },\n  onRenderChildren() {\n    this.$('.js-picklist-item').removeClass('is-highlighted');\n\n    if (!this.model.get('search')) return;\n\n    this.$('.js-picklist-item').first().addClass('is-highlighted');\n  },\n  emptyView: EmptyView,\n});\n\nconst HeaderView = View.extend({\n  className: 'patient-search__picklist-header',\n  template: hbs`\n    <div class=\"patient-search__picklist-header-name\">\n      {{ @intl.globals.search.patientSearchViews.headerView.patient }}\n    </div>\n    <div class=\"patient-search__picklist-header-meta\">\n      <div class=\"patient-search__picklist-header-dob\">\n        {{ @intl.globals.search.patientSearchViews.headerView.dob }}\n      </div>\n      {{#if hasIdentifiers}}\n        <div class=\"patient-search__picklist-header-identifier\">\n        {{ @intl.globals.search.patientSearchViews.headerView.id }}\n        </div>\n      {{/if}}\n    </div>\n  `,\n  templateContext() {\n    return {\n      hasIdentifiers: this.collection.hasIdentifiers(),\n    };\n  },\n});\n\nconst DialogView = View.extend({\n  className: 'patient-search__picklist',\n  collectionEvents: {\n    'search': 'showHeader',\n  },\n  modelEvents: {\n    'change:search': 'showHeader',\n  },\n  behaviors: [\n    {\n      behaviorClass: InputFocusBehavior,\n      selector: '.js-input',\n    },\n    InputWatcherBehavior,\n    PicklistBehavior,\n  ],\n  triggers: {\n    'focus @ui.input': 'focus',\n  },\n  ui: {\n    input: '.js-input',\n  },\n  regionClass: Region.extend({ replaceElement: true }),\n  regions: {\n    header: '[data-header-region]',\n    list: '[data-list-region]',\n  },\n  template: hbs`\n    <div class=\"modal__header patient-search__header\">\n      <span class=\"modal__header-icon\">{{far \"magnifying-glass\"}}</span>\n      <input type=\"text\" class=\"js-input patient-search__input\" placeholder=\"{{ @intl.globals.search.patientSearchViews.dialogView.placeholderText }}\" value=\"{{ search }}\">\n    </div>\n    <div class=\"flex-region picklist__scroll js-picklist-scroll\">\n      <div data-header-region></div>\n      <div data-list-region></div>\n    </div>\n  `,\n  onRender() {\n    this.showHeader();\n    this.showChildView('list', new ListView({\n      collection: this.collection,\n      model: this.model,\n    }));\n  },\n  showHeader() {\n    if (!this.collection.length) {\n      this.getRegion('header').empty();\n      return;\n    }\n\n    this.showChildView('header', new HeaderView({ collection: this.collection }));\n  },\n});\n\nconst PatientSearchPicklist = Component.extend({\n  initialize: function(options) {\n    this.mergeOptions(options, ['collection']);\n  },\n  viewOptions() {\n    return {\n      model: this.getState(),\n      collection: this.collection,\n    };\n  },\n  ViewClass: DialogView,\n  viewEvents: {\n    'watch:change': 'onWatchChange',\n  },\n  onWatchChange(search) {\n    this.setState('search', search);\n  },\n});\n\nconst PatientSearchModal = View.extend({\n  className: 'modal',\n  template: hbs`\n    <a href=\"#\" class=\"button--icon patient-search__close js-close\">{{far \"xmark\"}}</a>\n    <div data-picklist-region></div>\n  `,\n  triggers: {\n    'click .js-close': 'close',\n  },\n  regions: {\n    picklist: {\n      el: '[data-picklist-region]',\n      replaceElement: true,\n    },\n  },\n  serializeCollection: noop,\n  onRender() {\n    const collection = this.collection;\n    const search = this.getOption('prefillText');\n\n    const picklistComponent = new PatientSearchPicklist({\n      collection,\n      state: { search },\n    });\n\n    this.listenTo(picklistComponent.getState(), {\n      'change:search': this.onChangeSearch,\n      'change:selected': this.onChangeSelected,\n    });\n\n    this.showChildView('picklist', picklistComponent);\n\n    if (search) this.collection.search(search);\n\n    this.listenTo(picklistComponent.getView(), 'close', this.destroy);\n  },\n  onChangeSearch(state, search) {\n    this.collection.search(search);\n  },\n  onChangeSelected(state, result) {\n    this.triggerMethod('search:select', result);\n  },\n  onClose() {\n    this.destroy();\n  },\n});\n\nexport {\n  PatientSearchModal,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { PatientSearchModal } from 'js/views/globals/search/patient-search_views';\n\nexport default App.extend({\n  onStart({ prefillText }) {\n    const patientSearchModal = new PatientSearchModal({\n      collection: Radio.request('entities', 'searchPatients:collection'),\n      prefillText,\n    });\n\n    this.listenTo(patientSearchModal, {\n      'search:select'(result) {\n        Radio.trigger('event-router', 'patient:dashboard', result.get('_patient'));\n        patientSearchModal.destroy();\n      },\n      'destroy'() {\n        this.stop();\n      },\n    });\n\n    Radio.request('modal', 'show:custom', patientSearchModal);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport Droplist from 'js/components/droplist';\n\nimport intl from 'js/i18n';\n\nimport './app-nav.scss';\n\nconst i18n = intl.globals.appNav.appNavViews;\n\nconst MainNavDroplist = Droplist.extend({\n  popWidth: '248px',\n  viewOptions: {\n    tagName: 'div',\n    className: 'app-nav__header',\n    template: hbs`\n      <div>\n        <h2 class=\"app-nav__header-title u-text--overflow\">{{ orgName }}</h2>\n        <span class=\"app-nav__header-arrow\">{{far \"angle-down\"}}</span>\n      </div>\n      <div class=\"u-text--overflow\">{{ userName }}</div>\n    `,\n    templateContext() {\n      const currentUser = Radio.request('bootstrap', 'currentUser');\n      const currentOrg = Radio.request('bootstrap', 'currentOrg');\n      return {\n        userName: currentUser.get('name'),\n        orgName: currentOrg.get('name'),\n      };\n    },\n  },\n  picklistOptions() {\n    const currentOrg = Radio.request('bootstrap', 'currentOrg');\n    return {\n      className: 'picklist app-nav__picklist',\n      headingText: currentOrg.get('name'),\n      lists: [{\n        collection: this.collection,\n        itemTemplate: hbs`\n          {{fa icon.type icon.icon classes=icon.classes~}}\n          <span>{{formatMessage text}}</span>\n          {{~#if isExternalLink}}\n            {{far \"arrow-up-right-from-square\"}}\n          {{/if}}\n        `,\n      }],\n    };\n  },\n  picklistEvents: {\n    'picklist:item:select': 'onSelect',\n  },\n  onSelect({ model }) {\n    model.get('onSelect')();\n  },\n});\n\nconst AppNavView = View.extend({\n  className: 'app-nav',\n  regions: {\n    navMain: {\n      el: '[data-nav-main-region]',\n      replaceElement: true,\n    },\n    navContent: '[data-nav-content-region]',\n  },\n  triggers: {\n    'click .js-add-patient': 'click:addPatient',\n  },\n  template: hbs`\n    <div data-nav-main-region></div>\n    <div class=\"overflow-y\" data-nav-content-region></div>\n    {{#if canPatientCreate}}<div class=\"app-nav__bottom-button app-nav__link js-add-patient\">{{far \"circle-plus\"}}{{ @intl.globals.appNav.appNavViews.appNavView.addPatient }}</div>{{/if}}\n  `,\n  templateContext() {\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n    const hasManualPatientCreate = Radio.request('bootstrap', 'currentOrg:setting', 'manual_patient_creation');\n\n    return {\n      canPatientCreate: hasManualPatientCreate && currentUser.can('patients:manage'),\n    };\n  },\n  removeSelected() {\n    this.$('.is-selected').removeClass('is-selected');\n  },\n});\n\nconst NavItemView = View.extend({\n  className() {\n    const className = 'app-nav__link';\n\n    if (this.model.get('className')) {\n      return `${ className } ${ this.model.get('className') }`;\n    }\n\n    return className;\n  },\n  tagName: 'a',\n  template: hbs`{{formatMessage text}}`,\n  triggers: {\n    'click': 'click',\n  },\n  modelEvents: {\n    'selected': 'onSelected',\n  },\n  onClick() {\n    Radio.trigger('event-router', this.model.get('event'), ...this.model.get('eventArgs'));\n  },\n  onSelected() {\n    this.$el.addClass('is-selected');\n  },\n});\n\nconst AppNavCollectionView = CollectionView.extend({\n  childView: NavItemView,\n});\n\nconst PatientsAppNav = View.extend({\n  template: hbs`\n    <h3 class=\"app-nav__search app-nav__link js-search\">{{far \"magnifying-glass\"}}{{ @intl.globals.appNav.appNavViews.patientsAppNav.searchTitle }}</h3>\n    <h3 class=\"app-nav__title\">{{ @intl.globals.appNav.appNavViews.patientsAppNav.worklistsTitle }}</h3>\n    <div data-worklists-region></div>\n  `,\n  regions: {\n    worklists: '[data-worklists-region]',\n  },\n  triggers: {\n    'click @ui.search': 'search',\n  },\n  ui: {\n    search: '.js-search',\n  },\n  onSearchActive(isActive) {\n    /* istanbul ignore if: No need to test safeguard */\n    if (this.isDestroyed()) return;\n    this.ui.search.toggleClass('is-active', isActive);\n  },\n});\n\nexport {\n  AppNavView,\n  AppNavCollectionView,\n  MainNavDroplist,\n  PatientsAppNav,\n  i18n,\n};\n","import { extend } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\nimport { mixinState } from 'marionette.toolkit';\n\nimport 'scss/modules/modals.scss';\n\nimport DateSelectComponent from 'js/components/dateselect';\nimport Droplist from 'js/components/droplist';\nimport GroupsManagerComponent from 'js/views/shared/components/groups-manager';\n\nimport intl from 'js/i18n';\nimport trim from 'js/utils/formatting/trim';\n\nimport InputFocusBehavior from 'js/behaviors/input-focus';\nimport PatientModalTemplate from './patient-modal.hbs';\n\nimport './patient-modal.scss';\n\nconst i18n = intl.globals.patientModal.patientModalViews;\n\nconst InputView = View.extend({\n  behaviors() {\n    if (!this.getOption('shouldFocus')) return;\n\n    return [\n      {\n        behaviorClass: InputFocusBehavior,\n        selector: '.js-input',\n      },\n    ];\n  },\n  className: 'pos--relative',\n  template: hbs`\n    <input class=\"input-primary w-100 js-input {{#if hasError}}has-error{{/if}}\" placeholder=\"{{ placeholder }}\" value=\"{{ value }}\" {{#unless canEdit}}disabled{{/unless}} />\n    {{#unless canEdit}}<span class=\"patient-modal__locked-icon\">{{far \"lock\"}}</span>{{/unless}}\n  `,\n  templateContext() {\n    const errors = this.getOption('state').get('errors');\n\n    return {\n      hasError: errors && errors[this.getOption('errorField')],\n      placeholder: this.getOption('placeholder'),\n      value: this.model.get(this.getOption('attr')),\n      canEdit: this.model.canEdit(),\n    };\n  },\n  ui: {\n    input: '.js-input',\n  },\n  events: {\n    'input @ui.input': 'onChange',\n  },\n  initialize({ state }) {\n    this.listenTo(state, 'change:errors', this.render);\n  },\n  onChange() {\n    const text = this.ui.input.val();\n    this.model.set(this.getOption('attr'), trim(text));\n  },\n  onDomRefresh() {\n    if (this.getOption('shouldFocus')) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst SexDroplist = Droplist.extend({\n  initialize({ model }) {\n    const patientSex = model.get('sex');\n\n    this.collection = new Backbone.Collection([\n      {\n        text: i18n.sexDroplist.male,\n        value: 'm',\n      },\n      {\n        text: i18n.sexDroplist.female,\n        value: 'f',\n      },\n      {\n        text: i18n.sexDroplist.other,\n        value: 'u',\n      },\n    ]);\n\n    this.setState('selected', this.collection.find({ value: patientSex }));\n  },\n  viewOptions: {\n    className: 'button-secondary modal__form-component',\n    template: hbs`{{far \"user\"}}{{ text }}{{#unless text}}{{ @intl.globals.patientModal.patientModalViews.sexDroplist.defaultText }}{{/unless}}`,\n  },\n});\n\nconst BirthdateView = View.extend({\n  className: 'modal__form-component',\n  template: hbs`<div data-date-select-region></div>`,\n  regions: {\n    dateSelect: {\n      el: '[data-date-select-region]',\n      replaceElement: true,\n    },\n  },\n  onChangeDate(state, date) {\n    state.set('hasError', date && date.isAfter());\n    this.triggerMethod('change:selected', date);\n  },\n  onRender() {\n    const birthdateSelect = new DateSelectComponent({\n      state: {\n        selectedDate: this.model.get('birth_date'),\n        isDisabled: !this.model.canEdit(),\n      },\n      viewOptions: {\n        className: 'flex',\n      },\n    });\n\n    this.listenTo(birthdateSelect, 'change:date', this.onChangeDate);\n\n    this.showChildView('dateSelect', birthdateSelect);\n  },\n});\n\nconst ErrorView = View.extend({\n  className: 'modal__footer-info modal__error',\n  template: hbs`{{ error }}{{#if hasSearch}} <a class=\"u-margin--l-8 u-text-link js-search\">{{@intl.globals.patientModal.patientModalViews.errorView.searchBtn}}</a>{{/if}}`,\n  templateContext() {\n    return {\n      error: this.getOption('error') || i18n.errorView.errors[this.getOption('errorCode')],\n      hasSearch: this.getOption('hasSearch'),\n    };\n  },\n  triggers: {\n    'click .js-search': 'click:search',\n  },\n});\n\nconst PatientModal = View.extend({\n  className: 'modal__content',\n  regions: {\n    firstName: '[data-first-name-region]',\n    lastName: '[data-last-name-region]',\n    dob: '[data-dob-region]',\n    sex: '[data-sex-region]',\n    groups: '[data-groups-region]',\n  },\n  modelEvents: {\n    'change': 'onChange',\n  },\n  template: PatientModalTemplate,\n  templateContext() {\n    return {\n      isNew: this.model.isNew(),\n      canEdit: this.model.canEdit(),\n    };\n  },\n  initialize({ state }) {\n    this.initState({ state });\n  },\n  onRender() {\n    this.showFirstNameView();\n    this.showLastNameView();\n    this.showSexDroplist();\n    this.showBirthDatePicker();\n    this.showGroupsComponent();\n  },\n  showFirstNameView() {\n    this.showChildView('firstName', new InputView({\n      model: this.model,\n      state: this.getState(),\n      attr: 'first_name',\n      placeholder: i18n.patientModal.firstName,\n      errorField: 'name',\n      shouldFocus: true,\n    }));\n  },\n  showLastNameView() {\n    this.showChildView('lastName', new InputView({\n      model: this.model,\n      state: this.getState(),\n      attr: 'last_name',\n      placeholder: i18n.patientModal.lastName,\n      errorField: 'name',\n    }));\n  },\n  showSexDroplist() {\n    const sexDroplist = this.showChildView('sex', new SexDroplist({\n      model: this.model,\n      state: {\n        isDisabled: !this.model.canEdit(),\n      },\n    }));\n\n    this.listenTo(sexDroplist, {\n      'change:selected'(selected) {\n        this.model.set('sex', selected.get('value'));\n      },\n    });\n  },\n  showBirthDatePicker() {\n    const birthDatePicker = this.showChildView('dob', new BirthdateView({\n      model: this.model,\n      state: this.getState(),\n    }));\n\n    this.listenTo(birthDatePicker, {\n      'change:selected'(date) {\n        this.model.set('birth_date', date ? date.format('YYYY-MM-DD') : null);\n      },\n    });\n  },\n  showGroupsComponent() {\n    const groupsManager = this.showChildView('groups', new GroupsManagerComponent({\n      member: this.model,\n      isDisabled: !this.model.canEdit(),\n    }));\n\n    this.listenTo(groupsManager, {\n      'add:member'(patient, group) {\n        this.model.addGroup(group);\n      },\n      'remove:member'(patient, group) {\n        this.model.removeGroup(group);\n      },\n    });\n  },\n});\n\nmixinState(PatientModal);\n\nfunction getPatientModal(opts) {\n  const patient = opts.patient;\n  const bodyView = new PatientModal({\n    model: patient,\n  });\n\n  const canEdit = patient.canEdit();\n\n  if (canEdit) {\n    const type = patient.isNew() ? 'add' : 'edit';\n\n    return extend({\n      bodyView,\n      headerIcon: 'address-card',\n    }, i18n.patientModal[type], opts);\n  }\n\n  return extend({\n    bodyView,\n    cancelText: false,\n    headerIcon: 'address-card',\n    infoText: i18n.patientModal.patientAccountManaged,\n  }, i18n.patientModal.view, opts);\n}\n\nexport {\n  ErrorView,\n  getPatientModal,\n};\n","import { compact, isEqual } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport SearchApp from './search_app';\nimport { AppNavView, AppNavCollectionView, MainNavDroplist, PatientsAppNav, i18n } from 'js/views/globals/app-nav/app-nav_views';\nimport { getPatientModal, ErrorView } from 'js/views/globals/patient-modal/patient-modal_views';\n\nconst appNavMenu = new Backbone.Collection([\n  {\n    onSelect() {\n      Radio.trigger('event-router', 'default');\n    },\n    id: 'PatientsApp',\n    icon: {\n      type: 'far',\n      icon: 'window',\n    },\n    text: i18n.mainNav.patients,\n  },\n  {\n    onSelect() {\n      Radio.trigger('event-router', 'dashboards:all');\n    },\n    id: 'DashboardsApp',\n    text: i18n.mainNav.dashboards,\n    icon: {\n      type: 'far',\n      icon: 'gauge',\n    },\n  },\n  {\n    onSelect() {\n      Radio.trigger('event-router', 'programs:all');\n    },\n    id: 'ProgramsApp',\n    text: i18n.mainNav.programs,\n    icon: {\n      type: 'far',\n      icon: 'screwdriver-wrench',\n    },\n  },\n  {\n    onSelect() {\n      Radio.trigger('event-router', 'clinicians:all');\n    },\n    id: 'CliniciansApp',\n    text: i18n.mainNav.clinicians,\n    icon: {\n      type: 'far',\n      icon: 'users-gear',\n    },\n  },\n  {\n    onSelect() {\n      window.open('https://help.roundingwell.com/');\n    },\n    text: i18n.mainNav.help,\n    isExternalLink: true,\n    icon: {\n      type: 'far',\n      icon: 'life-ring',\n    },\n  },\n  {\n    onSelect() {\n      Radio.request('auth', 'logout');\n    },\n    hasDivider: true,\n    text: i18n.mainNav.signOut,\n    icon: {\n      type: 'fas',\n      icon: 'right-from-bracket',\n    },\n  },\n]);\n\nconst patientsAppWorkflowsNav = new Backbone.Collection([\n  {\n    text: i18n.patientsAppNav.ownedBy,\n    event: 'worklist',\n    eventArgs: ['owned-by'],\n  },\n  {\n    text: i18n.patientsAppNav.schedule,\n    event: 'schedule',\n    eventArgs: [],\n    className: 'app-nav__spacer',\n  },\n  {\n    text: i18n.patientsAppNav.sharedBy,\n    event: 'worklist',\n    eventArgs: ['shared-by'],\n    className: 'app-nav__spacer',\n  },\n  {\n    text: i18n.patientsAppNav.newPastDay,\n    event: 'worklist',\n    eventArgs: ['new-past-day'],\n  },\n  {\n    text: i18n.patientsAppNav.updatedPastThree,\n    event: 'worklist',\n    eventArgs: ['updated-past-three-days'],\n  },\n  {\n    text: i18n.patientsAppNav.doneLastThirty,\n    event: 'worklist',\n    eventArgs: ['done-last-thirty-days'],\n  },\n]);\n\nexport default App.extend({\n  startAfterInitialized: true,\n  channelName: 'nav',\n  radioRequests: {\n    'search': 'showSearch',\n    'patient': 'showPatientModal',\n    'select': 'selectNav',\n  },\n  stateEvents: {\n    'change:currentApp': 'onChangeCurrentApp',\n  },\n  viewEvents: {\n    'click:addPatient': 'onClickAddPatient',\n  },\n  childApps: {\n    search: SearchApp,\n  },\n  selectNav(appName, event, eventArgs) {\n    this.setState('currentApp', appName);\n\n    const navMatch = this.getNavMatch(appName, event, compact(eventArgs));\n\n    if (navMatch) {\n      this.getView().removeSelected();\n      navMatch.trigger('selected');\n    }\n  },\n  onChangeCurrentApp(state, appName) {\n    this.setMainNav(appName);\n\n    this.getView().removeSelected();\n  },\n  getNavMatch(appName, event, eventArgs) {\n    return this._navMatch(patientsAppWorkflowsNav, event, eventArgs);\n  },\n  _navMatch(navCollection, event, eventArgs) {\n    return navCollection.find(model => {\n      return model.get('event') === event && isEqual(model.get('eventArgs'), eventArgs);\n    });\n  },\n  onStart() {\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n\n    if (!currentUser.can('dashboards:view')) {\n      appNavMenu.remove('DashboardsApp');\n    }\n\n    if (!currentUser.can('clinicians:manage')) {\n      appNavMenu.remove('CliniciansApp');\n    }\n\n    if (!currentUser.can('programs:manage')) {\n      appNavMenu.remove('ProgramsApp');\n    }\n\n    // If only patient, help, and sign out are left, remove patient\n    if (appNavMenu.length === 3) {\n      appNavMenu.remove('PatientsApp');\n    }\n\n    if (currentUser.can('app:schedule:reduced')) {\n      patientsAppWorkflowsNav.reset(patientsAppWorkflowsNav.filter({ event: 'schedule' }));\n    }\n\n    this.setView(new AppNavView());\n\n    this.mainNav = new MainNavDroplist({ collection: appNavMenu });\n\n    this.showChildView('navMain', this.mainNav);\n\n    this.showNav();\n\n    this.showView();\n  },\n  setMainNav(appName) {\n    const selectedApp = appNavMenu.get(appName);\n\n    if (!selectedApp) return;\n\n    this.mainNav.setState('selected', selectedApp);\n  },\n  showNav() {\n    const navView = new PatientsAppNav();\n\n    const workflowsCollectionView = new AppNavCollectionView({ collection: patientsAppWorkflowsNav });\n\n    navView.showChildView('worklists', workflowsCollectionView);\n\n    this.listenTo(navView, 'search', () => {\n      this.showSearch();\n    });\n\n    const hotkeyCh = Radio.channel('hotkey');\n    navView.listenTo(hotkeyCh, 'search', evt => {\n      evt.preventDefault();\n      this.showSearch();\n    });\n\n    this.showChildView('navContent', navView);\n  },\n  showSearch(prefillText) {\n    const navView = this.getChildView('navContent');\n\n    const searchApp = this.startChildApp('search', { prefillText });\n\n    this.listenTo(searchApp, 'stop', () => {\n      navView.triggerMethod('search:active', false);\n    });\n\n    navView.triggerMethod('search:active', true);\n  },\n  onClickAddPatient() {\n    this.showPatientModal();\n  },\n  getNewPatient() {\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n    const groups = currentClinician.getGroups();\n\n    if (groups.length === 1) {\n      return Radio.request('entities', 'patients:model', {\n        _groups: [{ id: groups.first().id }],\n      });\n    }\n\n    return Radio.request('entities', 'patients:model');\n  },\n  showPatientModal(patient) {\n    patient = patient || this.getNewPatient();\n    const patientClone = patient.clone();\n    const patientModal = Radio.request('modal', 'show', getPatientModal({\n      patient: patientClone,\n      onSubmit: () => {\n        if (!patient.canEdit()) {\n          patientModal.destroy();\n          return;\n        }\n\n        patientModal.disableSubmit();\n        patient.saveAll(patientClone.attributes)\n          .then(({ data }) => {\n            Radio.trigger('event-router', 'patient:dashboard', data.id);\n            patientModal.destroy();\n          })\n          .fail(({ responseJSON }) => {\n            // This assumes that only the similar patient error is handled on the server\n            const error = responseJSON.errors[0].detail;\n\n            patientModal.getChildView('body').setState({\n              errors: {\n                name: error,\n              },\n            });\n\n            const errorView = new ErrorView({ hasSearch: true, error });\n\n            patientModal.listenTo(errorView, 'click:search', () => {\n              const query = `${ patientClone.get('first_name') } ${ patientClone.get('last_name') }`;\n              this.showSearch(query);\n            });\n\n            patientModal.showChildView('info', errorView);\n          });\n      },\n    }));\n\n    patientModal.disableSubmit(patient.canEdit());\n    patientModal.listenTo(patientClone, {\n      'change'() {\n        patientModal.getRegion('info').empty();\n        patientModal.disableSubmit(!patientClone.isValid());\n      },\n      'invalid'(model, errors) {\n        const errorCode = errors.birth_date;\n        if (errorCode === 'invalidDate') {\n          patientModal.showChildView('info', new ErrorView({ errorCode }));\n        }\n      },\n    });\n  },\n});\n","import { bind } from 'underscore';\nimport Backbone from 'backbone';\nimport { View } from 'marionette';\nimport hbs from 'handlebars-inline-precompile';\n\nimport intl from 'js/i18n';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport 'scss/modules/widgets.scss';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport { WidgetCollectionView } from 'js/views/patients/widgets/widgets_views';\n\nimport 'scss/domain/patient-sidebar.scss';\nimport './patient-sidebar.scss';\n\nconst i18n = intl.patients.patient.sidebar.sidebarViews;\n\nconst NameView = View.extend({\n  tagName: 'h1',\n  className: 'patient-sidebar__name',\n  template: hbs`{{ first_name }} {{ last_name }}`,\n  modelEvents: {\n    'change': 'render',\n  },\n});\n\nconst SidebarView = View.extend({\n  className: 'patient-sidebar flex-region',\n  template: hbs`\n    <div data-name-region></div>\n    <span class=\"patient-sidebar__icon\">{{far \"address-card\"}}</span>\n    <button class=\"button--icon patient-sidebar__menu js-menu\">{{far \"ellipsis\"}}</button>\n    <div class=\"patient-sidebar__widgets\" data-widgets-region></div>\n  `,\n  regions: {\n    name: '[data-name-region]',\n    widgets: {\n      el: '[data-widgets-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  onRender() {\n    this.showChildView('name', new NameView({\n      model: this.model,\n    }));\n\n    this.showChildView('widgets', new WidgetCollectionView({\n      model: this.model,\n      collection: this.collection,\n      itemClassName: 'patient-sidebar__section',\n    }));\n  },\n  triggers: {\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const canEdit = this.model.canEdit();\n\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, canEdit ? 'click:patientEdit' : 'click:patientView'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.menuOptions.headingText,\n      itemTemplate: hbs`{{ text }}`,\n      itemTemplateContext: {\n        text: canEdit ? i18n.menuOptions.edit : i18n.menuOptions.view,\n      },\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n});\n\nexport {\n  SidebarView,\n};\n","import { map } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { SidebarView } from 'js/views/patients/patient/sidebar/sidebar_views';\n\nexport default App.extend({\n  viewEvents: {\n    'click:patientEdit': 'showPatientModal',\n    'click:patientView': 'showPatientModal',\n  },\n  onBeforeStart({ patient }) {\n    this.showView(new SidebarView({ model: patient }));\n\n    this.getRegion('widgets').startPreloader();\n  },\n  beforeStart({ patient }) {\n    return map(Radio.request('bootstrap', 'sidebarWidgets:fields'), fieldName => {\n      return Radio.request('entities', 'fetch:patientFields:model', patient.id, fieldName);\n    });\n  },\n  onStart({ patient }) {\n    this.patient = patient;\n\n    const widgets = Radio.request('bootstrap', 'sidebarWidgets');\n\n    this.showView(new SidebarView({\n      model: this.patient,\n      collection: widgets,\n    }));\n  },\n  showPatientModal() {\n    Radio.request('nav', 'patient', this.patient);\n  },\n});\n","import { View } from 'marionette';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/widgets.scss';\n\nimport { WidgetCollectionView } from 'js/views/patients/widgets/widgets_views';\n\nimport './form-widgets.scss';\n\nconst FormWidgetsHeaderView = View.extend({\n  className: 'form-widgets flex',\n  template: hbs`<div data-widgets-region></div>`,\n  regions: {\n    widgets: '[data-widgets-region]',\n  },\n  onRender({ model, collection }) {\n    this.showChildView('widgets', new WidgetCollectionView({\n      model: model,\n      collection: collection,\n      className: 'flex flex-wrap',\n      itemClassName: 'form-widgets__section',\n    }));\n  },\n});\n\nexport {\n  FormWidgetsHeaderView,\n};\n","import { map } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { FormWidgetsHeaderView } from 'js/views/forms/form/widgets/widget_header_view';\n\nexport default App.extend({\n  beforeStart({ patient, form }) {\n    return map(form.getWidgetFields(), fieldName => {\n      return Radio.request('entities', 'fetch:patientFields:model', patient.id, fieldName);\n    });\n  },\n  onStart({ patient, form }) {\n    const widgets = form.getWidgets();\n\n    if (!widgets.length) return;\n\n    this.showView(new FormWidgetsHeaderView({\n      model: patient,\n      collection: widgets,\n    }));\n  },\n});\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, Region } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nconst i18n = intl.forms.form.formViews;\n\nimport Droplist from 'js/components/droplist';\nimport Tooltip from 'js/components/tooltip';\n\nimport IframeFormBehavior from 'js/behaviors/iframe-form';\n\nimport './form.scss';\n\nconst ContextTrailView = View.extend({\n  className: 'form__context-trail',\n  actionTemplate: hbs`<a class=\"js-back form__context-link\">{{fas \"chevron-left\" }}{{ @intl.forms.form.formViews.contextTrailView.backBtn }}</a>`,\n  patientTemplate: hbs`<a class=\"js-dashboard form__context-link\">{{fas \"chevron-left\" }}{{ @intl.forms.form.formViews.contextTrailView.backDashboard }}</a>`,\n  getTemplate() {\n    if (!this.action) return this.patientTemplate;\n\n    return this.actionTemplate;\n  },\n  initialize({ patient, action }) {\n    this.patient = patient;\n    this.action = action;\n  },\n  triggers: {\n    'click .js-back': 'click:back',\n    'click .js-dashboard': 'click:dashboard',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:back');\n  },\n  onClickDashboard() {\n    Radio.trigger('event-router', 'patient:dashboard', this.patient.id);\n  },\n});\n\nconst FormActionsView = View.extend({\n  className: 'form__actions',\n  template: hbs`\n    {{#if hasHistory}}<button class=\"js-history-button form__actions-icon{{#if shouldShowHistory}} is-selected{{/if}}\">{{far \"clock-rotate-left\"}}</button>{{/if}}\n    <button class=\"js-expand-button form__actions-icon\">{{#if isExpanded}}{{far \"down-left-and-up-right-to-center\"}}{{else}}{{far \"up-right-and-down-left-from-center\"}}{{/if}}</button>\n    {{#if hasAction}}<button class=\"js-sidebar-button form__actions-icon{{#if isActionShown}} is-selected{{/if}}\">{{far \"file-lines\"}}</button>{{/if}}\n  `,\n  templateContext() {\n    return {\n      isActionShown: this.isActionShown(),\n      hasHistory: this.responses && !!this.responses.length,\n      hasAction: !!this.action,\n    };\n  },\n  onRender() {\n    this.renderSidebarTooltip();\n    this.renderExpandTooltip();\n    this.renderHistoryTooltip();\n  },\n  initialize({ action, responses }) {\n    this.action = action;\n    this.responses = responses;\n\n    this.listenTo(this.responses, 'update', this.render);\n  },\n  modelEvents: {\n    'change:isExpanded': 'render',\n    'change:isActionSidebar': 'render',\n    'change:shouldShowHistory': 'render',\n  },\n  ui: {\n    sidebarButton: '.js-sidebar-button',\n    expandButton: '.js-expand-button',\n    historyButton: '.js-history-button',\n  },\n  triggers: {\n    'click @ui.sidebarButton': 'click:sidebarButton',\n    'click @ui.expandButton': 'click:expandButton',\n    'click @ui.historyButton': 'click:historyButton',\n  },\n  isActionShown() {\n    return this.model.get('isActionSidebar') && !this.model.get('isExpanded');\n  },\n  renderSidebarTooltip() {\n    const isActionShown = this.isActionShown();\n    const message = isActionShown ? i18n.formActionsView.hideActionSidebar : i18n.formActionsView.showActionSidebar;\n\n    new Tooltip({\n      message,\n      uiView: this,\n      ui: this.ui.sidebarButton,\n    });\n  },\n  renderExpandTooltip() {\n    const isExpanded = this.model.get('isExpanded');\n    const message = isExpanded ? i18n.formActionsView.decreaseWidth : i18n.formActionsView.increaseWidth;\n\n    new Tooltip({\n      message,\n      uiView: this,\n      ui: this.ui.expandButton,\n    });\n  },\n  renderHistoryTooltip() {\n    const shouldShowHistory = this.model.get('shouldShowHistory');\n    const message = shouldShowHistory ? i18n.formActionsView.currentVersion : i18n.formActionsView.responseHistory;\n\n    new Tooltip({\n      message,\n      uiView: this,\n      ui: this.ui.historyButton,\n    });\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'form__frame',\n  template: hbs`\n    <div class=\"form__layout\">\n      <div class=\"flex\">\n        <div class=\"overflow--hidden flex-grow\">\n          <div data-context-trail-region></div>\n          <div class=\"form__title u-text--overflow\"><span class=\"form__title-icon\">{{far \"square-poll-horizontal\"}}</span>{{patient.first_name}} {{patient.last_name}} — {{ name }}</div>\n        </div>\n        <div class=\"flex-grow\">\n          <div data-status-region>&nbsp;</div>\n          <div class=\"form__controls\">\n            <div data-actions-region></div>\n            <div><div data-form-action-region></div></div>\n          </div>\n        </div>\n      </div>\n      <div data-widgets-header-region></div>\n      <div data-form-region></div>\n    </div>\n    <div class=\"form__sidebar\" data-sidebar-region></div>\n  `,\n  regionClass: Region.extend({ replaceElement: true }),\n  regions: {\n    actions: '[data-actions-region]',\n    contextTrail: '[data-context-trail-region]',\n    form: '[data-form-region]',\n    formAction: '[data-form-action-region]',\n    sidebar: {\n      el: '[data-sidebar-region]',\n      replaceElement: false,\n    },\n    status: '[data-status-region]',\n    widgets: '[data-widgets-header-region]',\n  },\n  templateContext() {\n    return {\n      patient: this.getOption('patient').pick('first_name', 'last_name'),\n    };\n  },\n  onRender() {\n    this.showChildView('contextTrail', new ContextTrailView({\n      patient: this.getOption('patient'),\n      action: this.getOption('action'),\n    }));\n  },\n});\n\nconst IframeView = View.extend({\n  behaviors: [IframeFormBehavior],\n  className: 'form__content',\n  template: hbs`<iframe src=\"/formapp/{{#if responseId}}{{ responseId }}{{/if}}\"></iframe>`,\n  templateContext() {\n    return {\n      responseId: this.getOption('responseId'),\n    };\n  },\n});\n\nconst StoredSubmissionView = View.extend({\n  className: 'form__content',\n  template: hbs`\n    <div class=\"form__prompt\">\n      <h2 class=\"form__prompt-title\">{{ @intl.forms.form.formViews.storedSubmissionView.title }}</h2>\n      <div class=\"form__prompt-dialog\">\n        <div class=\"flex-shrink\">\n          <button class=\"button--blue button--large js-submit\">{{ @intl.forms.form.formViews.storedSubmissionView.submitButton }}</button>\n          <div class=\"u-margin--t-16\">{{formatHTMLMessage (intlGet \"forms.form.formViews.storedSubmissionView.updated\") updated=(formatDateTime updated \"AT_TIME\")}}</div>\n        </div>\n        <div class=\"flex-shrink\">\n          <button class=\"button-secondary button--large form__discard-button js-cancel\" style=\"color:red\">{{ @intl.forms.form.formViews.storedSubmissionView.cancelButton }}</button>\n        </div>\n      </div>\n    </div>\n  `,\n  templateContext() {\n    return {\n      updated: this.getOption('updated'),\n    };\n  },\n  triggers: {\n    'click .js-submit': 'submit',\n    'click .js-cancel': 'cancel',\n  },\n});\n\nconst PreviewView = View.extend({\n  behaviors: [IframeFormBehavior],\n  className: 'form__frame',\n  template: hbs`\n    <div class=\"form__layout\">\n      <div class=\"form__context-trail\">\n        <a class=\"js-back form__context-link\">{{fas \"chevron-left\"}}{{ @intl.forms.form.formViews.previewView.backBtn }}</a>\n        {{~fas \"chevron-right\"}}{{ @intl.forms.form.formViews.previewView.title }}\n      </div>\n      <div class=\"form__title\"><span class=\"form__title-icon\">{{far \"square-poll-horizontal\"}}</span>{{ name }}</div>\n      <div class=\"form__content\">\n        <iframe src=\"/formapp/preview\"></iframe>\n      </div>\n    </div>\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:back');\n  },\n});\n\nconst StatusView = View.extend({\n  className: 'u-text-align--right',\n  getTemplate() {\n    if (!this.model) return hbs`<span class=\"form__alert-text\">{{ @intl.forms.form.formViews.statusView.notSaved }}</span>`;\n    if (this.getOption('isEditing')) {\n      return hbs`\n      <span class=\"form__alert-text\">{{ @intl.forms.form.formViews.statusView.notSaved }}</span>\n      <span class=\"u-margin--l-4 u-margin--r-4\">&bull;</span>\n      {{formatHTMLMessage (intlGet \"forms.form.formViews.statusView.label\") date=(formatDateTime _created_at \"AT_TIME\")}}\n      `;\n    }\n    return hbs`{{formatHTMLMessage (intlGet \"forms.form.formViews.statusView.label\") date=(formatDateTime _created_at \"AT_TIME\")}}`;\n  },\n});\n\nconst ReadOnlyView = View.extend({\n  tagName: 'button',\n  className: 'button--grey',\n  attributes: {\n    disabled: true,\n  },\n  template: hbs`{{ @intl.forms.form.formViews.readOnlyView.buttonText }}`,\n});\n\nconst SaveButtonTypeDroplist = Droplist.extend({\n  align: 'right',\n  initialize({ model }) {\n    this.collection = new Backbone.Collection([\n      {\n        text: i18n.saveView.save.droplistItemText,\n        value: 'save',\n      },\n      {\n        text: i18n.saveView.saveAndGoBack.droplistItemText,\n        value: 'saveAndGoBack',\n      },\n    ]);\n\n    const currentSaveButtonType = model.get('saveButtonType');\n\n    this.setState('selected', this.collection.find({ value: currentSaveButtonType }));\n  },\n  viewOptions: {\n    className: 'button--green button__drop-list-select',\n    template: hbs`{{fas \"caret-down\"}}`,\n  },\n  picklistOptions() {\n    return {\n      headingText: i18n.saveView.droplistLabel,\n      isCheckable: true,\n    };\n  },\n});\n\nconst SaveView = View.extend({\n  className: 'flex',\n  regions: {\n    saveType: {\n      el: '[data-save-type-region]',\n      replaceElement: true,\n    },\n  },\n  modelEvents: {\n    'change:saveButtonType': 'render',\n  },\n  templateContext() {\n    const saveButtonType = this.model.get('saveButtonType');\n\n    return {\n      isDisabled: this.getOption('isDisabled'),\n      showSaveButton: saveButtonType === 'save',\n      showSaveGoBackButton: saveButtonType === 'saveAndGoBack',\n    };\n  },\n  template: hbs`\n    <button class=\"button--green button__drop-list-action js-save-button\" {{#if isDisabled}}disabled{{/if}}>\n      {{#if showSaveButton}}\n        {{ @intl.forms.form.formViews.saveView.save.buttonText }}\n      {{/if}}\n      {{#if showSaveGoBackButton}}\n        {{ @intl.forms.form.formViews.saveView.saveAndGoBack.buttonText }}\n      {{/if}}\n    </button>\n    <button data-save-type-region></button>\n  `,\n  triggers: {\n    'click .js-save-button': 'click:save',\n  },\n  onRender() {\n    const saveButtonTypeDroplist = this.showChildView('saveType', new SaveButtonTypeDroplist({\n      model: this.model,\n      state: {\n        isDisabled: this.getOption('isDisabled'),\n      },\n    }));\n\n    this.listenTo(saveButtonTypeDroplist, {\n      'change:selected'(selected) {\n        this.triggerMethod('select:button:type', selected.get('value'));\n      },\n    });\n  },\n});\n\nconst UpdateView = View.extend({\n  tagName: 'button',\n  className: 'button--green',\n  template: hbs`{{ @intl.forms.form.formViews.updateView.buttonText }}`,\n  triggers: {\n    'click': 'click',\n  },\n});\n\nconst HistoryDroplist = Droplist.extend({\n  viewOptions: {\n    className: 'button-filter',\n    template: hbs`{{far \"clock-rotate-left\"}}{{formatDateTime _created_at \"AT_TIME\"}}{{far \"angle-down\"}}`,\n  },\n  picklistOptions: {\n    itemTemplate: hbs`{{formatDateTime _created_at \"AT_TIME\"}}`,\n  },\n});\n\nconst HistoryView = View.extend({\n  template: hbs`\n    <div data-versions-region></div>\n    <button class=\"button--blue js-current u-margin--l-8\">{{ @intl.forms.form.formViews.historyView.currentVersionButton }}</button>\n  `,\n  regions: {\n    versions: {\n      el: '[data-versions-region]',\n      replaceElement: true,\n    },\n  },\n  triggers: {\n    'click .js-current': 'click:current',\n  },\n  initialize({ selected, collection }) {\n    const responseDroplist = this.showChildView('versions', new HistoryDroplist({\n      collection,\n      state: { selected },\n    }));\n\n    this.listenTo(responseDroplist, {\n      'change:selected'(response) {\n        this.triggerMethod('change:response', response);\n      },\n    });\n  },\n});\n\nexport {\n  FormActionsView,\n  LayoutView,\n  IframeView,\n  StoredSubmissionView,\n  PreviewView,\n  StatusView,\n  SaveView,\n  ReadOnlyView,\n  UpdateView,\n  HistoryView,\n};\n","import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport dayjs from 'dayjs';\nimport store from 'store';\n\nimport App from 'js/base/app';\n\nimport intl from 'js/i18n';\n\nimport PatientSidebarApp from 'js/apps/patients/patient/sidebar/sidebar_app';\nimport WidgetsHeaderApp from 'js/apps/forms/widgets/widgets_header_app';\n\nimport FormsService from 'js/services/forms';\n\nimport {\n  LayoutView,\n  IframeView,\n  StoredSubmissionView,\n  FormActionsView,\n  StatusView,\n  ReadOnlyView,\n  SaveView,\n  UpdateView,\n  HistoryView,\n} from 'js/views/forms/form/form_views';\n\nexport default App.extend({\n  childApps: {\n    patient: {\n      AppClass: PatientSidebarApp,\n      regionName: 'sidebar',\n      getOptions: ['patient'],\n    },\n    widgetHeader: {\n      AppClass: WidgetsHeaderApp,\n      regionName: 'widgets',\n      getOptions: ['patient', 'form'],\n    },\n  },\n  initFormState() {\n    const storedState = store.get(`form-state_${ this.currentUser.id }`);\n\n    this.setState(extend({\n      isActionSidebar: true,\n      isExpanded: true,\n      shouldShowHistory: false,\n      saveButtonType: 'save',\n    }, storedState));\n  },\n  onBeforeStart() {\n    this.getRegion().startPreloader();\n\n    this.currentUser = Radio.request('bootstrap', 'currentUser');\n\n    this.initFormState();\n  },\n  beforeStart({ patientActionId }) {\n    return [\n      Radio.request('entities', 'fetch:actions:model', patientActionId),\n      Radio.request('entities', 'fetch:patients:model:byAction', patientActionId),\n    ];\n  },\n  onFail() {\n    Radio.request('alert', 'show:error', intl.forms.form.formApp.notFound);\n    Radio.trigger('event-router', 'default');\n  },\n  onBeforeStop() {\n    this.removeChildApp('formsService');\n  },\n  onStart(options, [action], [patient]) {\n    this.patient = patient;\n    this.action = action;\n    this.responses = action.getFormResponses();\n    this.form = this.action.getForm();\n    this.isReadOnly = this.form.isReadOnly();\n\n    this.listenTo(action, 'destroy', function() {\n      Radio.request('alert', 'show:success', intl.forms.form.formApp.deleteSuccess);\n      Radio.trigger('event-router', 'default');\n    });\n\n    this.startFormService();\n\n    this.setView(new LayoutView({ model: this.form, patient, action }));\n\n    this.setState({ responseId: !!this.responses.length && this.responses.first().id });\n\n    this.showFormStatus();\n    this.showFormAction();\n    this.showActions();\n\n    this.startChildApp('widgetHeader');\n\n    this.showSidebar();\n\n    this.showView();\n  },\n  startFormService() {\n    const formService = this.addChildApp('formsService', FormsService, {\n      patient: this.patient,\n      action: this.action,\n      form: this.form,\n      responses: this.responses,\n    });\n\n    this.listenTo(formService, {\n      'success'(response) {\n        response.set({ _created_at: dayjs().format() });\n        this.responses.unshift(response);\n        this.setState({ responseId: response.id });\n\n        const saveButtonType = this.getState('saveButtonType');\n\n        if (saveButtonType === 'saveAndGoBack') {\n          Radio.request('history', 'go:back');\n          return;\n        }\n\n        this.showFormStatus();\n        this.showFormUpdate();\n      },\n      'ready'() {\n        this.showFormSave();\n      },\n      'error'() {\n        this.showFormSave();\n      },\n    });\n  },\n  stateEvents: {\n    'change': 'onChangeState',\n    'change:shouldShowHistory': 'showFormAction',\n    'change:responseId': 'onChangeResponseId',\n    'change:saveButtonType': 'onChangeSaveButtonType',\n  },\n  onChangeState(state) {\n    if (!state.hasChanged('isExpanded') && !state.hasChanged('isActionSidebar')) return;\n\n    this.showSidebar();\n\n    store.set(`form-state_${ this.currentUser.id }`, {\n      isExpanded: this.getState('isExpanded'),\n      saveButtonType: this.getState('saveButtonType'),\n    });\n  },\n  onChangeResponseId() {\n    this.showContent();\n    this.showFormStatus();\n  },\n  onChangeSaveButtonType() {\n    store.set(`form-state_${ this.currentUser.id }`, {\n      isExpanded: this.getState('isExpanded'),\n      saveButtonType: this.getState('saveButtonType'),\n    });\n  },\n  showFormStatus() {\n    if (this.isReadOnly) return;\n    this.showChildView('status', new StatusView({\n      model: this.responses.first(),\n      isEditing: !this.getState('responseId'),\n    }));\n  },\n  showActions() {\n    const formActions = new FormActionsView({\n      model: this.getState(),\n      action: this.action,\n      responses: this.responses,\n    });\n\n    this.listenTo(formActions, {\n      'click:sidebarButton': this.onClickSidebarButton,\n      'click:expandButton': this.onClickExpandButton,\n      'click:historyButton': this.onClickHistoryButton,\n    });\n\n    this.showChildView('actions', formActions);\n  },\n  onClickSidebarButton() {\n    if (this.getState('isExpanded')) {\n      this.setState({ isActionSidebar: true, isExpanded: false });\n      return;\n    }\n\n    this.toggleState('isActionSidebar');\n  },\n  onClickExpandButton() {\n    this.toggleState('isExpanded');\n  },\n  onClickHistoryButton() {\n    this.setState({ responseId: this.responses.first().id, shouldShowHistory: !this.getState('shouldShowHistory') });\n  },\n  showContent() {\n    const responseId = this.getState('responseId');\n    const { updated } = Radio.request(`form${ this.form.id }`, 'get:storedSubmission');\n\n    if (!this.isReadOnly && !responseId && updated) {\n      const storedSubmissionView = this.showChildView('form', new StoredSubmissionView({ updated }));\n\n      this.listenTo(storedSubmissionView, {\n        'submit'() {\n          this.showForm();\n        },\n        'cancel'() {\n          Radio.request(`form${ this.form.id }`, 'clear:storedSubmission');\n          this.showForm();\n        },\n      });\n\n      return;\n    }\n\n    this.showForm();\n  },\n  showForm() {\n    this.showChildView('form', new IframeView({\n      model: this.form,\n      responseId: this.getState('responseId'),\n    }));\n  },\n  showSidebar() {\n    const isActionSidebar = this.getState('isActionSidebar');\n    const isExpanded = this.getState('isExpanded');\n\n    if (!isActionSidebar || isExpanded) {\n      Radio.request('sidebar', 'close');\n    }\n\n    if (isExpanded) {\n      this.stopChildApp('patient');\n      this.getRegion('sidebar').empty();\n      return;\n    }\n\n    if (isActionSidebar) {\n      this.showActionSidebar();\n    }\n\n    this.startChildApp('patient');\n  },\n  showActionSidebar() {\n    const sidebarApp = Radio.request('sidebar', 'start', 'action', { action: this.action, isShowingForm: true });\n\n    this.listenTo(sidebarApp, 'stop', () => {\n      if (this.getState('isExpanded')) return;\n      this.setState('isActionSidebar', false);\n    });\n  },\n  showFormAction() {\n    if (this.isReadOnly) {\n      this.showReadOnly();\n      return;\n    }\n\n    if (!this.getState('responseId')) {\n      this.showFormSaveDisabled();\n      return;\n    }\n\n    if (this.getState('shouldShowHistory')) {\n      this.showFormHistory();\n      return;\n    }\n\n    this.showFormUpdate();\n  },\n  showReadOnly() {\n    this.showChildView('formAction', new ReadOnlyView());\n  },\n  showFormSaveDisabled() {\n    this.showChildView('formAction', new SaveView({\n      isDisabled: true,\n      model: this.getState(),\n    }));\n  },\n  showFormSave() {\n    if (this.isReadOnly) return;\n\n    const saveView = this.showChildView('formAction', new SaveView({\n      model: this.getState(),\n    }));\n\n    this.listenTo(saveView, {\n      'click:save'() {\n        Radio.request(`form${ this.form.id }`, 'send', 'form:submit');\n        this.showFormSaveDisabled();\n      },\n      'select:button:type'(selectedSaveButtonType) {\n        this.setState({ saveButtonType: selectedSaveButtonType });\n      },\n    });\n  },\n  showFormUpdate() {\n    const updateView = this.showChildView('formAction', new UpdateView());\n\n    this.listenTo(updateView, 'click', () => {\n      this.setState({ responseId: null });\n    });\n  },\n  showFormHistory() {\n    const selected = this.responses.get(this.getState('responseId'));\n\n    const historyView = this.showChildView('formAction', new HistoryView({ selected, collection: this.responses }));\n\n    this.listenTo(historyView, {\n      'change:response'(response) {\n        this.setState({ responseId: response.id });\n      },\n      'click:current'() {\n        this.setState({ responseId: this.responses.first().id, shouldShowHistory: false });\n      },\n    });\n  },\n});\n","import { extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport dayjs from 'dayjs';\nimport store from 'store';\n\nimport App from 'js/base/app';\n\nimport FormsService from 'js/services/forms';\n\nimport PatientSidebarApp from 'js/apps/patients/patient/sidebar/sidebar_app';\nimport WidgetsHeaderApp from 'js/apps/forms/widgets/widgets_header_app';\n\nimport { FormActionsView, LayoutView, IframeView, SaveView, ReadOnlyView, StatusView, StoredSubmissionView } from 'js/views/forms/form/form_views';\n\nexport default App.extend({\n  childApps: {\n    patient: {\n      AppClass: PatientSidebarApp,\n      regionName: 'sidebar',\n      getOptions: ['patient'],\n    },\n    widgetHeader: {\n      AppClass: WidgetsHeaderApp,\n      regionName: 'widgets',\n      getOptions: ['patient', 'form'],\n    },\n  },\n  initFormState() {\n    const storedState = store.get(`form-state_${ this.currentUser.id }`);\n\n    this.setState(extend({ isExpanded: true, saveButtonType: 'save' }, storedState));\n  },\n  onBeforeStart() {\n    this.getRegion().startPreloader();\n\n    this.currentUser = Radio.request('bootstrap', 'currentUser');\n\n    this.initFormState();\n  },\n  beforeStart({ formId, patientId }) {\n    return [\n      Radio.request('entities', 'fetch:patients:model', patientId),\n      Radio.request('entities', 'forms:model', formId),\n    ];\n  },\n  onBeforeStop() {\n    this.removeChildApp('formsService');\n  },\n  onStart(options, [patient], form) {\n    this.patient = patient;\n    this.form = form;\n    this.isReadOnly = this.form.isReadOnly();\n\n    this.startFormService();\n\n    this.showView(new LayoutView({ model: this.form, patient }));\n\n    this.showContent();\n\n    this.showFormStatus();\n    this.showFormSaveDisabled();\n    this.showActions();\n\n    this.startChildApp('widgetHeader');\n\n    this.showSidebar();\n  },\n  startFormService() {\n    const formService = this.addChildApp('formsService', FormsService, {\n      patient: this.patient,\n      form: this.form,\n    });\n\n    this.listenTo(formService, {\n      'success'(response) {\n        response.set({ _created_at: dayjs().format() });\n\n        const saveButtonType = this.getState('saveButtonType');\n\n        if (saveButtonType === 'saveAndGoBack') {\n          Radio.request('history', 'go:back');\n          return;\n        }\n\n        this.showForm(response.id);\n        this.showFormStatus(response);\n      },\n      'ready'() {\n        this.showFormSave();\n      },\n      'error'() {\n        this.showFormSave();\n      },\n    });\n  },\n  stateEvents: {\n    'change': 'onChangeState',\n    'change:saveButtonType': 'onChangeSaveButtonType',\n  },\n  onChangeState() {\n    const isExpanded = this.getState('isExpanded');\n    const saveButtonType = this.getState('saveButtonType');\n\n    store.set(`form-state_${ this.currentUser.id }`, { isExpanded, saveButtonType });\n\n    this.showSidebar();\n  },\n  showFormStatus(response) {\n    if (this.isReadOnly) return;\n    this.showChildView('status', new StatusView({ model: response }));\n  },\n  showActions() {\n    const actionsView = new FormActionsView({\n      model: this.getState(),\n      patient: this.patient,\n    });\n\n    this.listenTo(actionsView, {\n      'click:expandButton': this.onClickExpandButton,\n    });\n\n    this.showChildView('actions', actionsView);\n  },\n  onClickExpandButton() {\n    this.toggleState('isExpanded');\n  },\n  showContent() {\n    const { updated } = Radio.request(`form${ this.form.id }`, 'get:storedSubmission');\n\n    if (!this.isReadOnly && updated) {\n      const storedSubmissionView = this.showChildView('form', new StoredSubmissionView({ updated }));\n\n      this.listenTo(storedSubmissionView, {\n        'submit'() {\n          this.showForm();\n        },\n        'cancel'() {\n          Radio.request(`form${ this.form.id }`, 'clear:storedSubmission');\n          this.showForm();\n        },\n      });\n\n      return;\n    }\n\n    this.showForm();\n  },\n  showForm(responseId) {\n    this.showChildView('form', new IframeView({\n      model: this.form,\n      responseId,\n    }));\n  },\n  showSidebar() {\n    const isExpanded = this.getState('isExpanded');\n\n    if (isExpanded) {\n      this.stopChildApp('patient');\n      this.getRegion('sidebar').empty();\n      return;\n    }\n\n    this.startChildApp('patient');\n  },\n  showFormSaveDisabled() {\n    if (this.isReadOnly) {\n      this.showChildView('formAction', new ReadOnlyView());\n      return;\n    }\n\n    this.showChildView('formAction', new SaveView({\n      isDisabled: true,\n      model: this.getState(),\n    }));\n  },\n  showFormSave() {\n    if (this.isReadOnly) return;\n\n    const saveView = this.showChildView('formAction', new SaveView({\n      model: this.getState(),\n    }));\n\n    this.listenTo(saveView, {\n      'click:save'() {\n        Radio.request(`form${ this.form.id }`, 'send', 'form:submit');\n        this.showFormSaveDisabled();\n      },\n      'select:button:type'(selectedSaveButtonType) {\n        this.setState({ saveButtonType: selectedSaveButtonType });\n      },\n    });\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport FormsService from 'js/services/forms';\n\nimport { PreviewView } from 'js/views/forms/form/form_views';\n\nexport default App.extend({\n  beforeStart({ formId }) {\n    return Radio.request('entities', 'forms:model', formId);\n  },\n  onBeforeStop() {\n    this.removeChildApp('formsService');\n  },\n  onStart(options, form) {\n    this.addChildApp('formsService', FormsService, { form });\n\n    this.showView(new PreviewView({ model: form }));\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport FormApp from 'js/apps/forms/form/form_app';\nimport FormPatientApp from 'js/apps/forms/form/form-patient_app';\nimport FormPreviewApp from 'js/apps/forms/form/form-preview_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'FormsApp',\n\n  childApps: {\n    form: FormApp,\n    formPreview: FormPreviewApp,\n    patientForm: FormPatientApp,\n  },\n\n  eventRoutes: {\n    'form:patient': {\n      action: 'showFormPatient',\n      route: 'patient/:id/form/:id',\n    },\n    'form:patientAction': {\n      action: 'showFormAction',\n      route: 'patient-action/:id/form/:id',\n    },\n    'form:preview': {\n      action: 'showFormPreview',\n      route: 'form/:id/preview',\n    },\n  },\n  showFormAction(patientActionId, formId) {\n    this.startCurrent('form', { formId, patientActionId });\n  },\n  showFormPatient(patientId, formId) {\n    this.startCurrent('patientForm', { formId, patientId });\n  },\n  showFormPreview(formId) {\n    this.startCurrent('formPreview', { formId });\n  },\n});\n","import { extend, result } from 'underscore';\nimport { normalizeMethods } from 'marionette';\n\nimport App from './app';\n\nexport default App.extend({\n  constructor: function() {\n    this._current = null;\n\n    this.initRouter();\n\n    this.on('before:stop', this.stopCurrent);\n\n    App.apply(this, arguments);\n  },\n\n  initRouter() {\n    const eventRoutes = result(this, 'eventRoutes', {});\n    this._eventRoutes = normalizeMethods(this, eventRoutes);\n  },\n\n  // Start a route from a currentRoute passed from a routerapp\n  startRoute({ event, eventArgs }) {\n    const action = this._eventRoutes[event];\n\n    if (!action) return;\n\n    action.apply(this, eventArgs);\n  },\n\n  mixinOptions(options) {\n    const appOptions = result(this, 'currentAppOptions');\n\n    return extend({}, appOptions, options);\n  },\n\n  // handler that ensures one running app per type\n  startCurrent(appName, options) {\n    this.stopCurrent();\n\n    const app = this.startChildApp(appName, this.mixinOptions(options));\n\n    this._current = app;\n\n    return app;\n  },\n\n  getCurrent() {\n    return this._current;\n  },\n\n  stopCurrent() {\n    if (!this._current) return;\n\n    this._current.stop();\n    this._current = null;\n  },\n});\n","import { extend, keys, reduce } from 'underscore';\n\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nexport default Backbone.Model.extend({\n  defaults() {\n    return {\n      actionBeingEdited: null,\n      selectedActions: {},\n    };\n  },\n  isBeingEdited(model) {\n    return this.get('actionBeingEdited') === model.id;\n  },\n  getSelectedList() {\n    return this.get('selectedActions');\n  },\n  toggleSelected(model, isSelected) {\n    this.set('selectedActions', extend({}, this.get('selectedActions'), {\n      [model.id]: isSelected,\n    }));\n  },\n  isSelected(model) {\n    const list = this.getSelectedList();\n\n    return !!list[model.id];\n  },\n  getSelected(collection) {\n    const list = this.getSelectedList();\n    const collectionSelected = reduce(keys(list), (selected, item) => {\n      if (list[item] && collection.get(item)) {\n        selected.push({\n          id: item,\n        });\n      }\n\n      return selected;\n    }, []);\n\n    return Radio.request('entities', 'actions:collection', collectionSelected);\n  },\n  clearSelected() {\n    this.set('selectedActions', {});\n    this.trigger('select:none');\n  },\n  selectAll(collection) {\n    const list = collection.reduce((selected, model) => {\n      selected[model.id] = true;\n      return selected;\n    }, {});\n\n    this.set('selectedActions', list);\n\n    this.trigger('select:all');\n  },\n});\n","import Radio from 'backbone.radio';\nimport dayjs from 'dayjs';\n\nimport intl from 'js/i18n';\n\nimport { ACTION_OUTREACH, ACTION_SHARING } from 'js/static';\n\nimport App from 'js/base/app';\n\nexport default App.extend({\n  beforeStart({ actionId, patientId }) {\n    if (!actionId) {\n      const currentUser = Radio.request('bootstrap', 'currentUser');\n      const currentOrg = Radio.request('bootstrap', 'currentOrg');\n      const states = currentOrg.getStates();\n\n      return Radio.request('entities', 'actions:model', {\n        _patient: patientId,\n        _state: states.at(0).id,\n        _owner: {\n          type: 'clinicians',\n          id: currentUser.id,\n        },\n        outreach: ACTION_OUTREACH.DISABLED,\n        sharing: ACTION_SHARING.DISABLED,\n        duration: 0,\n        due_date: null,\n        due_time: null,\n        updated_at: dayjs().format(),\n      });\n    }\n\n    return Radio.request('entities', 'fetch:actions:model', actionId);\n  },\n  onFail() {\n    Radio.request('alert', 'show:error', intl.patients.patient.actionApp.notFound);\n    this.stop();\n  },\n  onStart(options, action) {\n    const sidebar = Radio.request('sidebar', 'start', 'action', { action });\n\n    this.listenTo(sidebar, 'stop', this.stop);\n  },\n});\n","import { bind, some } from 'underscore';\nimport Backbone from 'backbone';\nimport dayjs from 'dayjs';\nimport hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View } from 'marionette';\n\nimport intl from 'js/i18n';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/modals.scss';\nimport 'scss/modules/sidebar.scss';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, DurationComponent } from 'js/views/patients/shared/actions_views';\n\nimport BulkEditActionBodyTemplate from './bulk-edit-action-body.hbs';\nimport BulkEditFlowBodyTemplate from './bulk-edit-flow-body.hbs';\n\nconst i18n = intl.patients.shared.bulkEdit.bulkEditViews;\n\nfunction getIsOverdue(date, time) {\n  if (!date) return false;\n\n  const dueDateTime = dayjs(time ? `${ date } ${ time }` : date);\n\n  return dueDateTime.isBefore(dayjs(), 'day') || dueDateTime.isBefore(dayjs(), 'minute');\n}\n\nconst FlowsStateComponent = StateComponent.extend({\n  onPicklistSelect({ model }) {\n    // Selected done\n    if (model.isDone() && this.getOption('flows')) {\n      this.shouldSelectDone(model);\n      return;\n    }\n\n    this.setSelectedStatus(model);\n  },\n  shouldSelectDone(model) {\n    const flows = this.getOption('flows');\n    const flowsIncomplete = some(flows.invoke('isAllDone'), complete => !complete);\n\n    if (!flowsIncomplete) {\n      this.setSelectedStatus(model);\n      return;\n    }\n\n    // We must hide the droplist before showing the modal\n    this.popRegion.empty();\n\n    if (Radio.request('bootstrap', 'currentOrg:setting', 'require_done_flow')) {\n      Radio.request('modal', 'show:small', {\n        bodyText: i18n.flowsStateComponent.requireDoneModal.bodyText,\n        headingText: i18n.flowsStateComponent.requireDoneModal.headingText,\n        submitText: i18n.flowsStateComponent.requireDoneModal.submitText,\n        cancelText: false,\n        buttonClass: 'button--blue',\n      });\n      return;\n    }\n\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.flowsStateComponent.doneModal.bodyText,\n      headingText: i18n.flowsStateComponent.doneModal.headingText,\n      submitText: i18n.flowsStateComponent.doneModal.submitText,\n      onSubmit: () => {\n        this.setSelectedStatus(model);\n        modal.destroy();\n      },\n    });\n  },\n  setSelectedStatus(model) {\n    this.setState('selected', model);\n    this.popRegion.empty();\n  },\n});\n\nconst BulkEditButtonView = View.extend({\n  template: hbs`\n   <button class=\"button--blue js-bulk-edit\">\n      {{#if isFlowList}}\n        {{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditButtonView.editFlows\") itemCount=items.length}}\n      {{else}}\n        {{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditButtonView.editActions\") itemCount=items.length}}\n      {{/if}}\n    </button>\n    <span class=\"button--text js-cancel\">{{@intl.patients.shared.bulkEdit.bulkEditViews.bulkEditButtonView.cancel}}</span>\n  `,\n  templateContext() {\n    return {\n      isFlowList: this.getOption('isFlowType'),\n    };\n  },\n  triggers: {\n    'click .js-cancel': 'click:cancel',\n    'click .js-bulk-edit': 'click:edit',\n  },\n});\n\nconst BulkEditActionsHeaderView = View.extend({\n  className: 'modal__header--sidebar',\n  template: hbs`\n    <div class=\"flex\">\n      <div class=\"flex-grow\">\n      <h3 class=\"sidebar__heading\">{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditActionsHeaderView.headingText\") itemCount=items.length}}</h3>\n      </div>\n      <div>\n        {{#if isDevelop}}<button class=\"button--icon u-margin--r-8 js-menu\">{{far \"ellipsis\"}}</button>{{/if}}\n        <button class=\"button--icon js-close\">{{far \"xmark\"}}</button>\n      </div>\n    </div>\n  `,\n  templateContext() {\n    return {\n      isDevelop: _DEVELOP_,\n    };\n  },\n  triggers: {\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const itemCount = this.collection.length;\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'confirm:delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.bulkEditActionsHeaderView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditActionsHeaderView.menuOptions.delete\") itemCount=itemCount}}</span>`,\n      itemTemplateContext: { itemCount },\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  onConfirmDelete() {\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.confirmDeleteActionsModal.bodyText,\n      headingText: i18n.confirmDeleteActionsModal.headingText,\n      submitText: i18n.confirmDeleteActionsModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.triggerMethod('delete', this.collection);\n      },\n    });\n  },\n});\n\nconst BulkEditFlowsHeaderView = View.extend({\n  className: 'modal__header--sidebar',\n  template: hbs`\n    <div class=\"flex\">\n      <div class=\"flex-grow\">\n        <h3 class=\"sidebar__heading\">{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditFlowsHeaderView.headingText\") itemCount=items.length}}</h3>\n      </div>\n      <div>\n        <button class=\"button--icon u-margin--r-8 js-menu\">{{far \"ellipsis\"}}</button>\n        <button class=\"button--icon js-close\">{{far \"xmark\"}}</button>\n      </div>\n    </div>\n  `,\n  triggers: {\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const itemCount = this.collection.length;\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'confirm:delete'),\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.bulkEditFlowsHeaderView.menuOptions.headingText,\n      itemTemplate: hbs`{{far \"trash-can\" classes=\"sidebar__delete-icon\"}}<span>{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditFlowsHeaderView.menuOptions.delete\") itemCount=itemCount}}</span>`,\n      itemTemplateContext: { itemCount },\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n  onConfirmDelete() {\n    const modal = Radio.request('modal', 'show:small', {\n      bodyText: i18n.confirmDeleteFlowsModal.bodyText,\n      headingText: i18n.confirmDeleteFlowsModal.headingText,\n      submitText: i18n.confirmDeleteFlowsModal.submitText,\n      buttonClass: 'button--red',\n      onSubmit: () => {\n        modal.destroy();\n        this.triggerMethod('delete', this.collection);\n      },\n    });\n  },\n});\n\nconst BulkEditActionsBodyView = View.extend({\n  modelEvents: {\n    'change:stateMulti': 'showState',\n    'change:ownerMulti': 'showOwner',\n    'change:dateMulti': 'showDueDateTime',\n    'change:date': 'showDueDateTime',\n    'change:timeMulti': 'showDueTime',\n    'change:durationMulti': 'showDuration',\n  },\n  className: 'modal__content--sidebar',\n  template: BulkEditActionBodyTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDate: '[data-due-date-region]',\n    dueTime: '[data-due-time-region]',\n    duration: '[data-duration-region]',\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showDueDateTime();\n    this.showDuration();\n  },\n  getStateComponent() {\n    if (this.model.get('stateMulti')) {\n      return new StateComponent({\n        viewOptions: {\n          className: 'button-secondary w-100',\n          template: hbs`{{fas \"circle-dot\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkStateDefaultText }}</span>`,\n        },\n      });\n    }\n\n    return new StateComponent({ stateId: this.model.get('stateId') });\n  },\n  getOwnerComponent() {\n    const isDisabled = this.model.someComplete();\n    const groups = this.model.getGroups();\n    const infoText = groups.length ? null : i18n.bulkOwnerInfoText;\n\n    if (this.model.get('ownerMulti')) {\n      return new OwnerComponent({\n        groups,\n        viewOptions: {\n          attributes: {\n            disabled: isDisabled,\n          },\n          className: 'button-secondary w-100',\n          template: hbs`{{far \"circle-user\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkOwnerDefaultText }}</span>`,\n        },\n        infoText,\n      });\n    }\n\n    return new OwnerComponent({\n      owner: this.model.get('owner'),\n      state: { isDisabled },\n      groups,\n      infoText,\n    });\n  },\n  getDueDateComponent() {\n    const isDisabled = this.model.someComplete();\n\n    if (this.model.get('dateMulti')) {\n      return new DueComponent({\n        state: { isDisabled },\n        viewOptions: {\n          attributes: {\n            disabled: isDisabled,\n          },\n          tagName: 'button',\n          className: 'button-secondary w-100 due-component',\n          triggers: {\n            'click': 'click',\n          },\n          template: hbs`{{far \"calendar-days\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkDueDateDefaultText }}</span>`,\n        },\n      });\n    }\n\n    const isOverdue = getIsOverdue(this.model.get('date'));\n\n    return new DueComponent({\n      date: this.model.get('date'),\n      state: { isDisabled },\n      isOverdue,\n    });\n  },\n  getDueTimeComponent() {\n    if (this.model.get('timeMulti')) {\n      return new TimeComponent({\n        viewOptions: {\n          attributes: {\n            disabled: this.model.get('dateMulti') || this.model.someComplete(),\n          },\n          className: 'button-secondary time-component w-100',\n          template: hbs`{{far \"clock\"}} <span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkDueTimeDefaultText }}</span>`,\n        },\n      });\n    }\n\n    const time = this.model.get('time');\n    const isDisabled = (this.model.get('dateMulti') && !time) || !this.model.get('date') || this.model.someComplete();\n    const isOverdue = getIsOverdue(this.model.get('date'), time);\n\n    return new TimeComponent({\n      time,\n      state: { isDisabled },\n      isOverdue,\n    });\n  },\n  getDurationComponent() {\n    const isDisabled = this.model.someComplete();\n\n    if (this.model.get('durationMulti')) {\n      return new DurationComponent({\n        viewOptions: {\n          className: 'button-secondary w-100',\n          attributes: {\n            disabled: isDisabled,\n          },\n          template: hbs`{{far \"stopwatch\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkDurationDefaultText }}</span>`,\n        },\n      });\n    }\n\n    return new DurationComponent({\n      duration: this.model.get('duration'),\n      state: { isDisabled },\n    });\n  },\n  showState() {\n    const stateComponent = this.getStateComponent();\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.setState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const ownerComponent = this.getOwnerComponent();\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.setOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDateTime() {\n    this.showDueDate();\n    this.showDueTime();\n  },\n  showDueDate() {\n    const dueDateComponent = this.getDueDateComponent();\n\n    this.listenTo(dueDateComponent, 'change:due', date => {\n      this.model.setDueDate(date);\n    });\n\n    this.showChildView('dueDate', dueDateComponent);\n  },\n  showDueTime() {\n    const dueTimeComponent = this.getDueTimeComponent();\n\n    this.listenTo(dueTimeComponent, 'change:time', time => {\n      this.model.setDueTime(time);\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showDuration() {\n    const durationComponent = this.getDurationComponent();\n\n    this.listenTo(durationComponent, 'change:duration', duration => {\n      this.model.setDuration(duration);\n    });\n\n    this.showChildView('duration', durationComponent);\n  },\n});\n\nconst ApplyOwnerView = View.extend({\n  modelEvents: {\n    'change:applyOwner': 'render',\n    'change:ownerMulti': 'render',\n  },\n  className: 'u-margin--t-4 u-margin--l-16',\n  template: hbs`\n    <button class=\"button--checkbox js-apply-owner\"{{#if ownerMulti}} disabled{{/if}}>\n      {{#if applyOwner}}{{fas \"square-check\"}}{{else}}{{fal \"square\"}}{{/if~}}\n      <span>{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkEditFlowBodyTemplate.applyOwnerLabel }}</span>\n    </button>`,\n  triggers: {\n    'click .js-apply-owner': 'click:select',\n  },\n  onClickSelect() {\n    this.model.set('applyOwner', !this.model.get('applyOwner'));\n  },\n});\n\nconst BulkEditFlowsBodyView = View.extend({\n  modelEvents: {\n    'change:stateMulti': 'showState',\n    'change:ownerMulti': 'showOwner',\n  },\n  className: 'modal__content--sidebar',\n  template: BulkEditFlowBodyTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    applyOwner: '[data-apply-owner-region]',\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showApplyOwner();\n  },\n  getStateComponent() {\n    if (this.model.get('stateMulti')) {\n      return new FlowsStateComponent({\n        flows: this.collection,\n        viewOptions: {\n          className: 'button-secondary w-100',\n          template: hbs`{{fas \"circle-dot\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkStateDefaultText }}</span>`,\n        },\n      });\n    }\n\n    return new FlowsStateComponent({\n      flows: this.collection,\n      stateId: this.model.get('stateId'),\n    });\n  },\n  getOwnerComponent() {\n    const isDisabled = this.model.someComplete();\n    const groups = this.model.getGroups();\n    const infoText = groups.length ? null : i18n.bulkOwnerInfoText;\n\n    if (this.model.get('ownerMulti')) {\n      return new OwnerComponent({\n        groups,\n        viewOptions: {\n          className: 'button-secondary w-100',\n          template: hbs`{{far \"circle-user\"}}<span class=\"button__value--indeterminate\">{{ @intl.patients.shared.bulkEdit.bulkEditViews.bulkOwnerDefaultText }}</span>`,\n        },\n        infoText,\n        state: { isDisabled },\n      });\n    }\n\n    return new OwnerComponent({\n      owner: this.model.get('owner'),\n      groups,\n      infoText,\n      state: { isDisabled },\n    });\n  },\n  showState() {\n    const stateComponent = this.getStateComponent();\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.setState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const ownerComponent = this.getOwnerComponent();\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.setOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showApplyOwner() {\n    this.showChildView('applyOwner', new ApplyOwnerView({\n      model: this.model,\n    }));\n  },\n});\n\nconst BulkEditFlowsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditFlowsSuccess\") itemCount=itemCount}}`;\n\nconst BulkEditActionsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkEditActionsSuccess\") itemCount=itemCount}}`;\n\nconst BulkDeleteFlowsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkDeleteFlowsSuccess\") itemCount=itemCount}}`;\n\nconst BulkDeleteActionsSuccessTemplate = hbs`{{formatMessage  (intlGet \"patients.shared.bulkEdit.bulkEditViews.bulkDeleteActionsSuccess\") itemCount=itemCount}}`;\n\nexport {\n  BulkEditButtonView,\n  BulkEditActionsHeaderView,\n  BulkEditFlowsHeaderView,\n  BulkEditActionsBodyView,\n  BulkEditFlowsBodyView,\n  BulkEditFlowsSuccessTemplate,\n  BulkEditActionsSuccessTemplate,\n  BulkDeleteFlowsSuccessTemplate,\n  BulkDeleteActionsSuccessTemplate,\n};\n","import { partial, pick } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { BulkEditActionsBodyView, BulkEditActionsHeaderView } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\n\nconst StateModel = Backbone.Model.extend({\n  initialize({ collection }) {\n    const initModel = collection.at(0);\n    this.initBulkState(collection, initModel);\n    this.initBulkOwner(collection, initModel);\n    this.initBulkDueDate(collection, initModel);\n    this.initBulkDueTime(collection, initModel);\n    this.initBulkDuration(collection, initModel);\n  },\n  initBulkState(collection, initModel) {\n    const stateId = initModel.getState().id;\n    const stateMulti = collection.some(item => {\n      return item.getState().id !== stateId;\n    });\n\n    this.set({\n      stateMulti,\n      stateId: stateMulti ? null : stateId,\n    });\n  },\n  initBulkOwner(collection, initModel) {\n    const owner = initModel.getOwner();\n    const ownerMulti = collection.some(item => {\n      return item.getOwner().id !== owner.id;\n    });\n\n    this.set({\n      ownerMulti,\n      owner: ownerMulti ? null : owner,\n    });\n  },\n  initBulkDueDate(collection, initModel) {\n    const date = initModel.get('due_date');\n    const dateMulti = collection.some(item => {\n      return item.get('due_date') !== date;\n    });\n\n    this.set({\n      dateMulti,\n      date: dateMulti ? null : date,\n    });\n  },\n  initBulkDueTime(collection, initModel) {\n    const time = initModel.get('due_time');\n    const timeMulti = collection.some(item => {\n      return item.get('due_time') !== time;\n    });\n\n    this.set({\n      timeMulti,\n      time: timeMulti ? null : time,\n    });\n  },\n  initBulkDuration(collection, initModel) {\n    const duration = initModel.get('duration');\n    const durationMulti = collection.some(item => {\n      return item.get('duration') !== duration;\n    });\n\n    this.set({\n      durationMulti,\n      duration: durationMulti ? null : duration,\n    });\n  },\n  setState(state) {\n    return this.set({ stateId: state.id, stateMulti: false, stateChanged: true });\n  },\n  setOwner(owner) {\n    return this.set({ owner, ownerMulti: false, ownerChanged: true });\n  },\n  setDueDate(date) {\n    if (!date) {\n      return this.set({ date: null, time: null, dateMulti: false, timeMulti: false });\n    }\n    return this.set({ date: date.format('YYYY-MM-DD'), dateMulti: false, dateChanged: true });\n  },\n  setDueTime(time) {\n    return this.set({ time: time || null, timeMulti: false, timeChanged: true });\n  },\n  setDuration(duration) {\n    return this.set({ duration, durationMulti: false, durationChanged: true });\n  },\n  getGroups() {\n    return this.get('collection').getPatients().getSharedGroups();\n  },\n  someComplete() {\n    return this.get('collection').some(item => {\n      return item.isDone();\n    });\n  },\n  getData() {\n    const {\n      stateChanged,\n      stateId,\n      ownerChanged,\n      owner,\n      dateChanged,\n      date,\n      timeChanged,\n      time,\n      durationChanged,\n      duration,\n    } = this.attributes;\n\n    const saveData = {};\n\n    if (stateChanged) saveData._state = stateId;\n    if (ownerChanged) saveData._owner = pick(owner, 'id', 'type');\n    if (dateChanged) saveData.due_date = date;\n    if (timeChanged) saveData.due_time = time;\n    if (durationChanged) saveData.duration = duration;\n\n    return saveData;\n  },\n});\n\nexport default App.extend({\n  StateModel,\n  onStart() {\n    const headerView = new BulkEditActionsHeaderView({\n      collection: this.getState('collection'),\n    });\n    const bodyView = new BulkEditActionsBodyView({\n      model: this.getState(),\n      collection: this.getState('collection'),\n    });\n\n    this.modal = Radio.request('modal', 'show:sidebar', {\n      headerView,\n      bodyView,\n      onSubmit: this.onSubmit.bind(this),\n    });\n\n    this.listenTo(headerView, {\n      'delete': partial(this.triggerMethod, 'delete'),\n    });\n\n    this.listenTo(this.modal, {\n      'destroy': this.stop,\n    });\n  },\n  onSubmit() {\n    this.modal.disableSubmit();\n    this.triggerMethod('save', this.getState().getData());\n  },\n  onStop() {\n    this.modal.destroy();\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport 'scss/modules/progress-bar.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { CheckComponent, StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton } from 'js/views/patients/shared/actions_views';\nimport { FlowStateComponent, OwnerComponent as FlowOwnerComponent } from 'js/views/patients/shared/flows_views';\n\nimport HeaderTemplate from './header.hbs';\nimport ActionItemTemplate from './action-item.hbs';\n\nimport '../patient.scss';\nimport './patient-flow.scss';\n\nconst ContextTrailView = View.extend({\n  initialize() {\n    this.patient = this.model.getPatient();\n  },\n  className: 'patient-flow__context-trail',\n  template: hbs`\n    {{#if hasLatestList}}\n      <a class=\"js-back patient-flow__context-link\">\n        {{fas \"chevron-left\"}}{{ @intl.patients.patient.flowViews.contextBackBtn }}\n      </a>\n      {{fas \"chevron-right\"}}\n    {{/if}}\n    <a class=\"js-patient patient-flow__context-link\">{{ firstName }} {{ lastName }}</a>{{fas \"chevron-right\"}}{{ name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n    'click .js-patient': 'click:patient',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:latestList');\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.patient.id);\n  },\n  templateContext() {\n    return {\n      hasLatestList: Radio.request('history', 'has:latestList'),\n      firstName: this.patient.get('first_name'),\n      lastName: this.patient.get('last_name'),\n    };\n  },\n});\n\nconst HeaderView = View.extend({\n  className: 'patient-flow__header',\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'render',\n    'change:_progress': 'onChangeFlowProgress',\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  template: HeaderTemplate,\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n  },\n  triggers: {\n    'click': 'edit',\n  },\n  ui: {\n    progress: '.js-progress',\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n  },\n  showState() {\n    const stateComponent = new FlowStateComponent({\n      flow: this.model,\n      stateId: this.model.get('_state'),\n      isCompact: true,\n    });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isDone();\n    const ownerComponent = new FlowOwnerComponent({\n      owner: this.model.getOwner(),\n      groups: this.model.getPatient().getGroups(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  onChangeFlowProgress() {\n    const prog = this.model.get('_progress');\n    this.ui.progress.attr({ value: prog.complete, max: prog.total });\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"patient-flow__empty-list\">\n      <h2>{{ @intl.patients.patient.flowViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  modelEvents: {\n    'change': 'render',\n    'editing': 'onEditing',\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, {\n      'select:all': this.showCheck,\n      'select:none': this.showCheck,\n    });\n\n    this.flow = this.model.getFlow();\n\n    this.listenTo(this.flow, {\n      'change:_state': this.render,\n    });\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      hasForm: this.model.getForm(),\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n    };\n  },\n  tagName: 'tr',\n  regions: {\n    check: '[data-check-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDay: '[data-due-day-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n  },\n  triggers: {\n    'click': 'click',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow:action', this.model.get('_flow'), this.model.id);\n  },\n  onEditing(isEditing) {\n    const isSelected = this.state.isSelected(this.model);\n\n    if (isSelected) return;\n\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  onRender() {\n    this.showCheck();\n    this.showState();\n    this.showOwner();\n    this.showDueDay();\n    this.showDueTime();\n    this.showForm();\n  },\n  toggleSelected(isSelected) {\n    const isBeingEdited = this.state.isBeingEdited(this.model);\n\n    if (isBeingEdited) return;\n\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    const isSelected = this.state.isSelected(this.model);\n    this.toggleSelected(isSelected);\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'(domEvent) {\n        this.state.toggleSelected(this.model, !this.state.isSelected(this.model));\n      },\n      'change:isSelected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n  showState() {\n    const isDisabled = this.flow.isDone();\n    this.stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(this.stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', this.stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isDone() || this.flow.isDone();\n    this.ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      groups: this.model.getPatient().getGroups(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(this.ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', this.ownerComponent);\n  },\n  showDueDay() {\n    const isDisabled = this.model.isDone() || this.flow.isDone();\n    this.dueDayComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true,\n      state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(this.dueDayComponent, 'change:due', date => {\n      this.model.saveDueDate(date);\n    });\n\n    this.showChildView('dueDay', this.dueDayComponent);\n  },\n  showDueTime() {\n    const isDisabled = this.model.isDone() || this.flow.isDone() || !this.model.get('due_date');\n    this.dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true, state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(this.dueTimeComponent, 'change:time', time => {\n      this.model.saveDueTime(time);\n    });\n\n    this.showChildView('dueTime', this.dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list patient-flow__list',\n  tagName: 'table',\n  childView: ActionItemView,\n  childViewOptions() {\n    return {\n      state: this.getOption('state'),\n    };\n  },\n  emptyView: EmptyView,\n  viewComparator({ model }) {\n    return model.get('sequence');\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'patient-flow__frame',\n  template: hbs`\n    <div class=\"patient-flow__layout\">\n      <div data-context-trail-region></div>\n      <div data-header-region></div>\n      <div class=\"patient-flow__actions\">\n        <div data-select-all-region></div>\n        <div data-tools-region></div>\n      </div>\n      <div data-action-list-region></div>\n    </div>\n    <div class=\"patient-flow__sidebar\" data-sidebar-region></div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    header: '[data-header-region]',\n    sidebar: '[data-sidebar-region]',\n    actionList: {\n      el: '[data-action-list-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n    tools: {\n      el: '[data-tools-region]',\n      replaceElement: true,\n    },\n    selectAll: {\n      el: '[data-select-all-region]',\n      replaceElement: true,\n    },\n  },\n});\n\nconst SelectAllView = View.extend({\n  tagName: 'button',\n  className: 'button--checkbox u-margin--r-16',\n  attributes() {\n    if (this.getOption('isDisabled')) return { disabled: 'disabled' };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  getTemplate() {\n    if (this.getOption('isSelectAll')) return hbs`{{fas \"square-check\"}}`;\n    if (this.getOption('isSelectNone') || this.getOption('isDisabled')) return hbs`{{fal \"square\"}}`;\n\n    return hbs`{{fas \"square-minus\"}}`;\n  },\n});\n\nexport {\n  LayoutView,\n  ContextTrailView,\n  HeaderView,\n  ListView,\n  SelectAllView,\n};\n","import { View } from 'marionette';\n\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/buttons.scss';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport intl from 'js/i18n';\n\nimport './add-workflow.scss';\n\nconst i18n = intl.patients.shared.addWorkflow.addWorkflowViews;\n\nconst AddWorkflowOptlist = Optionlist.extend({\n  popWidth: 248,\n  isSelectlist: true,\n  placeholderText: i18n.addWorkflowOptlist.placeholderText,\n  itemTemplateContext() {\n    const isProgramAction = this.model.get('itemType') === 'program-actions';\n    const actionIcon = this.model.get('hasOutreach') ? 'share-from-square' : 'file-lines';\n    return {\n      icon: {\n        icon: isProgramAction ? actionIcon : 'folder',\n        type: isProgramAction ? 'far' : 'fas',\n        classes: 'add-workflow__picklist-icon',\n      },\n    };\n  },\n});\n\nconst AddButtonView = View.extend({\n  tagName: 'button',\n  className: 'button-primary',\n  headingText: i18n.addWorkflowOptlist.headingText,\n  template: hbs`{{far \"circle-plus\"}}<span>{{ @intl.patients.shared.addWorkflow.addWorkflowViews.addButtonView.label }}</span>{{far \"angle-down\"}}`,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    const optionlist = new AddWorkflowOptlist({\n      headingText: this.getOption('headingText'),\n      ui: this.$el,\n      uiView: this,\n      lists: this.getOption('lists'),\n      onNew: this.getOption('onNew'),\n    });\n\n    optionlist.show();\n  },\n});\n\nconst itemClasses = {\n  new: 'u-text--italic',\n  noResults: 'picklist--no-results',\n};\n\nexport {\n  AddButtonView,\n  i18n,\n  itemClasses,\n};\n","import { bind } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport intl, { renderTemplate } from 'js/i18n';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport StateModel from './flow_state';\n\nimport ActionApp from 'js/apps/patients/patient/action/action_app';\nimport BulkEditActionsApp from 'js/apps/patients/sidebar/bulk-edit-actions_app';\nimport PatientSidebarApp from 'js/apps/patients/patient/sidebar/sidebar_app';\n\nimport { LayoutView, ContextTrailView, HeaderView, ListView, SelectAllView } from 'js/views/patients/patient/flow/flow_views';\nimport { BulkEditButtonView, BulkEditActionsSuccessTemplate, BulkDeleteActionsSuccessTemplate } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\nimport { AddButtonView, i18n } from 'js/views/patients/shared/add-workflow/add-workflow_views';\n\nexport default SubRouterApp.extend({\n  StateModel,\n  routerAppName: 'FlowApp',\n  childApps: {\n    action: ActionApp,\n    patient: PatientSidebarApp,\n    bulkEditActions: BulkEditActionsApp,\n  },\n  eventRoutes: {\n    'flow:action': 'showActionSidebar',\n  },\n  stateEvents: {\n    'change:selectedActions': 'onChangeSelected',\n  },\n  onChangeSelected() {\n    this.toggleBulkSelect();\n  },\n  onBeforeStart() {\n    this.resetStateDefaults();\n    this.showView(new LayoutView());\n  },\n  beforeStart({ flowId }) {\n    return [\n      Radio.request('entities', 'fetch:flows:model', flowId),\n      Radio.request('entities', 'fetch:actions:collection:byFlow', flowId),\n      Radio.request('entities', 'fetch:patients:model:byFlow', flowId),\n    ];\n  },\n  onFail() {\n    Radio.trigger('event-router', 'notFound');\n    this.stop();\n  },\n  onStart({ currentRoute }, [flow], [actions], [patient]) {\n    this.flow = flow;\n    this.actions = actions;\n    this.patient = patient;\n    this.addOpts = this.getAddOpts(this.flow.getProgramFlow());\n\n    this.showChildView('contextTrail', new ContextTrailView({\n      model: this.flow,\n    }));\n\n    this.showHeader();\n    this.toggleBulkSelect();\n    this.showActionList();\n    this.showSidebar();\n\n    this.listenTo(this.actions, {\n      'change:_state': this.onActionChangeState,\n      'destroy': this.onActionDestroy,\n    });\n\n    this.listenTo(this.flow, 'change:_owner', this.onFlowChangeOwner);\n\n    this.startRoute(currentRoute);\n  },\n  onActionChangeState(action) {\n    const { complete, total } = this.flow.get('_progress');\n    const isDone = action.isDone();\n\n    const prevState = Radio.request('entities', 'states:model', action.previous('_state'));\n    const isPrevDone = prevState.isDone();\n\n    // No change in completion\n    if (isPrevDone === isDone) return;\n\n    this.flow.set({ _progress: {\n      complete: complete + (isDone ? 1 : -1),\n      total,\n    } });\n  },\n  onActionDestroy(action) {\n    const { complete, total } = this.flow.get('_progress');\n    const isDone = action.isDone();\n\n    this.flow.set({ _progress: {\n      complete: complete - (isDone ? 1 : 0),\n      total: total - 1,\n    } });\n  },\n  onFlowChangeOwner(flow, _owner) {\n    if (_owner.type === 'teams') return;\n    const ownerTeam = flow.getOwner().getTeam();\n    this.actions.each(action => {\n      if (!action.isDone() && action.getOwner() === ownerTeam) action.set({ _owner });\n    });\n  },\n  showHeader() {\n    const headerView = new HeaderView({\n      model: this.flow,\n    });\n\n    this.listenTo(headerView, {\n      'edit': this.onEditFlow,\n    });\n\n    this.showChildView('header', headerView);\n  },\n\n  getAddOpts(programFlow) {\n    return programFlow.getActions().map(action => {\n      return {\n        text: action.get('name'),\n        itemType: action.type,\n        hasOutreach: action.hasOutreach(),\n        onSelect: bind(this.triggerMethod, this, 'add:programAction', action),\n      };\n    });\n  },\n\n  showAdd() {\n    this.showChildView('tools', new AddButtonView({\n      headingText: i18n.addActionHeadingText,\n      lists: [{ collection: new Backbone.Collection(this.addOpts) }],\n    }));\n  },\n\n  toggleBulkSelect() {\n    this.selected = this.getState().getSelected(this.actions);\n\n    this.showSelectAll();\n\n    if (this.selected.length) {\n      this.showBulkEditButtonView();\n      return;\n    }\n\n    this.showAdd();\n  },\n  showBulkEditButtonView() {\n    const bulkEditButtonView = this.showChildView('tools', new BulkEditButtonView({\n      tagName: 'span',\n      collection: this.selected,\n    }));\n\n    this.listenTo(bulkEditButtonView, {\n      'click:cancel': this.onClickBulkCancel,\n      'click:edit': this.onClickBulkEdit,\n    });\n  },\n  onClickBulkCancel() {\n    this.getState().clearSelected();\n  },\n  onClickBulkEdit() {\n    const app = this.startChildApp('bulkEditActions', {\n      state: { collection: this.selected },\n    });\n\n    this.listenTo(app, {\n      'save'(saveData) {\n        this.selected.save(saveData)\n          .done(() => {\n            this.showUpdateSuccess(this.selected.length);\n            app.stop();\n            this.getState().clearSelected();\n          })\n          .fail(() => {\n            Radio.request('alert', 'show:error', intl.patients.worklist.worklistApp.bulkEditFailure);\n            this.getState().clearSelected();\n            this.restart();\n          });\n      },\n      'delete'() {\n        const itemCount = this.selected.length;\n\n        this.selected.destroy().then(() => {\n          this.showDeleteSuccess(itemCount);\n          app.stop();\n          this.getState().clearSelected();\n        });\n      },\n    });\n  },\n  showDeleteSuccess(itemCount) {\n    Radio.request('alert', 'show:success', renderTemplate(BulkDeleteActionsSuccessTemplate, { itemCount }));\n  },\n  showUpdateSuccess(itemCount) {\n    Radio.request('alert', 'show:success', renderTemplate(BulkEditActionsSuccessTemplate, { itemCount }));\n  },\n  showDisabledSelectAll() {\n    this.showChildView('selectAll', new SelectAllView({ isDisabled: true }));\n  },\n  showSelectAll() {\n    if (!this.actions.length) {\n      this.showDisabledSelectAll();\n      return;\n    }\n    const isSelectAll = this.selected.length === this.actions.length;\n    const isSelectNone = !this.selected.length;\n    const selectAllView = new SelectAllView({\n      isSelectAll,\n      isSelectNone,\n    });\n\n    this.listenTo(selectAllView, 'click', this.onClickBulkSelect);\n\n    this.showChildView('selectAll', selectAllView);\n  },\n  onClickBulkSelect() {\n    if (this.selected.length === this.actions.length) {\n      this.getState().clearSelected();\n      return;\n    }\n\n    this.getState().selectAll(this.actions);\n  },\n\n  onAddProgramAction(programAction) {\n    const action = programAction.getAction({ flowId: this.flow.id });\n    action.saveAll().done(() => {\n      this.actions.push(action);\n\n      Radio.trigger('event-router', 'flow:action', this.flow.id, action.id);\n    });\n  },\n\n  showActionList() {\n    this.showChildView('actionList', new ListView({\n      collection: this.actions,\n      state: this.getState(),\n    }));\n  },\n\n  showSidebar() {\n    this.startChildApp('patient', {\n      region: this.getRegion('sidebar'),\n      patient: this.patient,\n    });\n  },\n\n  showActionSidebar(flowId, actionId) {\n    const actionApp = this.getChildApp('action');\n\n    this.listenToOnce(actionApp, {\n      'start'(options, action) {\n        this.setState('actionBeingEdited', action.id);\n        action.trigger('editing', true);\n      },\n      'stop'() {\n        this.setState('actionBeingEdited', null);\n      },\n    });\n\n    this.startChildApp('action', { actionId });\n  },\n\n  onEditFlow() {\n    Radio.request('sidebar', 'start', 'flow', { flow: this.flow });\n  },\n});\n","import { bind, noop } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { AddButtonView, i18n, itemClasses } from 'js/views/patients/shared/add-workflow/add-workflow_views';\n\nconst optEvents = {\n  'program-actions': 'add:programAction',\n  'program-flows': 'add:programFlow',\n  'new': 'add:newAction',\n};\n\nexport default App.extend({\n  beforeStart() {\n    return [\n      Radio.request('entities', 'fetch:programs:collection'),\n      Radio.request('entities', 'fetch:programActions:collection'),\n      Radio.request('entities', 'fetch:programFlows:collection'),\n    ];\n  },\n  onStart(options, [programs]) {\n    programs.comparator = 'name';\n    programs.reset(programs.filter({ published: true }));\n\n    this.showView(new AddButtonView({\n      lists: this.getLists(programs),\n    }));\n  },\n  getLists(programs) {\n    const lists = this.getProgramsOpts(programs);\n\n    const newActionOpt = {\n      itemType: 'program-actions',\n      text: i18n.newActionText,\n      onSelect: bind(this.triggerMethod, this, optEvents.new),\n    };\n\n    lists.unshift({\n      collection: new Backbone.Collection([newActionOpt]),\n      itemClassName: itemClasses.new,\n    });\n\n    return lists;\n  },\n  getProgramsOpts(programs) {\n    return programs.map(program => {\n      const headingText = program.get('name');\n      const programItems = program.getPublished();\n      const noResultsOpt = {\n        itemType: 'program-actions',\n        text: i18n.noResultsText,\n      };\n\n      if (!programItems.length) {\n        return {\n          itemClassName: itemClasses.noResults,\n          headingText,\n          collection: new Backbone.Collection([noResultsOpt]),\n          getItemSearchText: noop,\n        };\n      }\n\n      const itemsOpts = this.getProgramItemsOpts(programItems);\n\n      return {\n        headingText,\n        collection: new Backbone.Collection(itemsOpts),\n      };\n    });\n  },\n  getProgramItemsOpts(programItems) {\n    return programItems.map(item => {\n      return {\n        text: item.get('name'),\n        itemType: item.type,\n        hasOutreach: item.type === 'program-actions' && item.hasOutreach(),\n        onSelect: bind(this.triggerMethod, this, optEvents[item.type], item),\n      };\n    });\n  },\n});\n","import anime from 'animejs';\nimport Radio from 'backbone.radio';\n\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport { alphaSort } from 'js/utils/sorting';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/progress-bar.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton } from 'js/views/patients/shared/actions_views';\n\nimport ActionItemTemplate from './action-item.hbs';\nimport FlowItemTemplate from './flow-item.hbs';\nimport LayoutTemplate from './layout.hbs';\n\nimport 'scss/domain/action-state.scss';\nimport '../patient.scss';\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"patient__empty-list\">\n      <h2>{{ @intl.patients.patient.dashboard.dashboardViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  onInitialize() {\n    if (this.view.model.isNew()) this.$el.addClass('is-selected');\n  },\n});\n\nconst DoneBehavior = Behavior.extend({\n  modelEvents: {\n    'change:_state': 'onChangeState',\n  },\n  onChangeState() {\n    if (this.view.model.isDone()) {\n      anime({\n        targets: this.el,\n        delay: 300,\n        duration: 500,\n        opacity: [1, 0],\n        easing: 'easeOutQuad',\n        complete: () => {\n          this.view.triggerMethod('change:visible');\n        },\n      });\n      return;\n    }\n\n    this.$el.css({\n      opacity: 1,\n    });\n\n    this.view.triggerMethod('change:visible');\n  },\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior, DoneBehavior],\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDay: '[data-due-day-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showDueDay();\n    this.showDueTime();\n    this.showForm();\n  },\n  showState() {\n    const isDisabled = this.model.isNew();\n    const stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isNew();\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      groups: this.model.getPatient().getGroups(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDay() {\n    const isDisabled = this.model.isNew();\n    const dueDayComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true, state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(dueDayComponent, 'change:due', date => {\n      this.model.saveDueDate(date);\n    });\n\n    this.showChildView('dueDay', dueDayComponent);\n  },\n  showDueTime() {\n    const isDisabled = this.model.isNew() || !this.model.get('due_date');\n    const dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true, state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(dueTimeComponent, 'change:time', time => {\n      this.model.saveDueTime(time);\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n});\n\nconst FlowItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior],\n  regions: {\n    owner: '[data-owner-region]',\n  },\n  template: FlowItemTemplate,\n  templateContext() {\n    const stateOptions = this.model.getState().get('options');\n\n    return {\n      stateOptions,\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow', this.model.id);\n  },\n  onRender() {\n    this.showOwner();\n  },\n  showOwner() {\n    const isDisabled = this.model.isNew();\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      groups: this.model.getPatient().getGroups(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst ListView = CollectionView.extend({\n  childViewEvents: {\n    'change:visible': 'filter',\n  },\n  className: 'table-list patient__list',\n  tagName: 'table',\n  childView(item) {\n    if (item.type === 'flows') {\n      return FlowItemView;\n    }\n\n    return ActionItemView;\n  },\n  emptyView: EmptyView,\n  viewComparator(viewA, viewB) {\n    return alphaSort('desc', viewA.model.get('updated_at'), viewB.model.get('updated_at'));\n  },\n  viewFilter({ model }) {\n    return !model.isDone();\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region patient__content',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n    addWorkflow: '[data-add-workflow-region]',\n  },\n  ui: {\n    loading: '.js-loading',\n  },\n  template: LayoutTemplate,\n  triggers: {\n    'click .js-archive': 'click:archive',\n  },\n  onClickArchive() {\n    Radio.trigger('event-router', 'patient:archive', this.model.id);\n  },\n  onRender() {\n    anime({\n      targets: this.ui.loading[0],\n      opacity: 0.5,\n      loop: true,\n      easing: 'easeInOutSine',\n      duration: 400,\n      direction: 'alternate',\n    });\n  },\n});\n\nexport {\n  ListView,\n  LayoutView,\n};\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { STATE_STATUS } from 'js/static';\n\nimport AddWorkflowApp from './add-workflow_app';\n\nimport { LayoutView, ListView } from 'js/views/patients/patient/dashboard/dashboard_views';\n\nexport default App.extend({\n  childApps: {\n    addWorkflow: AddWorkflowApp,\n  },\n\n  onBeforeStart({ patient }) {\n    this.patient = patient;\n    this.showView(new LayoutView({ model: patient }));\n    this.getRegion('content').startPreloader();\n  },\n\n  beforeStart({ patient }) {\n    const filter = { status: [STATE_STATUS.QUEUED, STATE_STATUS.STARTED].join(',') };\n    return [\n      Radio.request('entities', 'fetch:actions:collection:byPatient', { patientId: patient.id, filter }),\n      Radio.request('entities', 'fetch:flows:collection:byPatient', { patientId: patient.id, filter }),\n    ];\n  },\n\n  onStart({ patient }, [actions], [flows]) {\n    this.collection = new Backbone.Collection([...actions.models, ...flows.models]);\n\n    this.showChildView('content', new ListView({ collection: this.collection }));\n\n    const addworkflow = this.startChildApp('addWorkflow', {\n      region: this.getRegion('addWorkflow'),\n      patient,\n    });\n\n    this.listenTo(addworkflow, {\n      'add:newAction': this.onAddNewAction,\n      'add:programAction': this.onAddProgramAction,\n      'add:programFlow': this.onAddProgramFlow,\n    });\n  },\n\n  onAddNewAction() {\n    Radio.trigger('event-router', 'patient:action:new', this.patient.id);\n  },\n\n  onAddProgramAction(programAction) {\n    const action = programAction.getAction({ patientId: this.patient.id });\n    action.saveAll().done(() => {\n      this.collection.unshift(action);\n\n      Radio.trigger('event-router', 'patient:action', this.patient.id, action.id);\n    });\n  },\n\n  onAddProgramFlow(programFlow) {\n    const flow = programFlow.getFlow(this.patient.id);\n\n    flow.saveAll().done(() => {\n      Radio.trigger('event-router', 'flow', flow.id);\n    });\n\n    return;\n  },\n\n  onEditAction(action) {\n    if (action.isNew()) {\n      this.collection.unshift(action);\n      return;\n    }\n    action.trigger('editing', true);\n  },\n});\n","import anime from 'animejs';\n\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport 'scss/modules/progress-bar.scss';\nimport 'scss/modules/table-list.scss';\n\nimport { alphaSort } from 'js/utils/sorting';\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton } from 'js/views/patients/shared/actions_views';\n\nimport ActionItemTemplate from './action-item.hbs';\nimport FlowItemTemplate from './flow-item.hbs';\n\nimport '../patient.scss';\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"patient__empty-list\">\n      <h2>{{ @intl.patients.patient.archive.archiveViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n});\n\nconst DoneBehavior = Behavior.extend({\n  modelEvents: {\n    'change:_state': 'onChangeState',\n  },\n  onChangeState() {\n    if (!this.view.model.isDone()) {\n      anime({\n        targets: this.el,\n        delay: 300,\n        duration: 500,\n        opacity: [1, 0],\n        easing: 'easeOutQuad',\n        complete: () => {\n          this.view.triggerMethod('change:visible');\n        },\n      });\n      return;\n    }\n\n    this.$el.css({\n      opacity: 1,\n    });\n\n    this.view.triggerMethod('change:visible');\n  },\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior, DoneBehavior],\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDay: '[data-due-day-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n    this.showDueDay();\n    this.showDueTime();\n    this.showForm();\n  },\n  showState() {\n    const stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      groups: this.model.getPatient().getGroups(),\n      isCompact: true,\n      state: { isDisabled: true },\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDueDay() {\n    const dueDayComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true,\n      state: { isDisabled: true },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.showChildView('dueDay', dueDayComponent);\n  },\n  showDueTime() {\n    const dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true,\n      state: { isDisabled: true },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.showChildView('dueTime', dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n});\n\nconst FlowItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior, DoneBehavior],\n  regions: {\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n  },\n  template: FlowItemTemplate,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow', this.model.id);\n  },\n  onRender() {\n    this.showState();\n    this.showOwner();\n  },\n  showState() {\n    const stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      groups: this.model.getPatient().getGroups(),\n      isCompact: true,\n      state: { isDisabled: true },\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst ListView = CollectionView.extend({\n  childViewEvents: {\n    'change:visible': 'filter',\n  },\n  className: 'table-list patient__list',\n  tagName: 'table',\n  childView(item) {\n    if (item.type === 'flows') {\n      return FlowItemView;\n    }\n\n    return ActionItemView;\n  },\n  emptyView: EmptyView,\n  viewComparator({ model: modelA }, { model: modelB }) {\n    return alphaSort('desc', modelA.get('updated_at'), modelB.get('updated_at'));\n  },\n  viewFilter({ model }) {\n    return model.type === 'patient-events' || model.isDone();\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region patient__content',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n  },\n  template: hbs`\n    <div>\n      <button class=\"patient__tab js-dashboard\">\n        {{~ @intl.patients.patient.archive.archiveViews.dashboardBtn ~}}\n      </button>\n      <span class=\"patient__tab--selected\">\n        {{~ @intl.patients.patient.archive.archiveViews.archiveBtn ~}}\n      </span>\n    </div>\n    <div data-content-region></div>\n  `,\n  triggers: {\n    'click .js-dashboard': 'click:dashboard',\n  },\n  onClickDashboard() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.id);\n  },\n});\n\nexport {\n  ListView,\n  LayoutView,\n};\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { STATE_STATUS } from 'js/static';\n\nimport { LayoutView, ListView } from 'js/views/patients/patient/archive/archive_views';\n\nexport default App.extend({\n  onBeforeStart({ patient }) {\n    this.showView(new LayoutView({ model: patient }));\n    this.getRegion('content').startPreloader();\n  },\n  beforeStart({ patient }) {\n    const filter = { status: STATE_STATUS.DONE };\n\n    return [\n      Radio.request('entities', 'fetch:actions:collection:byPatient', { patientId: patient.id, filter }),\n      Radio.request('entities', 'fetch:flows:collection:byPatient', { patientId: patient.id, filter }),\n    ];\n  },\n  onStart({ patient }, [actions], [flows]) {\n    this.collection = new Backbone.Collection([...actions.models, ...flows.models]);\n    this.showChildView('content', new ListView({ collection: this.collection }));\n  },\n  onEditAction(action) {\n    action.trigger('editing', true);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport './patient.scss';\n\nconst ContextTrailView = View.extend({\n  className: 'patient__context-trail',\n  template: hbs`\n    {{#if hasLatestList}}\n      <a class=\"js-back patient__context-link\">\n        {{fas \"chevron-left\"}}{{ @intl.patients.patient.patientViews.contextBackBtn }}\n      </a>\n      {{fas \"chevron-right\"}}\n    {{/if}}{{ first_name }} {{ last_name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n  },\n  modelEvents: {\n    'change:first_name change:last_name': 'render',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:latestList');\n  },\n  templateContext() {\n    return {\n      hasLatestList: Radio.request('history', 'has:latestList'),\n    };\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'patient__frame',\n  template: hbs`\n    <div class=\"patient__layout\">\n        <div data-context-trail-region></div>\n        <div data-content-region></div>\n    </div>\n    <div class=\"patient__sidebar\" data-sidebar-region></div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    sidebar: '[data-sidebar-region]',\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n  },\n  onRender() {\n    this.showChildView('contextTrail', new ContextTrailView({ model: this.model }));\n  },\n});\n\nexport {\n  LayoutView,\n};\n","import { partial } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport DashboardApp from 'js/apps/patients/patient/dashboard/dashboard_app';\nimport ArchiveApp from 'js/apps/patients/patient/archive/archive_app';\nimport ActionApp from 'js/apps/patients/patient/action/action_app';\nimport PatientSidebarApp from 'js/apps/patients/patient/sidebar/sidebar_app';\n\nimport { LayoutView } from 'js/views/patients/patient/patient_views';\n\nexport default SubRouterApp.extend({\n  eventRoutes() {\n    return {\n      'patient:dashboard': partial(this.startCurrent, 'dashboard'),\n      'patient:archive': partial(this.startCurrent, 'archive'),\n      'patient:action': this.startPatientAction,\n      'patient:action:new': this.startPatientAction,\n    };\n  },\n\n  childApps: {\n    dashboard: DashboardApp,\n    archive: ArchiveApp,\n    action: ActionApp,\n    patient: PatientSidebarApp,\n  },\n\n  currentAppOptions() {\n    return {\n      region: this.getRegion('content'),\n      patient: this.getOption('patient'),\n    };\n  },\n\n  onBeforeStart() {\n    this.getRegion().startPreloader();\n  },\n\n  beforeStart({ patientId }) {\n    return Radio.request('entities', 'fetch:patients:model', patientId);\n  },\n\n  onStart({ currentRoute }, patient) {\n    this.patient = patient;\n\n    this.setView(new LayoutView({ model: patient }));\n\n    this.showSidebar();\n\n    this.startRoute(currentRoute);\n\n    this.showView();\n  },\n\n  startPatientAction(patientId, actionId) {\n    const actionApp = this.getChildApp('action');\n\n    this.listenToOnce(actionApp, {\n      'start'(options, action) {\n        this.editActionList(action);\n      },\n      'fail'() {\n        this.startCurrent('dashboard');\n      },\n    });\n\n    this.startChildApp('action', { actionId, patientId });\n  },\n\n  startActionList(action) {\n    if (action.isDone()) return this.startCurrent('archive');\n\n    return this.startCurrent('dashboard');\n  },\n\n  // Triggers event on started action list for marking the edited action\n  editActionList(action) {\n    const currentActionList = this.getCurrent() || this.startActionList(action);\n\n    if (!currentActionList.isRunning()) {\n      this.listenToOnce(currentActionList, 'start', () => {\n        currentActionList.triggerMethod('edit:action', action);\n      });\n      return;\n    }\n\n    currentActionList.triggerMethod('edit:action', action);\n  },\n\n  showSidebar() {\n    this.startChildApp('patient', {\n      region: this.getRegion('sidebar'),\n      patient: this.patient,\n    });\n  },\n});\n","import { clone, extend, keys, omit, reduce } from 'underscore';\nimport dayjs from 'dayjs';\nimport store from 'store';\nimport { NIL as NIL_UUID } from 'uuid';\n\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport { STATE_STATUS, RELATIVE_DATE_RANGES } from 'js/static';\n\nconst relativeRanges = new Backbone.Collection(RELATIVE_DATE_RANGES);\n\nexport default Backbone.Model.extend({\n  defaults() {\n    return {\n      actionsSortId: 'sortCreatedDesc',\n      flowsSortId: 'sortCreatedDesc',\n      actionsDateFilters: {\n        dateType: 'created_at',\n        selectedDate: null,\n        selectedMonth: null,\n        selectedWeek: null,\n        relativeDate: null,\n      },\n      flowsDateFilters: {\n        dateType: 'created_at',\n        selectedDate: null,\n        selectedMonth: null,\n        selectedWeek: null,\n        relativeDate: null,\n      },\n      filters: {\n        groupId: null,\n        clinicianId: this.currentClinician.id,\n        teamId: this.currentClinician.getTeam().id,\n        noOwner: false,\n      },\n      lastSelectedIndex: null,\n      selectedActions: {},\n      selectedFlows: {},\n      searchQuery: '',\n      listType: 'flows',\n    };\n  },\n  preinitialize() {\n    this.currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.groups = this.currentClinician.getGroups();\n  },\n  initialize() {\n    this.on('change', this.onChange);\n  },\n  onChange() {\n    store.set(`${ this.id }_${ this.currentClinician.id }-v2`, omit(this.attributes, 'searchQuery'));\n  },\n  setDateFilters(filters) {\n    return this.set(`${ this.getType() }DateFilters`, clone(filters));\n  },\n  getDateFilters() {\n    return clone(this.get(`${ this.getType() }DateFilters`));\n  },\n  getFilters() {\n    return clone(this.get('filters'));\n  },\n  getType() {\n    return this.get('listType');\n  },\n  isFlowType() {\n    return this.getType() === 'flows';\n  },\n  getSort() {\n    return this.get(`${ this.getType() }SortId`);\n  },\n  setSort(sortId) {\n    this.set(`${ this.getType() }SortId`, sortId);\n  },\n  formatDateRange(date, rangeType, dateFormat) {\n    return `${ dayjs(date).startOf(rangeType).format(dateFormat) },${ dayjs(date).endOf(rangeType).format(dateFormat) }`;\n  },\n  getEntityDateFilter() {\n    const { dateType, selectedDate, selectedMonth, selectedWeek, relativeDate } = this.getDateFilters();\n    const dateFormat = (dateType === 'due_date') ? 'YYYY-MM-DD' : '';\n\n    if (selectedDate) {\n      return {\n        [dateType]: this.formatDateRange(selectedDate, 'day', dateFormat),\n      };\n    }\n\n    if (selectedMonth) {\n      return {\n        [dateType]: this.formatDateRange(selectedMonth, 'month', dateFormat),\n      };\n    }\n\n    if (selectedWeek) {\n      return {\n        [dateType]: this.formatDateRange(selectedWeek, 'week', dateFormat),\n      };\n    }\n\n    const { prev, unit } = relativeRanges.get(relativeDate || 'thismonth').pick('prev', 'unit');\n    const relativeRange = dayjs().subtract(prev, unit);\n\n    return {\n      [dateType]: this.formatDateRange(relativeRange, unit, dateFormat),\n    };\n  },\n  getEntityFilter() {\n    const { groupId, clinicianId, teamId, noOwner } = this.getFilters();\n    const group = groupId || this.groups.pluck('id').join(',');\n    const status = [STATE_STATUS.QUEUED, STATE_STATUS.STARTED].join(',');\n\n    const dateFilter = this.getEntityDateFilter();\n\n    const filters = {\n      'owned-by': extend({ status, group }, dateFilter),\n      'shared-by': extend({ status, group }, dateFilter),\n      'new-past-day': {\n        created_at: dayjs().subtract(24, 'hours').format(),\n        status,\n        group,\n      },\n      'updated-past-three-days': {\n        updated_at: dayjs().startOf('day').subtract(3, 'days').format(),\n        status,\n        group,\n      },\n      'done-last-thirty-days': {\n        updated_at: dayjs().startOf('day').subtract(30, 'days').format(),\n        status: STATE_STATUS.DONE,\n        group,\n      },\n    };\n\n    if (this.id === 'shared-by' || !clinicianId) {\n      const currentClinician = Radio.request('bootstrap', 'currentUser');\n      const canViewAssignedActions = currentClinician.can('app:worklist:clinician_filter');\n      filters[this.id].team = teamId;\n\n      if (noOwner || !canViewAssignedActions) {\n        filters[this.id].clinician = NIL_UUID;\n      }\n    } else {\n      filters[this.id].clinician = clinicianId;\n    }\n\n    return filters[this.id];\n  },\n  getSelectedList() {\n    return this.isFlowType() ? this.get('selectedFlows') : this.get('selectedActions');\n  },\n  toggleSelected(model, isSelected, selectedIndex) {\n    const listName = this.isFlowType() ? 'selectedFlows' : 'selectedActions';\n    const currentList = clone(this.get(listName));\n\n    const newList = extend(currentList, {\n      [model.id]: isSelected,\n    });\n\n    this.set({\n      [listName]: newList,\n      lastSelectedIndex: isSelected ? selectedIndex : null,\n    });\n  },\n  isSelected(model) {\n    const list = this.getSelectedList();\n\n    return !!list[model.id];\n  },\n  getSelected(collection) {\n    const list = this.getSelectedList();\n    const collectionSelected = reduce(keys(list), (selected, item) => {\n      if (list[item] && collection.get(item)) {\n        selected.push({\n          id: item,\n        });\n      }\n\n      return selected;\n    }, []);\n\n    return Radio.request('entities', `${ this.getType() }:collection`, collectionSelected);\n  },\n  clearSelected() {\n    const listName = this.isFlowType() ? 'selectedFlows' : 'selectedActions';\n\n    this.set({\n      [listName]: {},\n      lastSelectedIndex: null,\n    });\n\n    this.trigger('select:none');\n  },\n  selectMultiple(selectedIds, newLastSelectedIndex = null) {\n    const listName = this.isFlowType() ? 'selectedFlows' : 'selectedActions';\n\n    const currentSelectedList = this.get(listName);\n\n    const newSelectedList = selectedIds.reduce((selected, id) => {\n      selected[id] = true;\n      return selected;\n    }, clone(currentSelectedList));\n\n    this.set({\n      [listName]: newSelectedList,\n      lastSelectedIndex: newLastSelectedIndex,\n    });\n\n    this.trigger('select:multiple');\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\n\nimport Droplist from 'js/components/droplist';\n\nimport 'js/views/patients/worklist/worklist-list.scss';\n\nconst FiltersView = View.extend({\n  className: 'worklist-list__filters',\n  template: hbs`\n    <div class=\"worklist-list__filter\" data-group-filter-region></div>\n    <div class=\"worklist-list__filter\" data-owner-filter-region></div>\n    <div class=\"worklist-list__filter\" data-owner-toggle-region></div>\n  `,\n  regions: {\n    group: '[data-group-filter-region]',\n    owner: '[data-owner-filter-region]',\n    ownerToggle: '[data-owner-toggle-region]',\n  },\n});\n\nconst GroupsDropList = Droplist.extend({\n  viewOptions: {\n    className: 'button-filter',\n    template: hbs`{{ name }}{{far \"angle-down\"}}`,\n  },\n  picklistOptions: {\n    attr: 'name',\n  },\n});\n\nconst NoOwnerToggleView = View.extend({\n  template: hbs`\n    <button class=\"button-filter-toggle {{#if noOwner}}button--blue{{/if}}\">\n      {{ @intl.patients.worklist.filtersViews.noOwnerToggleView.noOwner }}{{#if noOwner}}{{far \"xmark\"}}{{/if}}\n    </button>\n  `,\n  modelEvents: {\n    'change:noOwner': 'render',\n  },\n  triggers: {\n    click: 'click',\n  },\n});\n\nexport {\n  FiltersView,\n  GroupsDropList,\n  NoOwnerToggleView,\n};\n","import Radio from 'backbone.radio';\n\nimport intl from 'js/i18n';\n\nimport App from 'js/base/app';\n\nimport OwnerDroplist from 'js/views/patients/shared/components/owner_component';\nimport { FiltersView, GroupsDropList, NoOwnerToggleView } from 'js/views/patients/worklist/filters_views';\n\nconst i18n = intl.patients.worklist.filtersApp;\n\nexport default App.extend({\n  onStart({ shouldShowClinician, shouldShowTeam, shouldShowOwnerToggle }) {\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.canViewAssignedActions = currentClinician.can('app:worklist:clinician_filter');\n    this.shouldShowClinician = shouldShowClinician;\n    this.shouldShowTeam = shouldShowTeam;\n    this.shouldShowOwnerToggle = shouldShowOwnerToggle;\n    this.currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.groups = this.currentClinician.getGroups();\n\n    this.showView(new FiltersView());\n    this.showFilters();\n  },\n  showFilters() {\n    this.showGroupsFilterView();\n    this.showOwnerFilterView();\n    this.showOwnerToggleView();\n  },\n  showGroupsFilterView() {\n    if (this.groups.length < 2) return;\n\n    const groups = this._getGroups();\n    const selected = groups.get(this.getState('groupId')) || groups.at(0);\n\n    const groupsFilter = new GroupsDropList({\n      collection: groups,\n      state: { selected },\n    });\n\n    this.listenTo(groupsFilter.getState(), 'change:selected', (state, { id }) => {\n      this.setState('groupId', id);\n    });\n\n    this.showChildView('group', groupsFilter);\n  },\n  getOwnerFilterOpts() {\n    const owner = this.shouldShowClinician && this.getState('clinicianId') ?\n      Radio.request('entities', 'clinicians:model', this.getState('clinicianId')) :\n      Radio.request('entities', 'teams:model', this.getState('teamId'));\n\n    const opts = {\n      owner,\n      groups: this.shouldShowClinician && this.canViewAssignedActions ? this.groups : null,\n      isFilter: true,\n      headingText: this.shouldShowClinician ? i18n.ownerFilterHeadingText : i18n.teamsFilterHeadingText,\n      hasTeams: this.shouldShowTeam,\n      hasCurrentClinician: this.shouldShowClinician,\n    };\n\n    if (!this.shouldShowClinician) opts.placeholderText = i18n.teamsFilterPlaceholderText;\n\n    return opts;\n  },\n  showOwnerFilterView() {\n    if (!(this.shouldShowClinician && this.canViewAssignedActions) && !this.shouldShowTeam) return;\n\n    const ownerFilter = new OwnerDroplist(this.getOwnerFilterOpts());\n\n    this.listenTo(ownerFilter, 'change:owner', ({ id, type }) => {\n      if (type === 'teams') {\n        this.setState({ teamId: id, clinicianId: null });\n      } else {\n        this.setState({ clinicianId: id, teamId: null });\n      }\n    });\n\n    this.showChildView('owner', ownerFilter);\n  },\n  showOwnerToggleView() {\n    if (!this.shouldShowOwnerToggle || !this.canViewAssignedActions) return;\n\n    const ownerView = this.showChildView('ownerToggle', new NoOwnerToggleView({\n      model: this.getState(),\n    }));\n\n    this.listenTo(ownerView, 'click', () => {\n      this.toggleState('noOwner');\n    });\n  },\n  _getGroups() {\n    const groups = this.groups.clone();\n\n    groups.unshift({\n      id: null,\n      name: i18n.allGroupsName,\n    });\n\n    return groups;\n  },\n});\n","import { partial, pick } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { BulkEditFlowsBodyView, BulkEditFlowsHeaderView } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\n\nconst StateModel = Backbone.Model.extend({\n  initialize({ collection }) {\n    const initModel = collection.at(0);\n    this.initBulkState(collection, initModel);\n    this.initBulkOwner(collection, initModel);\n  },\n  initBulkState(collection, initModel) {\n    const stateId = initModel.getState().id;\n    const stateMulti = collection.some(item => {\n      return item.getState().id !== stateId;\n    });\n\n    this.set({\n      stateMulti,\n      stateId: stateMulti ? null : stateId,\n    });\n  },\n  initBulkOwner(collection, initModel) {\n    const owner = initModel.getOwner();\n    const ownerMulti = collection.some(item => {\n      return item.getOwner().id !== owner.id;\n    });\n\n    this.set({\n      ownerMulti,\n      owner: ownerMulti ? null : owner,\n    });\n  },\n  setState(state) {\n    return this.set({ stateId: state.id, stateMulti: false, stateChanged: true });\n  },\n  setOwner(owner) {\n    return this.set({ owner, ownerMulti: false, ownerChanged: true });\n  },\n  getGroups() {\n    return this.get('collection').getPatients().getSharedGroups();\n  },\n  someComplete() {\n    return this.get('collection').some(item => {\n      return item.isDone();\n    });\n  },\n  getData() {\n    const {\n      stateChanged,\n      stateId,\n      ownerChanged,\n      owner,\n    } = this.attributes;\n\n    const saveData = {};\n\n    if (stateChanged) saveData._state = stateId;\n    if (ownerChanged) saveData._owner = pick(owner, 'id', 'type');\n\n    return saveData;\n  },\n});\n\nexport default App.extend({\n  StateModel,\n  onStart() {\n    const headerView = new BulkEditFlowsHeaderView({\n      collection: this.getState('collection'),\n    });\n    const bodyView = new BulkEditFlowsBodyView({\n      model: this.getState(),\n      collection: this.getState('collection'),\n    });\n\n    this.modal = Radio.request('modal', 'show:sidebar', {\n      headerView,\n      bodyView,\n      onSubmit: this.onSubmit.bind(this),\n    });\n\n    this.listenTo(headerView, {\n      'delete': partial(this.triggerMethod, 'delete'),\n    });\n\n    this.listenTo(this.modal, {\n      'destroy': this.stop,\n    });\n  },\n  onSubmit() {\n    this.modal.disableSubmit();\n    const applyOwner = !!this.getState('applyOwner');\n    if (applyOwner) {\n      this.triggerMethod('applyOwner', this.getState('owner'));\n    }\n    this.triggerMethod('save', this.getState().getData());\n  },\n  onStop() {\n    this.modal.destroy();\n  },\n});\n","import Backbone from 'backbone';\nimport { View, CollectionView } from 'marionette';\nimport hbs from 'handlebars-inline-precompile';\nimport dayjs from 'dayjs';\n\nimport Tooltip from 'js/components/tooltip';\nimport Picklist from 'js/components/picklist';\nimport './date-filter.scss';\n\nimport { RELATIVE_DATE_RANGES } from 'js/static';\n\nconst relativeRanges = new Backbone.Collection(RELATIVE_DATE_RANGES);\n\nconst TypeView = View.extend({\n  tagName: 'button',\n  className: 'button-filter button__group flex-grow',\n  template: hbs`{{formatMessage (intlGet \"patients.shared.components.dateFilterComponent.dateTypes\") type=id }}`,\n  onRender() {\n    this.$el.toggleClass('button--blue', this.getOption('selected') === this.model.id);\n  },\n  triggers: {\n    'click': 'click',\n  },\n});\n\nconst FilterTypeView = CollectionView.extend({\n  modelEvents: {\n    'change:dateType': 'render',\n  },\n  className: 'flex',\n  childView: TypeView,\n  childViewTriggers: {\n    'click': 'click',\n  },\n  onClick({ model }) {\n    this.model.set('dateType', model.id);\n  },\n  childViewOptions() {\n    return {\n      selected: this.model.get('dateType'),\n    };\n  },\n});\n\nconst DateTemplate = hbs`{{formatDateTime selectedDate \"MM/DD/YYYY\"}}{{far \"angle-down\"}}`;\n\nconst MonthTemplate = hbs`{{formatDateTime selectedMonth \"MMM YYYY\"}}{{far \"angle-down\"}}`;\n\nconst WeekTemplate = hbs`{{formatDateTime selectedWeek \"MM/DD/YYYY\"}} - {{formatDateTime selectedEndWeek \"MM/DD/YYYY\"}}{{far \"angle-down\"}}`;\n\nconst RelativeTemplate = hbs`{{formatMessage (intlGet \"patients.shared.components.dateFilterComponent.relativeDate\") relativeTo=relativeDate }}{{far \"angle-down\"}}`;\n\nconst DefaultTemplate = hbs`{{ @intl.patients.shared.components.dateFilterComponent.dateFilterViews.defaultTemplate.thisMonth }}{{far \"angle-down\"}}`;\n\nconst ControllerView = View.extend({\n  template: hbs`\n    <button class=\"button-secondary--compact u-margin--r-8 js-prev\">{{far \"angle-left\"}}</button>{{~ remove_whitespace ~}}\n    <button class=\"button-filter js-date\">\n      {{far \"calendar-days\"}}{{~ remove_whitespace ~}}\n      {{formatMessage (intlGet \"patients.shared.components.dateFilterComponent.dateTypes\") type=dateType }}{{~ remove_whitespace ~}}:\n      <span data-date-picker-label-region></span>\n    </button>{{~ remove_whitespace ~}}\n    <button class=\"button-secondary--compact u-margin--l-8 js-next\">{{far \"angle-right\"}}</button>\n  `,\n  regions: {\n    datepicker: {\n      el: '[data-date-picker-label-region]',\n      replaceElement: true,\n    },\n  },\n  ui: {\n    next: '.js-next',\n    prev: '.js-prev',\n    date: '.js-date',\n  },\n  triggers: {\n    'click @ui.prev': 'click:prev',\n    'click @ui.next': 'click:next',\n    'click @ui.date': 'click:date',\n  },\n  getLabelTemplate() {\n    if (this.model.get('selectedDate')) return DateTemplate;\n    if (this.model.get('selectedMonth')) return MonthTemplate;\n    if (this.model.get('selectedWeek')) return WeekTemplate;\n    if (this.model.get('relativeDate')) return RelativeTemplate;\n    return DefaultTemplate;\n  },\n  onRender() {\n    this.showChildView('datepicker', {\n      tagName: 'span',\n      model: this.model,\n      template: this.getLabelTemplate(),\n      templateContext() {\n        if (!this.model.get('selectedWeek')) return {};\n        return {\n          selectedEndWeek: this.model.dayjs('selectedWeek').endOf('week'),\n        };\n      },\n    });\n\n    this.getTooltips();\n  },\n  getTooltips() {\n    const tooltipMessages = this.getTooltipMessages();\n\n    new Tooltip({\n      message: tooltipMessages.prevMessage,\n      uiView: this,\n      ui: this.ui.prev,\n    });\n\n    new Tooltip({\n      message: tooltipMessages.nextMessage,\n      uiView: this,\n      ui: this.ui.next,\n    });\n  },\n  getTooltipMessages() {\n    if (this.model.get('selectedDate')) {\n      return this._getTooltipDayMessage(this.model.dayjs('selectedDate'));\n    }\n\n    if (this.model.get('selectedMonth')) {\n      return this._getTooltipMonthMessage(this.model.dayjs('selectedMonth'));\n    }\n\n    if (this.model.get('selectedWeek')) {\n      return this._getTooltipWeekMessage(this.model.dayjs('selectedWeek'));\n    }\n\n    const relativeDate = this.model.get('relativeDate');\n    const { prev, unit } = relativeRanges.get(relativeDate || 'thismonth').pick('prev', 'unit');\n    const relativeMessages = {\n      day: '_getTooltipDayMessage',\n      month: '_getTooltipMonthMessage',\n      week: '_getTooltipWeekMessage',\n    };\n\n    return this[relativeMessages[unit]].call(this, dayjs().subtract(prev, unit).startOf(unit));\n  },\n  _getTooltipDayMessage(ts) {\n    return {\n      prevMessage: dayjs(ts).subtract(1, 'day').format('MM/DD/YYYY'),\n      nextMessage: dayjs(ts).add(1, 'day').format('MM/DD/YYYY'),\n    };\n  },\n  _getTooltipMonthMessage(ts) {\n    return {\n      prevMessage: dayjs(ts).subtract(1, 'month').format('MMM YYYY'),\n      nextMessage: dayjs(ts).add(1, 'month').format('MMM YYYY'),\n    };\n  },\n  _getTooltipWeekMessage(ts) {\n    const prevWeek = dayjs(ts).subtract(1, 'week');\n    const nextWeek = dayjs(ts).add(1, 'week');\n    return {\n      prevMessage: `${ prevWeek.format('MM/DD/YYYY') } - ${ prevWeek.endOf('week').format('MM/DD/YYYY') }`,\n      nextMessage: `${ nextWeek.format('MM/DD/YYYY') } - ${ nextWeek.endOf('week').format('MM/DD/YYYY') }`,\n    };\n  },\n});\n\nconst ActionsView = View.extend({\n  template: hbs`\n    <button class=\"datepicker__button js-today\">{{ @intl.patients.shared.components.dateFilterComponent.dateFilterViews.actionView.today }}</button>{{~ remove_whitespace ~}}\n    <button class=\"datepicker__button js-current-week\">{{ @intl.patients.shared.components.dateFilterComponent.dateFilterViews.actionView.week }}</button>{{~ remove_whitespace ~}}\n    <button class=\"datepicker__button js-current-month\">{{ @intl.patients.shared.components.dateFilterComponent.dateFilterViews.actionView.month }}</button>\n  `,\n  triggers: {\n    'click .js-current-week': 'click:currentWeek',\n    'click .js-today': 'click:today',\n    'click .js-current-month': 'click:currentMonth',\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'date-filter',\n  template: hbs`\n    <div class=\"date-filter__label\">{{ @intl.patients.shared.components.dateFilterComponent.dateFilterViews.layoutView.dateLabel }}</div>\n    <div class=\"date-filter__toggle\" data-date-type-region></div>\n    <div data-component-region></div>\n  `,\n  regions: {\n    dateType: '[data-date-type-region]',\n    component: '[data-component-region]',\n  },\n});\n\nconst DateRanges = Picklist.extend({\n  className: 'date-filter__ranges',\n  itemTemplate: hbs`{{formatMessage (intlGet \"patients.shared.components.dateFilterComponent.relativeDate\") relativeTo=id}}{{#if isSelected}}{{fas \"check\"}}{{/if}}`,\n  itemTemplateContext() {\n    return {\n      isSelected: this.model === this.state.get('selected'),\n    };\n  },\n  viewEvents: {\n    'picklist:item:select': 'onItemSelect',\n  },\n  onItemSelect({ model }) {\n    this.triggerMethod('select', model.id);\n  },\n});\n\nexport {\n  ActionsView,\n  ControllerView,\n  LayoutView,\n  FilterTypeView,\n  DateRanges,\n};\n","import Backbone from 'backbone';\nimport dayjs from 'dayjs';\n\nimport { RELATIVE_DATE_RANGES } from 'js/static';\n\nconst relativeRanges = new Backbone.Collection(RELATIVE_DATE_RANGES);\nconst relativeSets = {\n  day: 'setDate',\n  week: 'setWeek',\n  month: 'setMonth',\n};\n\nexport default Backbone.Model.extend({\n  setRelativeDate(relativeDate, dateType) {\n    this.set({\n      relativeDate,\n      selectedDate: null,\n      selectedWeek: null,\n      selectedMonth: null,\n      dateType: dateType,\n    });\n  },\n  setMonth(selectedMonth, dateType) {\n    this.set({\n      relativeDate: null,\n      selectedDate: null,\n      selectedWeek: null,\n      selectedMonth,\n      dateType: dateType || this.get('dateType'),\n    });\n  },\n  setWeek(selectedWeek, dateType) {\n    this.set({\n      relativeDate: null,\n      selectedDate: null,\n      selectedWeek,\n      selectedMonth: null,\n      dateType: dateType || this.get('dateType'),\n    });\n  },\n  setDate(selectedDate, dateType) {\n    this.set({\n      relativeDate: null,\n      selectedDate,\n      selectedWeek: null,\n      selectedMonth: null,\n      dateType: dateType || this.get('dateType'),\n    });\n  },\n  incrementBackward() {\n    if (this.dayjs('selectedDate')) {\n      this.setDate(this.dayjs('selectedDate').subtract(1, 'day'));\n      return;\n    }\n\n    if (this.dayjs('selectedMonth')) {\n      this.setMonth(this.dayjs('selectedMonth').subtract(1, 'month').startOf('month'));\n      return;\n    }\n\n    if (this.dayjs('selectedWeek')) {\n      this.setWeek(this.dayjs('selectedWeek').subtract(1, 'week').startOf('week'));\n      return;\n    }\n\n    const relativeDate = this.get('relativeDate') || /* istanbul ignore next: sensible default */ 'thismonth';\n    const { prev, unit } = relativeRanges.get(relativeDate).pick('prev', 'unit');\n    this[relativeSets[unit]].call(this, dayjs().subtract(prev + 1, unit).startOf(unit));\n  },\n  incrementForward() {\n    if (this.dayjs('selectedDate')) {\n      this.setDate(this.dayjs('selectedDate').add(1, 'day'));\n      return;\n    }\n\n    if (this.dayjs('selectedMonth')) {\n      this.setMonth(this.dayjs('selectedMonth').add(1, 'month').startOf('month'));\n      return;\n    }\n\n    if (this.dayjs('selectedWeek')) {\n      this.setWeek(this.dayjs('selectedWeek').add(1, 'week').startOf('week'));\n      return;\n    }\n\n    const relativeDate = this.get('relativeDate') || /* istanbul ignore next: sensible default */ 'thismonth';\n    const { prev, unit } = relativeRanges.get(relativeDate).pick('prev', 'unit');\n    this[relativeSets[unit]].call(this, dayjs().add(1 - prev, unit).startOf(unit));\n  },\n});\n","import { noop } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport collectionOf from 'js/utils/formatting/collection-of';\nimport Component from 'js/base/component';\nimport Datepicker from 'js/components/datepicker';\n\nimport { ControllerView, ActionsView, FilterTypeView, LayoutView, DateRanges } from './date-filter_views';\nimport StateModel from './date-filter_state';\n\nimport { RELATIVE_DATE_RANGES } from 'js/static';\n\nconst relativeRanges = new Backbone.Collection([...RELATIVE_DATE_RANGES, { id: 'calendar' }]);\n\nconst dateTypes = ['create_at', 'updated_at', 'due_date'];\n\nconst DateFilterPickerComponent = Datepicker.extend({\n  stateEvents: {\n    'change': 'show',\n    'change:selectedDate': 'onChangeStateSelectedDate',\n    'change:selectedMonth': 'onChangeStateSelectedMonth',\n  },\n  getActionsView() {\n    const actionsView = new ActionsView();\n\n    this.listenTo(actionsView, {\n      'click:today': this.onClickToday,\n      'click:currentWeek': this.onClickCurrentWeek,\n      'click:currentMonth': this.onClickCurrentMonth,\n    });\n\n    return actionsView;\n  },\n  onClickToday() {\n    this.triggerMethod('select:today');\n  },\n  onClickCurrentWeek() {\n    this.triggerMethod('select:currentWeek');\n  },\n  onClickCurrentMonth() {\n    this.triggerMethod('select:currentMonth');\n  },\n  onSelectToday: noop,\n  regionOptions: noop,\n});\n\nexport default Component.extend({\n  dateTypes,\n  StateModel,\n  stateEvents: {\n    'change': 'foo',\n  },\n  ViewClass: ControllerView,\n  viewOptions() {\n    return {\n      model: this.getState(),\n    };\n  },\n  viewEvents: {\n    'click:date'() {\n      this.showPop();\n    },\n    'click:prev'() {\n      this.getState().incrementBackward();\n    },\n    'click:next'() {\n      this.getState().incrementForward();\n    },\n  },\n  initialize() {\n    this.dateTypes = new Backbone.Collection(collectionOf(this.getOption('dateTypes'), 'id'));\n    this.dateTypeState = new Backbone.Model({ dateType: this.getState('dateType') });\n  },\n  showPop() {\n    const position = this.getView().getBounds(this.getView().$el);\n    this.popView = new LayoutView();\n\n    this.popView.listenTo(this, 'destroy', this.popView.destroy);\n    this.listenTo(this.popView, 'destroy', () => {\n      this.setState('dateType', this.dateTypeState.get('dateType'));\n    });\n\n    this.showRanges();\n    this.showDateTypes();\n\n    Radio.request('app', 'show:pop', this.popView, {\n      popWidth: 256,\n      ...position,\n    });\n  },\n  showDateTypes() {\n    this.popView.showChildView('dateType', new FilterTypeView({\n      collection: this.dateTypes,\n      model: this.dateTypeState,\n    }));\n  },\n  showRanges() {\n    const state = this.getState();\n    const { selectedDate, selectedMonth, selectedWeek, relativeDate } = state.pick('selectedDate', 'selectedMonth', 'selectedWeek', 'relativeDate');\n    const selectedRange = relativeRanges.get(relativeDate || (!selectedDate && !selectedMonth && !selectedWeek && 'thismonth'));\n\n    const dateRanges = new DateRanges({\n      lists: [{ collection: relativeRanges }],\n      state: { selected: selectedRange },\n    });\n\n    this.listenTo(dateRanges, 'select', selected => {\n      if (selected === 'calendar') {\n        this.showDatePicker();\n        return;\n      }\n      state.setRelativeDate(selected, this.dateTypeState.get('dateType'));\n    });\n\n    this.popView.showChildView('component', dateRanges);\n  },\n  showDatePicker() {\n    const state = this.getState();\n\n    const datePicker = new DateFilterPickerComponent({\n      state: state.pick('selectedDate', 'selectedMonth'),\n      canSelectMonth: true,\n    });\n\n    this.listenTo(datePicker, {\n      'select:currentWeek'() {\n        state.setRelativeDate('thisweek', this.dateTypeState.get('dateType'));\n        this.popView.destroy();\n      },\n      'select:today'() {\n        state.setRelativeDate('today', this.dateTypeState.get('dateType'));\n        this.popView.destroy();\n      },\n      'select:currentMonth'() {\n        state.setRelativeDate('thismonth', this.dateTypeState.get('dateType'));\n        this.popView.destroy();\n      },\n      'change:selectedDate'(date) {\n        state.setDate(date, this.dateTypeState.get('dateType'));\n        this.popView.destroy();\n      },\n      'change:selectedMonth'(month) {\n        state.setMonth(month, this.dateTypeState.get('dateType'));\n        this.popView.destroy();\n      },\n    });\n\n    datePicker.showIn(this.popView.getRegion('component'));\n  },\n});\n","import { View } from 'marionette';\nimport hbs from 'handlebars-inline-precompile';\n\nimport 'scss/modules/forms.scss';\n\nimport InputWatcherBehavior from 'js/behaviors/input-watcher';\n\nimport './list-search-component.scss';\n\nconst InputTemplate = hbs`\n  <span class=\"list-search__search-icon\">{{far \"magnifying-glass\"}}</span>\n  <input class=\"list-search__input input-primary--small js-input w-100\" type=\"text\" {{#if isDisabled}}disabled{{/if}} placeholder=\"{{@intl.shared.components.listSearch.listSearchViews.placeholder}}\"/>\n  <span class=\"list-search__clear-icon js-clear is-hidden\">{{fas \"circle-xmark\"}}</span>\n`;\n\nconst SearchView = View.extend({\n  behaviors: {\n    InputWatcherBehavior,\n  },\n  className: 'list-search__container',\n  template: InputTemplate,\n  templateContext() {\n    return {\n      isDisabled: this.getOption('state').isDisabled,\n      query: this.getOption('state').query,\n    };\n  },\n  ui: {\n    input: '.js-input',\n    clear: '.js-clear',\n  },\n  triggers: {\n    'click @ui.clear': 'clear',\n  },\n  onWatchChange(text) {\n    this.ui.clear.toggleClass('is-hidden', !text.length);\n  },\n  onClear() {\n    this.ui.input.val('');\n    this.ui.clear.addClass('is-hidden');\n  },\n  onRender() {\n    this.$el.toggleClass('is-disabled', this.getOption('state').isDisabled);\n  },\n});\n\nexport {\n  SearchView,\n};\n","import Backbone from 'backbone';\n\nimport Component from 'js/base/component';\n\nimport { SearchView } from './list-search_views';\n\n\nconst StateModel = Backbone.Model.extend({\n  defaults: {\n    query: '',\n  },\n});\n\nexport default Component.extend({\n  StateModel,\n  ViewClass: SearchView,\n  viewEvents: {\n    'watch:change': 'onViewWatchChange',\n    'clear': 'onViewClear',\n  },\n  onViewClear() {\n    this.setState('query', '');\n  },\n  onViewWatchChange(query) {\n    this.setState('query', query);\n  },\n});\n","import { map } from 'underscore';\n\nimport words from 'js/utils/formatting/words';\n\nexport default query => {\n  const searchWords = map(words(query), RegExp.escape);\n\n  return map(searchWords, function(word) {\n    return new RegExp(`\\\\b${ word }`, 'i');\n  });\n};\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/table-list.scss';\n\nimport { CheckComponent, StateComponent, OwnerComponent, DueComponent, TimeComponent, FormButton, DetailsTooltip } from 'js/views/patients/shared/actions_views';\n\nimport ActionItemTemplate from './action-item.hbs';\n\nimport './worklist-list.scss';\n\nconst ActionTooltipTemplate = hbs`{{formatMessage (intlGet \"patients.worklist.actionViews.actionListTooltips\") title=worklistId team=team}}`;\n\nconst ActionEmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.worklist.actionViews.actionEmptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item work-list__item',\n  tagName: 'tr',\n  template: ActionItemTemplate,\n  regions: {\n    check: '[data-check-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n    dueDate: '[data-due-date-region]',\n    dueTime: '[data-due-time-region]',\n    form: '[data-form-region]',\n    details: '[data-details-region]',\n  },\n  templateContext() {\n    return {\n      flowName: this.flow && this.flow.get('name'),\n      patient: this.model.getPatient().attributes,\n      owner: this.model.getOwner().get('name'),\n      state: this.model.getState().get('name'),\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n    };\n  },\n  initialize({ state }) {\n    this.state = state;\n    this.flow = this.model.getFlow();\n\n    this.listenTo(state, {\n      'select:multiple': this.showCheck,\n      'select:none': this.showCheck,\n    });\n  },\n  modelEvents: {\n    'change': 'render',\n  },\n  triggers: {\n    'click': 'click',\n    'click .js-patient-sidebar-button': 'click:patientSidebarButton',\n    'click .js-patient': 'click:patient',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  onClick() {\n    if (this.flow) {\n      Radio.trigger('event-router', 'flow:action', this.flow.id, this.model.id);\n      return;\n    }\n\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.get('_patient'));\n  },\n  onRender() {\n    this.showCheck();\n    this.showState();\n    this.showOwner();\n    this.showDueDate();\n    this.showDueTime();\n    this.showForm();\n    this.showDetailsTooltip();\n  },\n  toggleSelected(isSelected) {\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    const isSelected = this.state.isSelected(this.model);\n    this.toggleSelected(isSelected);\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'(domEvent) {\n        this.triggerMethod('select', this, !!domEvent.shiftKey);\n      },\n      'change:isSelected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n  showState() {\n    this.stateComponent = new StateComponent({ stateId: this.model.get('_state'), isCompact: true });\n\n    this.listenTo(this.stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', this.stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isDone();\n    this.ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      groups: this.model.getPatient().getGroups(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(this.ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', this.ownerComponent);\n  },\n  showDueDate() {\n    const isDisabled = this.model.isDone();\n    this.dueDateComponent = new DueComponent({\n      date: this.model.get('due_date'),\n      isCompact: true,\n      state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(this.dueDateComponent, 'change:due', date => {\n      this.model.saveDueDate(date);\n    });\n\n    this.showChildView('dueDate', this.dueDateComponent);\n  },\n  showDueTime() {\n    const isDisabled = this.model.isDone() || !this.model.get('due_date');\n    this.dueTimeComponent = new TimeComponent({\n      time: this.model.get('due_time'),\n      isCompact: true,\n      state: { isDisabled },\n      isOverdue: this.model.isOverdue(),\n    });\n\n    this.listenTo(this.dueTimeComponent, 'change:time', time => {\n      this.model.saveDueTime(time);\n    });\n\n    this.showChildView('dueTime', this.dueTimeComponent);\n  },\n  showForm() {\n    if (!this.model.getForm()) return;\n\n    this.showChildView('form', new FormButton({ model: this.model }));\n  },\n  showDetailsTooltip() {\n    if (!this.model.get('details')) return;\n\n    this.showChildView('details', new DetailsTooltip({ model: this.model }));\n  },\n});\n\nexport {\n  ActionTooltipTemplate,\n  ActionEmptyView,\n  ActionItemView,\n};\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/table-list.scss';\nimport 'scss/modules/progress-bar.scss';\n\nimport { CheckComponent, FlowStateComponent, OwnerComponent } from 'js/views/patients/shared/flows_views';\n\nimport FlowItemTemplate from './flow-item.hbs';\n\nimport 'scss/domain/action-state.scss';\nimport './worklist-list.scss';\n\nconst FlowTooltipTemplate = hbs`{{formatMessage (intlGet \"patients.worklist.flowViews.flowListTooltips\") title=worklistId team=team}}`;\n\nconst FlowEmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.worklist.flowViews.flowEmptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ReadOnlyFlowStateView = View.extend({\n  tagName: 'span',\n  className: 'worklist-list__flow-status',\n  template: hbs`<span class=\"action--{{ stateOptions.color }}\">{{fa stateOptions.iconType stateOptions.icon}}</span>{{~ remove_whitespace ~}}`,\n  templateContext() {\n    const stateOptions = this.model.getState().get('options');\n\n    return {\n      stateOptions,\n    };\n  },\n});\n\nconst FlowItemView = View.extend({\n  className: 'table-list__item work-list__item',\n  tagName: 'tr',\n  template: FlowItemTemplate,\n  regions: {\n    check: '[data-check-region]',\n    state: '[data-state-region]',\n    owner: '[data-owner-region]',\n  },\n  templateContext() {\n    return {\n      patient: this.model.getPatient().attributes,\n      owner: this.model.getOwner().get('name'),\n      state: this.model.getState().get('name'),\n    };\n  },\n  modelEvents: {\n    'change': 'render',\n  },\n  triggers: {\n    'click': 'click',\n    'click .js-patient-sidebar-button': 'click:patientSidebarButton',\n    'click .js-patient': 'click:patient',\n    'click .js-no-click': 'prevent-row-click',\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, {\n      'select:multiple': this.showCheck,\n      'select:none': this.showCheck,\n    });\n  },\n  onClick() {\n    Radio.trigger('event-router', 'flow', this.model.id);\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.get('_patient'));\n  },\n  onRender() {\n    this.showCheck();\n    this.showState();\n    this.showOwner();\n  },\n  toggleSelected(isSelected) {\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    const isSelected = this.state.isSelected(this.model);\n    this.toggleSelected(isSelected);\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'(domEvent) {\n        this.triggerMethod('select', this, !!domEvent.shiftKey);\n      },\n      'change:isSelected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n  showState() {\n    if (!this.model.isDone()) {\n      const readOnlyStateView = new ReadOnlyFlowStateView({ model: this.model });\n      this.showChildView('state', readOnlyStateView);\n      return;\n    }\n\n    const stateComponent = new FlowStateComponent({\n      stateId: this.model.get('_state'),\n      isCompact: true,\n    });\n\n    this.listenTo(stateComponent, 'change:state', state => {\n      this.model.saveState(state);\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isDone();\n    this.ownerComponent = new OwnerComponent({\n      owner: this.model.getOwner(),\n      groups: this.model.getPatient().getGroups(),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(this.ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', this.ownerComponent);\n  },\n});\n\nexport {\n  FlowTooltipTemplate,\n  FlowEmptyView,\n  FlowItemView,\n};\n","import { every } from 'underscore';\nimport Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport { alphaSort } from 'js/utils/sorting';\nimport intl, { renderTemplate } from 'js/i18n';\nimport underscored from 'js/utils/formatting/underscored';\nimport buildMatchersArray from 'js/utils/formatting/build-matchers-array';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/list-pages.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport Droplist from 'js/components/droplist';\nimport Tooltip from 'js/components/tooltip';\n\nimport { ActionTooltipTemplate, ActionEmptyView, ActionItemView } from './action_views';\nimport { FlowTooltipTemplate, FlowEmptyView, FlowItemView } from './flow_views';\nimport LayoutTemplate from './layout.hbs';\nimport TableHeaderTemplate from './table-header.hbs';\n\nimport './worklist-list.scss';\n\nconst i18n = intl.patients.worklist.worklistViews;\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: LayoutTemplate,\n  regions: {\n    dateFilter: '[data-date-filter-region]',\n    filters: '[data-filters-region]',\n    toggle: '[data-toggle-region]',\n    sort: '[data-sort-region]',\n    table: '[data-table-region]',\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n    selectAll: '[data-select-all-region]',\n    title: '[data-title-region]',\n    search: '[data-search-region]',\n  },\n  childViewEvents: {\n    'update:listDom': 'fixWidth',\n  },\n  triggers: {\n    'click @ui.select': 'click:select',\n  },\n  ui: {\n    listHeader: '.js-list-header',\n    list: '.js-list',\n    select: '.js-select',\n  },\n  initialize() {\n    const userActivityCh = Radio.channel('user-activity');\n    this.listenTo(userActivityCh, 'window:resize', this.fixWidth);\n  },\n  fixWidth() {\n    /* istanbul ignore if */\n    if (!this.isRendered()) return;\n\n    const headerWidth = this.ui.listHeader.width();\n    const listWidth = this.ui.list.contents().width();\n    const listPadding = parseInt(this.ui.list.css('paddingRight'), 10);\n    const scrollbarWidth = headerWidth - listWidth;\n\n    this.ui.list.css({ paddingRight: `${ listPadding - scrollbarWidth }px` });\n  },\n});\n\nconst SelectAllView = View.extend({\n  tagName: 'button',\n  className: 'button--checkbox',\n  attributes() {\n    if (this.getOption('isDisabled')) return { disabled: 'disabled' };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  getTemplate() {\n    if (this.getOption('isSelectAll')) return hbs`{{fas \"square-check\"}}`;\n    if (this.getOption('isSelectNone') || this.getOption('isDisabled')) return hbs`{{fal \"square\"}}`;\n\n    return hbs`{{fas \"square-minus\"}}`;\n  },\n});\n\nconst TypeToggleView = View.extend({\n  template: hbs`\n    <button class=\"{{#unless isFlowList}}button--blue{{/unless}} button-filter button__group js-toggle-actions\">{{far \"file-lines\"}}<span>{{ @intl.patients.worklist.worklistViews.typeToggleView.actionsButton }}</span></button>{{~ remove_whitespace ~}}\n    <button class=\"{{#if isFlowList}}button--blue{{/if}} button-filter button__group js-toggle-flows\">{{fas \"folder\"}}<span>{{ @intl.patients.worklist.worklistViews.typeToggleView.flowsButton }}</span></button>\n  `,\n  templateContext() {\n    return {\n      isFlowList: this.getOption('isFlowList'),\n    };\n  },\n  triggers: {\n    'click .js-toggle-actions': 'click:toggleActions',\n    'click .js-toggle-flows': 'click:toggleFlows',\n  },\n  ui: {\n    buttons: 'button',\n  },\n  onClickToggleActions() {\n    this.triggerMethod('toggle:listType', 'actions');\n  },\n  onClickToggleFlows() {\n    this.triggerMethod('toggle:listType', 'flows');\n  },\n});\n\nconst ListTitleView = View.extend({\n  template: hbs`\n    <span class=\"list-page__title-icon\">{{far \"list\"}}</span>{{formatMessage (intlGet \"patients.worklist.worklistViews.listTitleView.listTitles\") title=worklistId team=team owner=owner}}{{~ remove_whitespace ~}}\n    <span class=\"list-page__header-icon js-title-info\">{{fas \"circle-info\"}}</span>\n  `,\n  ui: {\n    tooltip: '.js-title-info',\n  },\n  templateContext() {\n    return {\n      team: this.getOption('team').get('name'),\n      owner: this.getOption('owner').get('name'),\n      worklistId: underscored(this.getOption('worklistId')),\n      isFlowList: this.getOption('isFlowList'),\n    };\n  },\n  onRender() {\n    const tooltipTemplate = this.getOption('isFlowList') ? FlowTooltipTemplate : ActionTooltipTemplate;\n    new Tooltip({\n      message: renderTemplate(tooltipTemplate, this.templateContext()),\n      uiView: this,\n      ui: this.ui.tooltip,\n      orientation: 'vertical',\n    });\n  },\n});\n\nconst TableHeaderView = View.extend({\n  template: TableHeaderTemplate,\n  tagName: 'tr',\n  templateContext() {\n    return {\n      isFlowList: this.getOption('isFlowList'),\n    };\n  },\n});\n\nconst EmptyFindInListView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.worklist.worklistViews.emptyFindInListView.noResults }}</h2>\n    </td>\n  `,\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list',\n  tagName: 'table',\n  childView() {\n    return this.isFlowList ? FlowItemView : ActionItemView;\n  },\n  emptyView() {\n    if (this.state.get('searchQuery')) {\n      return EmptyFindInListView;\n    }\n\n    return this.isFlowList ? FlowEmptyView : ActionEmptyView;\n  },\n  childViewOptions() {\n    return {\n      state: this.state,\n    };\n  },\n  childViewTriggers: {\n    'render': 'listItem:render',\n    'click:patientSidebarButton': 'click:patientSidebarButton',\n    'select': 'select',\n  },\n  onListItemRender(view) {\n    view.searchString = view.$el.text();\n  },\n  initialize({ state }) {\n    this.state = state;\n    this.isFlowList = state.isFlowType();\n\n    this.listenTo(state, 'change:searchQuery', this.searchList);\n  },\n  onAttach() {\n    this.triggerMethod('update:listDom', this);\n  },\n  /* istanbul ignore next: future proof */\n  onRenderChildren() {\n    if (!this.isAttached()) return;\n    this.triggerMethod('update:listDom', this);\n    this.triggerMethod('filtered', this.children.map('model'));\n  },\n  onSelect(selectedView, isShiftKeyPressed) {\n    const isSelected = this.state.isSelected(selectedView.model);\n    const selectedIndex = this.children.findIndexByView(selectedView);\n    const lastSelectedIndex = this.state.get('lastSelectedIndex');\n\n    if (isShiftKeyPressed && lastSelectedIndex !== null && !isSelected) {\n      this.handleClickShiftMultiSelect(selectedIndex, lastSelectedIndex);\n      return;\n    }\n\n    this.state.toggleSelected(selectedView.model, !isSelected, selectedIndex);\n  },\n  handleClickShiftMultiSelect(selectedIndex, lastSelectedIndex) {\n    const minIndex = Math.min(selectedIndex, lastSelectedIndex);\n    const maxIndex = Math.max(selectedIndex, lastSelectedIndex);\n\n    const selectedIds = this.children.map(view => view.model.id).slice(minIndex, maxIndex + 1);\n\n    this.state.selectMultiple(selectedIds, selectedIndex);\n  },\n  searchList(state, searchQuery) {\n    if (!searchQuery) {\n      this.removeFilter();\n      return;\n    }\n\n    const matchers = buildMatchersArray(searchQuery);\n\n    this.setFilter(function({ searchString }) {\n      return every(matchers, function(matcher) {\n        return matcher.test(searchString);\n      });\n    });\n  },\n});\n\nconst sortDueOptions = [\n  {\n    id: 'sortDueAsc',\n    text: i18n.sortDueOptions.asc,\n    comparator(a, b) {\n      const dueA = a.model.get('due_date');\n      const dueB = b.model.get('due_date');\n      if (dueA === dueB) {\n        return alphaSort('asc', a.model.get('due_time'), b.model.get('due_time'));\n      }\n      return alphaSort('asc', dueA, dueB);\n    },\n  },\n  {\n    id: 'sortDueDesc',\n    text: i18n.sortDueOptions.desc,\n    comparator(a, b) {\n      const dueA = a.model.get('due_date');\n      const dueB = b.model.get('due_date');\n      if (dueA === dueB) {\n        return alphaSort('desc', a.model.get('due_time'), b.model.get('due_time'));\n      }\n      return alphaSort('desc', dueA, dueB);\n    },\n  },\n];\n\nconst sortPatientOptions = [\n  {\n    id: 'sortPatientAsc',\n    text: i18n.sortPatientOptions.asc,\n    comparator(a, b) {\n      return alphaSort('asc', a.model.getPatient().getSortName(), b.model.getPatient().getSortName());\n    },\n  },\n  {\n    id: 'sortPatientDesc',\n    text: i18n.sortPatientOptions.desc,\n    comparator(a, b) {\n      return alphaSort('desc', a.model.getPatient().getSortName(), b.model.getPatient().getSortName());\n    },\n  },\n];\n\nconst sortUpdateOptions = [\n  {\n    id: 'sortUpdateAsc',\n    text: i18n.sortUpdateOptions.asc,\n    comparator(a, b) {\n      return alphaSort('asc', a.model.get('updated_at'), b.model.get('updated_at'));\n    },\n  },\n  {\n    id: 'sortUpdateDesc',\n    text: i18n.sortUpdateOptions.desc,\n    comparator(a, b) {\n      return alphaSort('desc', a.model.get('updated_at'), b.model.get('updated_at'));\n    },\n  },\n];\n\nconst sortCreatedOptions = [\n  {\n    id: 'sortCreatedAsc',\n    text: i18n.sortCreatedOptions.asc,\n    comparator(a, b) {\n      return alphaSort('asc', a.model.get('created_at'), b.model.get('created_at'));\n    },\n  },\n  {\n    id: 'sortCreatedDesc',\n    text: i18n.sortCreatedOptions.desc,\n    comparator(a, b) {\n      return alphaSort('desc', a.model.get('created_at'), b.model.get('created_at'));\n    },\n  },\n];\n\nconst SortDroplist = Droplist.extend({\n  align: 'right',\n  popWidth: 248,\n  picklistOptions: {\n    headingText: i18n.sortDroplist.headingText,\n  },\n  viewOptions: {\n    className: 'button-filter',\n    template: hbs`{{far \"arrow-down-arrow-up\"}}{{text}}{{far \"angle-down\"}}`,\n  },\n});\n\nexport {\n  LayoutView,\n  ListTitleView,\n  SelectAllView,\n  ListView,\n  TableHeaderView,\n  SortDroplist,\n  TypeToggleView,\n  sortCreatedOptions,\n  sortDueOptions,\n  sortPatientOptions,\n  sortUpdateOptions,\n};\n","import { clone, extend, union } from 'underscore';\n\nimport store from 'store';\n\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport intl, { renderTemplate } from 'js/i18n';\n\nimport App from 'js/base/app';\n\nimport StateModel from './worklist_state';\n\nimport FiltersApp from './filters_app';\nimport BulkEditActionsApp from 'js/apps/patients/sidebar/bulk-edit-actions_app';\nimport BulkEditFlowsApp from 'js/apps/patients/sidebar/bulk-edit-flows_app';\n\nimport DateFilterComponent from 'js/views/patients/shared/components/date-filter';\nimport SearchComponent from 'js/views/shared/components/list-search';\n\nimport { ListView, SelectAllView, LayoutView, ListTitleView, TableHeaderView, SortDroplist, TypeToggleView, sortCreatedOptions, sortDueOptions, sortPatientOptions, sortUpdateOptions } from 'js/views/patients/worklist/worklist_views';\nimport { BulkEditButtonView, BulkEditFlowsSuccessTemplate, BulkEditActionsSuccessTemplate, BulkDeleteFlowsSuccessTemplate, BulkDeleteActionsSuccessTemplate } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\n\nexport default App.extend({\n  StateModel,\n  childApps: {\n    filters: {\n      AppClass: FiltersApp,\n      regionName: 'filters',\n      restartWithParent: false,\n      getOptions: ['currentClinician'],\n    },\n    bulkEditActions: BulkEditActionsApp,\n    bulkEditFlows: BulkEditFlowsApp,\n  },\n  stateEvents: {\n    'change:listType change:filters change:actionsDateFilters change:flowsDateFilters': 'restart',\n    'change:actionsSortId': 'onChangeStateSort',\n    'change:flowsSortId': 'onChangeStateSort',\n    'change:selectedFlows': 'onChangeSelected',\n    'change:selectedActions': 'onChangeSelected',\n  },\n  onChangeStateSort() {\n    this.getChildView('list').setComparator(this.getComparator());\n  },\n  onChangeSelected() {\n    this.toggleBulkSelect();\n  },\n  initListState() {\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n    const storedState = store.get(`${ this.worklistId }_${ currentUser.id }-v2`);\n    const filters = this.getState('filters');\n\n    if (storedState) {\n      // NOTE: Allows for new defaults to get added to stored filters\n      storedState.filters = extend({}, filters, storedState.filters);\n\n      storedState.lastSelectedIndex = null;\n    }\n\n    this.setState(extend({ id: this.worklistId }, storedState));\n  },\n  onBeforeStart({ worklistId }) {\n    if (this.isRestarting()) {\n      Radio.request('sidebar', 'close');\n      this.showListTitle();\n      this.showTypeToggleView();\n      this.showSortDroplist();\n      this.showTableHeaders();\n      this.showDateFilter();\n      this.getRegion('list').startPreloader();\n      return;\n    }\n\n    this.worklistId = worklistId;\n    this.initListState();\n\n    this.showView(new LayoutView({\n      worklistId: this.worklistId,\n      state: this.getState(),\n    }));\n\n    this.getRegion('list').startPreloader();\n    this.showDisabledSelectAll();\n    this.showSortDroplist();\n    this.showTableHeaders();\n    this.showListTitle();\n    this.showTypeToggleView();\n    this.showSearchView();\n    this.showDateFilter();\n    this.startFiltersApp();\n  },\n  beforeStart() {\n    const filter = this.getState().getEntityFilter();\n    return Radio.request('entities', `fetch:${ this.getState().getType() }:collection`, { filter });\n  },\n  onStart(options, collection) {\n    this.collection = collection;\n    this.filteredCollection = collection.clone();\n\n    const collectionView = new ListView({\n      collection: this.collection,\n      state: this.getState(),\n      viewComparator: this.getComparator(),\n    });\n\n    this.listenTo(collectionView, 'filtered', filtered => {\n      this.filteredCollection.reset(filtered);\n      this.toggleBulkSelect();\n    });\n\n    this.listenTo(collectionView, 'click:patientSidebarButton', ({ model }) => {\n      const patient = model.getPatient();\n      Radio.request('sidebar', 'start', 'patient', { patient });\n    });\n\n    this.showChildView('list', collectionView);\n\n    this.showSearchView();\n    this.toggleBulkSelect();\n  },\n  startFiltersApp() {\n    const filtersApp = this.startChildApp('filters', {\n      state: this.getState().getFilters(),\n      shouldShowClinician: this.getState().id !== 'shared-by',\n      shouldShowOwnerToggle: this.getState().id === 'shared-by',\n      shouldShowTeam: this.getState().id !== 'owned-by',\n    });\n\n    this.listenTo(filtersApp.getState(), 'change', ({ attributes }) => {\n      this.setState({ filters: clone(attributes) });\n    });\n  },\n  toggleBulkSelect() {\n    this.selected = this.getState().getSelected(this.filteredCollection);\n\n    this.showSelectAll();\n\n    if (this.selected.length) {\n      this.getChildApp('filters').stop();\n      this.showBulkEditButtonView();\n      return;\n    }\n\n    this.startFiltersApp();\n  },\n  onClickBulkCancel() {\n    this.getState().clearSelected();\n  },\n  onClickBulkEdit() {\n    const appName = this.getState().isFlowType() ? 'bulkEditFlows' : 'bulkEditActions';\n\n    const app = this.startChildApp(appName, {\n      state: { collection: this.selected },\n    });\n\n    this.listenTo(app, {\n      'applyOwner'(owner) {\n        this.selected.applyOwner(owner);\n      },\n      'save'(saveData) {\n        this.selected.save(saveData)\n          .done(() => {\n            this.showUpdateSuccess(this.selected.length);\n            app.stop();\n            this.getState().clearSelected();\n          })\n          .fail(() => {\n            Radio.request('alert', 'show:error', intl.patients.worklist.worklistApp.bulkEditFailure);\n            this.getState().clearSelected();\n            this.restart();\n          });\n      },\n      'delete'() {\n        const itemCount = this.selected.length;\n\n        this.selected.destroy().then(() => {\n          this.showDeleteSuccess(itemCount);\n          app.stop();\n          this.getState().clearSelected();\n        });\n      },\n    });\n  },\n  showDisabledSelectAll() {\n    this.showChildView('selectAll', new SelectAllView({ isDisabled: true }));\n  },\n  showSelectAll() {\n    if (!this.filteredCollection.length) {\n      this.showDisabledSelectAll();\n      return;\n    }\n    const isSelectAll = this.selected.length === this.filteredCollection.length;\n    const isSelectNone = !this.selected.length;\n    const selectAllView = new SelectAllView({\n      isSelectAll,\n      isSelectNone,\n    });\n\n    this.listenTo(selectAllView, 'click', this.onClickBulkSelect);\n\n    this.showChildView('selectAll', selectAllView);\n  },\n  onClickBulkSelect() {\n    if (this.selected.length === this.filteredCollection.length) {\n      this.getState().clearSelected();\n      return;\n    }\n\n    this.getState().selectMultiple(this.filteredCollection.map('id'));\n  },\n  getComparator() {\n    const sortId = this.getState().getSort();\n    return this.sortOptions.get(sortId).get('comparator');\n  },\n  getSortOptions() {\n    if (this.getState().isFlowType()) {\n      return union(sortPatientOptions, sortCreatedOptions, sortUpdateOptions);\n    }\n\n    return union(sortPatientOptions, sortDueOptions, sortCreatedOptions, sortUpdateOptions);\n  },\n  showDeleteSuccess(itemCount) {\n    if (this.getState().isFlowType()) {\n      Radio.request('alert', 'show:success', renderTemplate(BulkDeleteFlowsSuccessTemplate, { itemCount }));\n      return;\n    }\n\n    Radio.request('alert', 'show:success', renderTemplate(BulkDeleteActionsSuccessTemplate, { itemCount }));\n  },\n  showUpdateSuccess(itemCount) {\n    if (this.getState().isFlowType()) {\n      Radio.request('alert', 'show:success', renderTemplate(BulkEditFlowsSuccessTemplate, { itemCount }));\n      return;\n    }\n\n    Radio.request('alert', 'show:success', renderTemplate(BulkEditActionsSuccessTemplate, { itemCount }));\n  },\n  showDateFilter() {\n    if (this.getState().id !== 'shared-by' && this.getState().id !== 'owned-by') return;\n\n    const state = this.getState();\n    const dateTypes = state.isFlowType() ? ['created_at', 'updated_at'] : ['created_at', 'updated_at', 'due_date'];\n\n    const dateFilterComponent = new DateFilterComponent({\n      dateTypes,\n      state: state.getDateFilters(),\n      region: this.getRegion('dateFilter'),\n    });\n\n    this.listenTo(dateFilterComponent.getState(), {\n      'change'({ attributes }) {\n        state.setDateFilters(attributes);\n      },\n    });\n\n    dateFilterComponent.show();\n  },\n  showSortDroplist() {\n    this.sortOptions = new Backbone.Collection(this.getSortOptions());\n\n    const sortSelect = new SortDroplist({\n      collection: this.sortOptions,\n      state: { selected: this.sortOptions.get(this.getState().getSort()) },\n    });\n\n    this.listenTo(sortSelect.getState(), 'change:selected', (state, selected) => {\n      this.getState().setSort(selected.id);\n    });\n\n    this.showChildView('sort', sortSelect);\n  },\n  showTableHeaders() {\n    const tableHeadersView = new TableHeaderView({\n      isFlowList: this.getState().isFlowType(),\n    });\n\n    this.showChildView('table', tableHeadersView);\n  },\n  showListTitle() {\n    const filters = this.getState().getFilters();\n    const owner = Radio.request('entities', 'clinicians:model', filters.clinicianId);\n    const team = Radio.request('entities', 'teams:model', filters.teamId);\n\n    this.showChildView('title', new ListTitleView({\n      owner,\n      team,\n      worklistId: this.worklistId,\n      isFlowList: this.getState().isFlowType(),\n    }));\n  },\n  showTypeToggleView() {\n    const typeToggleView = new TypeToggleView({\n      isFlowList: this.getState('listType') === 'flows',\n    });\n\n    this.listenTo(typeToggleView, 'toggle:listType', listType => {\n      this.setState({\n        listType: listType,\n        lastSelectedIndex: null,\n      });\n    });\n\n    this.showChildView('toggle', typeToggleView);\n  },\n  showSearchView() {\n    const searchComponent = this.showChildView('search', new SearchComponent({\n      state: {\n        query: this.getState('searchQuery'),\n        isDisabled: !this.collection || !this.collection.length,\n      },\n    }));\n\n    this.listenTo(searchComponent.getState(), 'change:query', this.setSearchState);\n  },\n  showBulkEditButtonView() {\n    const bulkEditButtonView = this.showChildView('filters', new BulkEditButtonView({\n      isFlowType: this.getState().isFlowType(),\n      collection: this.selected,\n    }));\n\n    this.listenTo(bulkEditButtonView, {\n      'click:cancel': this.onClickBulkCancel,\n      'click:edit': this.onClickBulkEdit,\n    });\n  },\n  setSearchState(state, searchQuery) {\n    this.setState({\n      searchQuery: searchQuery.length > 2 ? searchQuery : '',\n      lastSelectedIndex: null,\n    });\n  },\n});\n","import { clone, extend, keys, omit, reduce } from 'underscore';\nimport store from 'store';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport dayjs from 'dayjs';\n\nimport { STATE_STATUS, RELATIVE_DATE_RANGES } from 'js/static';\n\nconst relativeRanges = new Backbone.Collection(RELATIVE_DATE_RANGES);\n\n\nexport default Backbone.Model.extend({\n  defaults() {\n    return {\n      filters: {\n        groupId: null,\n        clinicianId: this.currentClinician.id,\n      },\n      dateFilters: {\n        dateType: 'due_date',\n        selectedDate: null,\n        selectedMonth: null,\n        selectedWeek: null,\n        relativeDate: null,\n      },\n      selectedActions: {},\n      searchQuery: '',\n    };\n  },\n  preinitialize() {\n    this.currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.groups = this.currentClinician.getGroups();\n  },\n  initialize() {\n    this.on('change', this.onChange);\n  },\n  onChange() {\n    store.set(`schedule_${ this.currentClinician.id }-v2`, omit(this.attributes, 'searchQuery'));\n  },\n  getFilters() {\n    return clone(this.get('filters'));\n  },\n  getDateFilters() {\n    return clone(this.get('dateFilters'));\n  },\n  getEntityDateFilter() {\n    const { selectedDate, selectedMonth, selectedWeek, relativeDate } = this.getDateFilters();\n\n    if (selectedDate) {\n      return {\n        due_date: this.formatDateRange(selectedDate, 'day'),\n      };\n    }\n\n    if (selectedMonth) {\n      return {\n        due_date: this.formatDateRange(selectedMonth, 'month'),\n      };\n    }\n\n    if (selectedWeek) {\n      return {\n        due_date: this.formatDateRange(selectedWeek, 'week'),\n      };\n    }\n\n    const { prev, unit } = relativeRanges.get(relativeDate || 'thismonth').pick('prev', 'unit');\n    const relativeRange = dayjs().subtract(prev, unit);\n\n    return {\n      due_date: this.formatDateRange(relativeRange, unit),\n    };\n  },\n  getEntityFilter() {\n    const { groupId, clinicianId } = this.getFilters();\n    const group = groupId || this.groups.pluck('id').join(',');\n    const status = [STATE_STATUS.QUEUED, STATE_STATUS.STARTED].join(',');\n\n    const dateFilter = this.getEntityDateFilter();\n\n    const filters = extend({\n      clinician: clinicianId,\n      status,\n      group,\n    }, dateFilter);\n\n    return filters;\n  },\n  formatDateRange(date, rangeType) {\n    const dateFormat = 'YYYY-MM-DD';\n\n    return `${ dayjs(date).startOf(rangeType).format(dateFormat) },${ dayjs(date).endOf(rangeType).format(dateFormat) }`;\n  },\n  toggleSelected(model, isSelected) {\n    const list = clone(this.get('selectedActions'));\n\n    this.set('selectedActions', extend(list, {\n      [model.id]: isSelected,\n    }));\n  },\n  isSelected(model) {\n    return !!this.get('selectedActions')[model.id];\n  },\n  getSelected(collection) {\n    const list = this.get('selectedActions');\n    const collectionSelected = reduce(keys(list), (selected, item) => {\n      if (list[item] && collection.get(item)) {\n        selected.push({\n          id: item,\n        });\n      }\n\n      return selected;\n    }, []);\n\n    return Radio.request('entities', 'actions:collection', collectionSelected);\n  },\n  clearSelected() {\n    this.set('selectedActions', {});\n    this.trigger('select:none');\n  },\n  selectAll(collection) {\n    const list = collection.reduce((selected, model) => {\n      selected[model.id] = true;\n      return selected;\n    }, {});\n\n    this.set('selectedActions', list);\n\n    this.trigger('select:all');\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\n\nimport Droplist from 'js/components/droplist';\nimport OwnerDroplist from 'js/views/patients/shared/components/owner_component';\n\nimport './schedule.scss';\n\nconst FiltersView = View.extend({\n  className: 'schedule__filters',\n  template: hbs`\n    <div class=\"schedule__filter\" data-group-filter-region></div>\n    <div class=\"schedule__filter\" data-owner-filter-region></div>\n  `,\n  regions: {\n    group: '[data-group-filter-region]',\n    owner: '[data-owner-filter-region]',\n  },\n});\n\nconst GroupsDropList = Droplist.extend({\n  viewOptions: {\n    className: 'button-filter',\n    template: hbs`{{ name }}{{far \"angle-down\"}}`,\n  },\n  picklistOptions: {\n    attr: 'name',\n  },\n});\n\nexport {\n  FiltersView,\n  GroupsDropList,\n  OwnerDroplist,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport intl from 'js/i18n';\n\nimport { FiltersView, GroupsDropList, OwnerDroplist } from 'js/views/patients/schedule/filters_views';\n\nexport default App.extend({\n  onStart() {\n    this.currentClinician = Radio.request('bootstrap', 'currentUser');\n    this.groups = this.currentClinician.getGroups();\n\n    this.showView(new FiltersView());\n    this.showFilters();\n  },\n  showFilters() {\n    this.showGroupsFilterView();\n    this.showOwnerFilterView();\n  },\n  showGroupsFilterView() {\n    if (this.groups.length < 2) return;\n\n    const groups = this._getGroups();\n    const selected = groups.get(this.getState('groupId')) || groups.at(0);\n\n    const groupsFilter = new GroupsDropList({\n      collection: groups,\n      state: { selected },\n    });\n\n    this.listenTo(groupsFilter.getState(), 'change:selected', (state, { id }) => {\n      this.setState('groupId', id);\n    });\n\n    this.showChildView('group', groupsFilter);\n  },\n  showOwnerFilterView() {\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n    if (!currentClinician.can('app:schedule:clinician_filter')) return;\n\n    const owner = Radio.request('entities', 'clinicians:model', this.getState('clinicianId'));\n\n    const ownerFilter = new OwnerDroplist({\n      owner,\n      groups: this.groups,\n      isFilter: true,\n      hasTeams: false,\n      headingText: intl.patients.schedule.filtersApp.ownerFilterHeadingText,\n    });\n\n    this.listenTo(ownerFilter, 'change:owner', ({ id }) => {\n      this.setState({ clinicianId: id });\n    });\n\n    this.showChildView('owner', ownerFilter);\n  },\n  _getGroups() {\n    const groups = this.groups.clone();\n\n    groups.unshift({\n      id: null,\n      name: intl.patients.schedule.filtersApp.allGroupsName,\n    });\n\n    return groups;\n  },\n});\n","import { debounce, every } from 'underscore';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView } from 'marionette';\nimport dayjs from 'dayjs';\nimport hbs from 'handlebars-inline-precompile';\n\nimport { alphaSort } from 'js/utils/sorting';\nimport intl from 'js/i18n';\nimport buildMatchersArray from 'js/utils/formatting/build-matchers-array';\n\nimport 'scss/modules/list-pages.scss';\nimport 'scss/modules/table-list.scss';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport Tooltip from 'js/components/tooltip';\n\nimport { CheckComponent, DetailsTooltip } from 'js/views/patients/shared/actions_views';\n\nimport LayoutTemplate from './layout.hbs';\n\nimport './schedule-list.scss';\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: LayoutTemplate,\n  regions: {\n    filters: '[data-filters-region]',\n    table: '[data-table-region]',\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n    selectAll: '[data-select-all-region]',\n    title: '[data-title-region]',\n    dateFilter: '[data-date-filter-region]',\n    search: '[data-search-region]',\n  },\n});\n\nconst ScheduleTitleView = View.extend({\n  template: hbs`\n    <span class=\"list-page__title-icon\">{{far \"calendar-star\"}}</span>{{formatMessage (intlGet \"patients.schedule.scheduleViews.scheduleTitleView.title\") owner=name}}{{~ remove_whitespace ~}}\n    <span class=\"list-page__header-icon js-title-info\">{{fas \"circle-info\"}}</span>\n  `,\n  ui: {\n    tooltip: '.js-title-info',\n  },\n  onRender() {\n    new Tooltip({\n      message: intl.patients.schedule.scheduleViews.scheduleTitleView.tooltip,\n      uiView: this,\n      ui: this.ui.tooltip,\n      orientation: 'vertical',\n    });\n  },\n});\n\nconst SelectAllView = View.extend({\n  tagName: 'button',\n  className: 'button--checkbox',\n  attributes() {\n    if (this.getOption('isDisabled')) return { disabled: 'disabled' };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  getTemplate() {\n    if (this.getOption('isSelectAll')) return hbs`{{fas \"square-check\"}}`;\n    if (this.getOption('isSelectNone') || this.getOption('isDisabled')) return hbs`{{fal \"square\"}}`;\n\n    return hbs`{{fas \"square-minus\"}}`;\n  },\n});\n\nconst TableHeaderView = View.extend({\n  template: hbs`\n    <td class=\"schedule-list__header schedule-list__header-due-date\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.dueDateHeader }}</td>\n    <td class=\"schedule-list__header schedule-list__header-state-patient\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.patientHeader }}</td>\n    <td class=\"schedule-list__header schedule-list__header-action\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.actionHeader }}</td>\n    <td class=\"schedule-list__header schedule-list__header-form\">{{ @intl.patients.schedule.scheduleViews.tableHeaderView.formheader }}</td>\n  `,\n  tagName: 'tr',\n});\n\nconst DayItemView = View.extend({\n  tagName: 'tr',\n  className() {\n    const className = 'schedule-list__day-list-row';\n\n    if (this.getOption('state').get('isReduced')) return `${ className } is-reduced`;\n\n    return className;\n  },\n  template: hbs`\n    <td class=\"schedule-list__action-list-cell schedule-list__due-time {{#if isOverdue}}is-overdue{{/if}}\">\n      {{#unless isReduced}}<span class=\"u-margin--r-8\" data-check-region></span>{{/unless}}\n      {{#if due_time}}\n        {{formatDateTime due_time \"TIME\" inputFormat=\"HH:mm:ss\"}}&#8203;\n      {{else}}\n        <span class=\"schedule-list__no-time\">{{ @intl.patients.schedule.scheduleViews.dayItemView.noTime }}</span>&#8203;\n      {{/if}}\n    </td>\n    <td class=\"schedule-list__action-list-cell schedule-list__patient\">\n      <div class=\"schedule-list__patient-details\">\n        <span class=\"schedule-list__patient-sidebar-icon\">\n          <button class=\"js-patient-sidebar-button\">\n            {{far \"address-card\"}}\n          </button>\n        </span>&#8203;{{~ remove_whitespace ~}}\n        <span class=\"schedule-list__patient-name {{#if isReduced}}is-reduced{{else}}js-patient{{/if}}\">{{ patient.first_name }} {{ patient.last_name }}</span>&#8203;\n      </div>\n    </td>\n    <td class=\"schedule-list__action-list-cell\">\n      <div class=\"schedule-list__action-state-name\">\n        <span class=\"schedule-list__action-state action--{{ stateOptions.color }}\">{{fa stateOptions.iconType stateOptions.icon}}</span><span class=\"schedule-list__search-helper\">{{ state }}</span>&#8203;{{~ remove_whitespace ~}}\n        <span class=\"{{#unless isReduced}}js-action{{/unless}}\">{{ name }}</span>&#8203;{{~ remove_whitespace ~}}\n        <span class=\"schedule-list__search-helper\">{{ flow }}</span>&#8203;{{~ remove_whitespace ~}}\n      </div>\n    </td>\n    <td class=\"schedule-list__action-list-cell schedule-list__action-details\" data-details-region></td>\n    <td class=\"schedule-list__action-list-cell schedule-list__action-form\">\n      {{#if form}}<span class=\"js-form schedule-list__action-form-icon\">{{#if hasOutreach}}{{far \"share-from-square\"}}{{else}}{{far \"square-poll-horizontal\"}}{{/if}}</span>{{/if}}\n    </td>\n  `,\n  regions: {\n    check: '[data-check-region]',\n    details: '[data-details-region]',\n  },\n  templateContext() {\n    const state = this.model.getState();\n\n    return {\n      isOverdue: this.model.isOverdue(),\n      state: state.get('name'),\n      stateOptions: state.get('options'),\n      patient: this.model.getPatient().attributes,\n      form: this.model.getForm(),\n      flow: this.model.getFlow() && this.model.getFlow().get('name'),\n      hasOutreach: this.model.hasOutreach(),\n      isReduced: this.isReduced,\n    };\n  },\n  ui: {\n    'actionName': '.js-action',\n  },\n  triggers: {\n    'click .js-form': 'click:form',\n    'click .js-patient-sidebar-button': 'click:patientSidebarButton',\n    'click .js-patient': 'click:patient',\n    'click': 'click',\n  },\n  modelEvents: {\n    'change': 'render',\n  },\n  initialize({ state }) {\n    this.state = state;\n    this.flow = this.model.getFlow();\n    this.isReduced = state.get('isReduced');\n\n    this.listenTo(state, {\n      'select:all': this.showCheck,\n      'select:none': this.showCheck,\n    });\n  },\n  onRender() {\n    this.showCheck();\n    this.showDetailsTooltip();\n  },\n  toggleSelected(isSelected) {\n    this.$el.toggleClass('is-selected', isSelected);\n  },\n  showCheck() {\n    if (this.isReduced) return;\n\n    const isSelected = this.state.isSelected(this.model);\n    this.toggleSelected(isSelected);\n    const checkComponent = new CheckComponent({ state: { isSelected } });\n\n    this.listenTo(checkComponent, {\n      'select'() {\n        this.state.toggleSelected(this.model, !isSelected);\n      },\n      'change:isSelected': this.toggleSelected,\n    });\n\n    this.showChildView('check', checkComponent);\n  },\n  onClickPatientSidebarButton() {\n    const patient = this.model.getPatient();\n    Radio.request('sidebar', 'start', 'patient', { patient });\n  },\n  onClickPatient() {\n    Radio.trigger('event-router', 'patient:dashboard', this.model.get('_patient'));\n  },\n  onClickForm() {\n    Radio.trigger('event-router', 'form:patientAction', this.model.id, this.model.getForm().id);\n  },\n  onClick() {\n    if (this.isReduced) return;\n\n    if (this.flow) {\n      Radio.trigger('event-router', 'flow:action', this.flow.id, this.model.id);\n      return;\n    }\n\n    Radio.trigger('event-router', 'patient:action', this.model.get('_patient'), this.model.id);\n  },\n  showDetailsTooltip() {\n    if (!this.model.get('details')) return;\n\n    this.showChildView('details', new DetailsTooltip({ model: this.model }));\n  },\n});\n\nconst DayListView = CollectionView.extend({\n  childView: DayItemView,\n  childViewOptions() {\n    return {\n      state: this.state,\n    };\n  },\n  tagName: 'tr',\n  className: 'schedule-list__list-row',\n  template: hbs`\n    <td class=\"schedule-list__list-cell\">\n      <div class=\"schedule-list__row-header\">\n        <span class=\"schedule-list__date {{#if isToday}}is-today{{/if}}\">{{formatDateTime date \"D\"}}</span>\n        <span class=\"schedule-list__month-day\">{{formatDateTime date \"MMM, ddd\"}}</span>\n      </div>\n      <div class=\"schedule-list__day-list\">\n        <table class=\"schedule-list__day-list-table w-100\" data-actions-region></table>\n      </div>\n    </td>\n  `,\n  templateContext() {\n    const date = dayjs(this.model.get('date'));\n    const today = dayjs();\n\n    return {\n      isToday: date.isSame(today, 'day'),\n    };\n  },\n  childViewContainer: '[data-actions-region]',\n  viewComparator(viewA, viewB) {\n    // nullVal of 24 to ensure null due_time is last in list and due_time never exceeds 23:59:59\n    return alphaSort('asc', viewA.model.get('due_time'), viewB.model.get('due_time'), '24');\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, 'change:searchQuery', this.searchList);\n  },\n  childViewTriggers: {\n    'render': 'listItem:render',\n  },\n  onListItemRender(view) {\n    const date = dayjs(this.model.get('date'));\n    view.searchString = `${ date.format('D') } ${ date.format('MMM, ddd') } ${ view.$el.text() }`;\n  },\n  searchList(state, searchQuery) {\n    if (!searchQuery) {\n      this.removeFilter();\n      return;\n    }\n\n    const matchers = buildMatchersArray(searchQuery);\n\n    this.setFilter(function({ searchString }) {\n      return every(matchers, function(matcher) {\n        return matcher.test(searchString);\n      });\n    });\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.schedule.scheduleViews.emptyView.noScheduledActions }}</h2>\n    </td>\n  `,\n});\n\nconst EmptyFindInListView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.patients.schedule.scheduleViews.emptyFindInListView.noResults }}</h2>\n    </td>\n  `,\n});\n\nconst ScheduleListView = CollectionView.extend({\n  tagName: 'table',\n  className: 'schedule-list__table',\n  childView: DayListView,\n  childViewOptions(model) {\n    if (!model) return;\n\n    return {\n      collection: model.get('actions'),\n      state: this.state,\n    };\n  },\n  childViewEvents: {\n    'render:children': 'onChildFilter',\n  },\n  emptyView() {\n    if (this.state.get('searchQuery')) {\n      return EmptyFindInListView;\n    }\n\n    return EmptyView;\n  },\n  viewComparator(viewA, viewB) {\n    return alphaSort('asc', viewA.model.get('date'), viewB.model.get('date'));\n  },\n  viewFilter(view) {\n    if (this.state.get('searchQuery')) {\n      return !view.isEmpty();\n    }\n\n    // 'null' string is a key from groupBy\n    if (view.model.get('date') === 'null') {\n      return false;\n    }\n\n    return true;\n  },\n  initialize({ state }) {\n    this.state = state;\n  },\n  onRenderChildren() {\n    this.setVisibleChildren();\n  },\n  onChildFilter: debounce(function() {\n    this.filter();\n  }, 10),\n  setVisibleChildren() {\n    const visibleActions = this.children.reduce((models, cv) => {\n      return models.concat(cv.children.pluck('model'));\n    }, []);\n    this.triggerMethod('filtered', visibleActions);\n  },\n});\n\nexport {\n  LayoutView,\n  ScheduleTitleView,\n  TableHeaderView,\n  ScheduleListView,\n  SelectAllView,\n};\n","import { clone, extend } from 'underscore';\nimport Radio from 'backbone.radio';\nimport store from 'store';\n\nimport App from 'js/base/app';\n\nimport intl, { renderTemplate } from 'js/i18n';\n\nimport StateModel from './schedule_state';\n\nimport FiltersApp from './filters_app';\nimport BulkEditActionsApp from 'js/apps/patients/sidebar/bulk-edit-actions_app';\n\nimport DateFilterComponent from 'js/views/patients/shared/components/date-filter';\nimport SearchComponent from 'js/views/shared/components/list-search';\n\nimport { LayoutView, ScheduleTitleView, TableHeaderView, SelectAllView, ScheduleListView } from 'js/views/patients/schedule/schedule_views';\nimport { BulkEditButtonView, BulkEditActionsSuccessTemplate, BulkDeleteActionsSuccessTemplate } from 'js/views/patients/shared/bulk-edit/bulk-edit_views';\n\nexport default App.extend({\n  StateModel,\n  childApps: {\n    filters: {\n      AppClass: FiltersApp,\n      regionName: 'filters',\n      restartWithParent: false,\n      getOptions: ['currentClinician'],\n    },\n    bulkEditActions: BulkEditActionsApp,\n  },\n  stateEvents: {\n    'change:filters change:dateFilters': 'restart',\n    'change:selectedActions': 'onChangeSelected',\n  },\n  initListState() {\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n    const storedState = store.get(`schedule_${ currentUser.id }-v2`);\n    const filters = this.getState('filters');\n\n    // NOTE: Allows for new defaults to get added to stored filters\n    if (storedState) storedState.filters = extend({}, filters, storedState.filters);\n\n    this.setState(extend({ id: `schedule_${ currentUser.id }` }, storedState));\n  },\n  onBeforeStart() {\n    if (this.isRestarting()) {\n      Radio.request('sidebar', 'close');\n      this.showScheduleTitle();\n      this.showDateFilter();\n      this.getRegion('list').startPreloader();\n      return;\n    }\n\n    this.initListState();\n    this.showView(new LayoutView({\n      state: this.getState(),\n    }));\n\n    this.getRegion('list').startPreloader();\n\n    this.showScheduleTitle();\n    this.showSearchView();\n    this.showDisabledSelectAll();\n    this.startFiltersApp();\n    this.showDateFilter();\n    this.showTableHeaders();\n  },\n  beforeStart() {\n    const filter = this.getState().getEntityFilter();\n    return Radio.request('entities', 'fetch:actions:collection', { filter });\n  },\n  onStart(options, collection) {\n    this.collection = collection;\n    this.filteredCollection = collection.clone();\n\n    this.showScheduleList();\n    this.showSearchView();\n    this.toggleBulkSelect();\n  },\n  onChangeSelected() {\n    this.toggleBulkSelect();\n  },\n  onClickBulkSelect() {\n    if (this.selected.length === this.filteredCollection.length) {\n      this.getState().clearSelected();\n      return;\n    }\n\n    this.getState().selectAll(this.filteredCollection);\n  },\n  onClickBulkEdit() {\n    const app = this.startChildApp('bulkEditActions', {\n      state: { collection: this.selected },\n    });\n\n    this.listenTo(app, {\n      'save'(saveData) {\n        this.selected.save(saveData)\n          .done(() => {\n            Radio.request('alert', 'show:success', renderTemplate(BulkEditActionsSuccessTemplate, { itemCount: this.selected.length }));\n            app.stop();\n\n            if (saveData.due_date && this.selected.some(action => action.changed.due_date)) {\n              this.getState().clearSelected();\n              this.restart();\n              return;\n            }\n\n            this.getState().clearSelected();\n          })\n          .fail(() => {\n            Radio.request('alert', 'show:error', intl.patients.schedule.scheduleApp.bulkEditFailure);\n            this.getState().clearSelected();\n            this.restart();\n          });\n      },\n      'delete'() {\n        const itemCount = this.selected.length;\n        this.selected.destroy().then(() => {\n          Radio.request('alert', 'show:success', renderTemplate(BulkDeleteActionsSuccessTemplate, { itemCount }));\n          app.stop();\n          this.getState().clearSelected();\n          this.showScheduleList();\n        });\n      },\n    });\n  },\n  onClickBulkCancel() {\n    this.getState().clearSelected();\n  },\n  showScheduleList() {\n    const collectionView = new ScheduleListView({\n      collection: this.collection.groupByDate(),\n      state: this.getState(),\n    });\n\n    this.listenTo(collectionView, 'filtered', filtered => {\n      this.filteredCollection.reset(filtered);\n      this.toggleBulkSelect();\n    });\n\n    this.showChildView('list', collectionView);\n  },\n  showScheduleTitle() {\n    const filters = this.getState().get('filters');\n    const owner = Radio.request('entities', 'clinicians:model', filters.clinicianId);\n\n    this.showChildView('title', new ScheduleTitleView({\n      model: owner,\n    }));\n  },\n  showSearchView() {\n    const searchComponent = this.showChildView('search', new SearchComponent({\n      state: {\n        query: this.getState('searchQuery'),\n        isDisabled: !this.collection || !this.collection.length,\n      },\n    }));\n\n    this.listenTo(searchComponent.getState(), 'change:query', this.setSearchState);\n  },\n  startFiltersApp() {\n    const filtersApp = this.startChildApp('filters', {\n      state: this.getState().getFilters(),\n    });\n\n    this.listenTo(filtersApp.getState(), 'change', ({ attributes }) => {\n      this.setState({ filters: clone(attributes) });\n    });\n  },\n  showDateFilter() {\n    const dateTypes = ['due_date'];\n\n    const dateFilterComponent = new DateFilterComponent({\n      dateTypes,\n      state: this.getState().getDateFilters(),\n      region: this.getRegion('dateFilter'),\n    });\n\n    this.listenTo(dateFilterComponent.getState(), {\n      'change'({ attributes }) {\n        this.setState({ dateFilters: clone(attributes) });\n      },\n    });\n\n    dateFilterComponent.show();\n  },\n  showTableHeaders() {\n    const tableHeadersView = new TableHeaderView();\n\n    this.showChildView('table', tableHeadersView);\n  },\n  showSelectAll() {\n    if (!this.filteredCollection.length) {\n      this.showDisabledSelectAll();\n      return;\n    }\n    const isSelectAll = this.selected.length === this.filteredCollection.length;\n    const isSelectNone = !this.selected.length;\n    const selectAllView = new SelectAllView({\n      isSelectAll,\n      isSelectNone,\n    });\n\n    this.listenTo(selectAllView, 'click', this.onClickBulkSelect);\n\n    this.showChildView('selectAll', selectAllView);\n  },\n  showDisabledSelectAll() {\n    this.showChildView('selectAll', new SelectAllView({ isDisabled: true }));\n  },\n  showBulkEditButtonView() {\n    const bulkEditButtonView = this.showChildView('filters', new BulkEditButtonView({\n      collection: this.selected,\n    }));\n\n    this.listenTo(bulkEditButtonView, {\n      'click:cancel': this.onClickBulkCancel,\n      'click:edit': this.onClickBulkEdit,\n    });\n  },\n  toggleBulkSelect() {\n    this.selected = this.getState().getSelected(this.filteredCollection);\n\n    this.showSelectAll();\n\n    if (this.selected.length) {\n      this.getChildApp('filters').stop();\n      this.showBulkEditButtonView();\n      return;\n    }\n\n    this.startFiltersApp();\n  },\n  setSearchState(state, searchQuery) {\n    this.setState({\n      searchQuery: searchQuery.length > 2 ? searchQuery : '',\n    });\n  },\n});\n","import { defer } from 'underscore';\n\nimport Radio from 'backbone.radio';\n\nimport RouterApp from 'js/base/routerapp';\n\nimport FlowApp from 'js/apps/patients/patient/flow/flow_app';\nimport PatientApp from 'js/apps/patients/patient/patient_app';\nimport WorklistApp from 'js/apps/patients/worklist/worklist_app';\nimport ScheduleApp from 'js/apps/patients/schedule/schedule_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'PatientsApp',\n\n  childApps() {\n    const worklistApp = WorklistApp;\n\n    return {\n      flow: FlowApp,\n      patient: PatientApp,\n      ownedBy: worklistApp,\n      forTeam: worklistApp,\n      newPastDay: worklistApp,\n      pastThree: worklistApp,\n      lastThirty: worklistApp,\n      schedule: ScheduleApp,\n    };\n  },\n\n  defaultRoute() {\n    const defaultRoute = 'worklist';\n    const defaultWorklist = 'owned-by';\n\n    this.routeAction(defaultRoute, () => {\n      defer(()=> {\n        this.navigateRoute(defaultRoute, defaultWorklist);\n        Radio.request('nav', 'select', this.routerAppName, defaultRoute, [defaultWorklist]);\n        this.setLatestList(defaultRoute, [defaultWorklist]);\n        this.showPatientsWorklist(defaultWorklist);\n      });\n    });\n  },\n\n  eventRoutes() {\n    return {\n      'default': {\n        action: 'defaultRoute',\n        route: '',\n      },\n      'worklist': {\n        action: 'showPatientsWorklist',\n        route: 'worklist/:id',\n        isList: true,\n      },\n      'patient:dashboard': {\n        action: 'showPatient',\n        route: 'patient/dashboard/:id',\n      },\n      'patient:archive': {\n        action: 'showPatient',\n        route: 'patient/archive/:id',\n      },\n      'patient:action': {\n        action: 'showPatient',\n        route: 'patient/:id/action/:id',\n      },\n      'patient:action:new': {\n        action: 'showPatient',\n        route: 'patient/:id/action',\n      },\n      'flow': {\n        action: 'showFlow',\n        route: 'flow/:id',\n      },\n      'flow:action': {\n        action: 'showFlow',\n        route: 'flow/:id/action/:id',\n      },\n      'schedule': {\n        action: 'showSchedule',\n        route: 'schedule',\n        isList: true,\n      },\n\n    };\n  },\n\n  showPatient(patientId) {\n    this.startRoute('patient', { patientId });\n  },\n\n  showPatientsWorklist(worklistId) {\n    const worklistsById = {\n      'owned-by': 'ownedBy',\n      'shared-by': 'forTeam',\n      'new-past-day': 'newPastDay',\n      'updated-past-three-days': 'pastThree',\n      'done-last-thirty-days': 'lastThirty',\n    };\n\n    if (!worklistsById[worklistId]) {\n      Radio.trigger('event-router', 'notFound');\n      return;\n    }\n\n    this.startCurrent(worklistsById[worklistId], { worklistId });\n  },\n\n  showFlow(flowId) {\n    this.startRoute('flow', { flowId });\n  },\n\n  showSchedule() {\n    this.startCurrent('schedule');\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport { STATE_STATUS } from 'js/static';\n\nimport SearchComponent from 'js/views/shared/components/list-search';\n\nimport { LayoutView, ScheduleTitleView, TableHeaderView, ScheduleListView } from 'js/views/patients/schedule/schedule_views';\n\nexport default App.extend({\n  onBeforeStart() {\n    this.setState({ isReduced: true });\n\n    this.showView(new LayoutView({\n      state: this.getState(),\n    }));\n\n    this.getRegion('list').startPreloader();\n\n    this.showScheduleTitle();\n    this.showSearchView();\n    this.showTableHeaders();\n  },\n  beforeStart() {\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n\n    const filter = {\n      clinician: currentClinician.id,\n      status: [STATE_STATUS.QUEUED, STATE_STATUS.STARTED].join(','),\n      group: currentClinician.getGroups().pluck('id').join(','),\n    };\n\n    return Radio.request('entities', 'fetch:actions:collection', { filter });\n  },\n  onStart(options, collection) {\n    this.collection = collection;\n\n    this.showScheduleList();\n    this.showSearchView();\n  },\n  showScheduleList() {\n    const collectionView = new ScheduleListView({\n      collection: this.collection.groupByDate(),\n      state: this.getState(),\n    });\n\n    this.showChildView('list', collectionView);\n  },\n  showScheduleTitle() {\n    const currentClinician = Radio.request('bootstrap', 'currentUser');\n    const owner = Radio.request('entities', 'clinicians:model', currentClinician.id);\n\n    this.showChildView('title', new ScheduleTitleView({\n      model: owner,\n    }));\n  },\n  showSearchView() {\n    const searchComponent = this.showChildView('search', new SearchComponent({\n      state: {\n        query: this.getState('searchQuery'),\n        isDisabled: !this.collection || !this.collection.length,\n      },\n    }));\n\n    this.listenTo(searchComponent.getState(), 'change:query', this.setSearchState);\n  },\n  showTableHeaders() {\n    const tableHeadersView = new TableHeaderView();\n\n    this.showChildView('table', tableHeadersView);\n  },\n  setSearchState(state, searchQuery) {\n    this.setState({\n      searchQuery: searchQuery.length > 2 ? searchQuery : '',\n    });\n  },\n});\n","import { defer } from 'underscore';\n\nimport Radio from 'backbone.radio';\n\nimport RouterApp from 'js/base/routerapp';\n\nimport FlowApp from 'js/apps/patients/patient/flow/flow_app';\nimport PatientApp from 'js/apps/patients/patient/patient_app';\nimport ReducedScheduleApp from 'js/apps/patients/schedule/reduced_schedule_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'PatientsApp',\n  childApps() {\n    return {\n      flow: FlowApp,\n      patient: PatientApp,\n      schedule: ReducedScheduleApp,\n    };\n  },\n  defaultRoute() {\n    const defaultRoute = 'schedule';\n\n    this.routeAction(defaultRoute, () => {\n      defer(()=> {\n        this.navigateRoute(defaultRoute);\n        Radio.request('nav', 'select', this.routerAppName, defaultRoute);\n        this.setLatestList(defaultRoute);\n        this.showSchedule();\n      });\n    });\n  },\n  eventRoutes() {\n    return {\n      'default': {\n        action: 'defaultRoute',\n        route: '',\n      },\n      'schedule': {\n        action: 'showSchedule',\n        route: 'schedule',\n        isList: true,\n      },\n      'patient:dashboard': {\n        action: 'showPatient',\n        route: 'patient/dashboard/:id',\n      },\n      'patient:archive': {\n        action: 'showPatient',\n        route: 'patient/archive/:id',\n      },\n      'patient:action': {\n        action: 'showPatient',\n        route: 'patient/:id/action/:id',\n      },\n      'patient:action:new': {\n        action: 'showPatient',\n        route: 'patient/:id/action',\n      },\n      'flow': {\n        action: 'showFlow',\n        route: 'flow/:id',\n      },\n      'flow:action': {\n        action: 'showFlow',\n        route: 'flow/:id/action/:id',\n      },\n    };\n  },\n  showPatient(patientId) {\n    this.startRoute('patient', { patientId });\n  },\n  showFlow(flowId) {\n    this.startRoute('flow', { flowId });\n  },\n  showSchedule() {\n    this.startCurrent('schedule');\n  },\n});\n","import { every, map, sortBy } from 'underscore';\nimport hbs from 'handlebars-inline-precompile';\nimport Radio from 'backbone.radio';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport buildMatchersArray from 'js/utils/formatting/build-matchers-array';\n\nimport PreloadRegion from 'js/regions/preload_region';\nimport { RoleComponent, TeamComponent, StateComponent } from 'js/views/clinicians/shared/clinicians_views';\n\nimport 'scss/modules/list-pages.scss';\nimport 'scss/modules/table-list.scss';\n\nimport './clinicians.scss';\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.clinicians.cliniciansAllViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst EmptyFindInListView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.clinicians.cliniciansAllViews.emptyFindInListView.noResults }}</h2>\n    </td>\n  `,\n});\n\nconst ItemView = View.extend({\n  modelEvents: {\n    'change:enabled': 'render',\n  },\n  className: 'table-list__item',\n  behaviors: [RowBehavior],\n  tagName: 'tr',\n  regions: {\n    team: '[data-team-region]',\n    role: '[data-role-region]',\n    state: '[data-state-region]',\n  },\n  triggers: {\n    'click': 'click',\n  },\n  template: hbs`\n    <td class=\"table-list__cell w-20\">{{#unless name}}{{ @intl.clinicians.cliniciansAllViews.itemView.newClinician }}{{/unless}}{{ name }}&#8203;</td>\n    <td class=\"table-list__cell w-30 {{#unless groups}}table-list__cell--empty{{/unless}}\">{{#each groups}}{{#unless @first}}, {{/unless}}{{ this.name }}{{/each}}{{#unless groups}}{{ @intl.clinicians.cliniciansAllViews.itemView.noGroups }}{{/unless}}&#8203;</td>\n    <td class=\"table-list__cell w-30\">\n      <span class=\"u-margin--r-8\" data-state-region></span>&#8203;{{~ remove_whitespace ~}}\n      <span class=\"u-margin--r-8\" data-role-region></span>&#8203;{{~ remove_whitespace ~}}\n      <span data-team-region></span>&#8203;{{~ remove_whitespace ~}}\n    </td>\n    <td class=\"table-list__cell w-20 {{#unless last_active_at}}table-list__cell--empty{{/unless}}\">{{formatDateTime last_active_at \"TIME_OR_DAY\" defaultHtml=(intlGet \"clinicians.cliniciansAllViews.itemView.noLastActive\")}}&#8203;</td>\n  `,\n  templateContext() {\n    return {\n      groups: sortBy(map(this.model.getGroups().models, 'attributes'), 'name'),\n    };\n  },\n  onRender() {\n    this.showTeam();\n    this.showRole();\n    this.showState();\n  },\n  onClick() {\n    Radio.trigger('event-router', 'clinician', this.model.id);\n  },\n  showState() {\n    const isActive = this.model.isActive();\n    const selectedId = this.model.get('enabled') ? 'enabled' : 'disabled';\n\n    const stateComponent = new StateComponent({ isActive, selectedId, isCompact: true });\n\n    this.listenTo(stateComponent, 'change:selected', selected => {\n      this.model.save({ enabled: selected.id !== 'disabled' });\n    });\n\n    this.showChildView('state', stateComponent);\n  },\n  showRole() {\n    const roleComponent = new RoleComponent({\n      role: this.model.getRole(),\n      isCompact: true,\n      state: { isDisabled: !this.model.get('enabled') },\n    });\n\n    this.listenTo(roleComponent, 'change:role', role => {\n      this.model.saveRole(role);\n    });\n\n    this.showChildView('role', roleComponent);\n  },\n  showTeam() {\n    const teamComponent = new TeamComponent({\n      team: this.model.getTeam(),\n      isCompact: true,\n      state: { isDisabled: !this.model.get('enabled') },\n    });\n\n    this.listenTo(teamComponent, 'change:team', team => {\n      this.model.saveTeam(team);\n    });\n\n    this.showChildView('team', teamComponent);\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: hbs`\n    <div class=\"list-page__header\">\n      <div class=\"flex list-page__title\">\n        <div>\n          <span class=\"list-page__title-icon\">{{far \"users-gear\"}}</span>{{ @intl.clinicians.cliniciansAllViews.layoutView.title }}\n        </div>\n        <div class=\"clinicians__list-search\" data-search-region></div>\n      </div>\n      <button class=\"u-margin--b-16 button-primary js-add-clinician\">{{far \"circle-plus\"}}<span>{{ @intl.clinicians.cliniciansAllViews.layoutView.addClinicianButton }}</span></button>\n    </div>\n    <div class=\"flex-region list-page__list\">\n      <table class=\"w-100\"><tr>\n        <td class=\"table-list__header w-20\">{{ @intl.clinicians.cliniciansAllViews.layoutView.clinicianHeader }}</td>\n        <td class=\"table-list__header w-30\">{{ @intl.clinicians.cliniciansAllViews.layoutView.groupsHeader }}</td>\n        <td class=\"table-list__header w-30\">{{ @intl.clinicians.cliniciansAllViews.layoutView.attributesHeader }}</td>\n        <td class=\"table-list__header w-20\">{{ @intl.clinicians.cliniciansAllViews.layoutView.lastActiveHeader }}</td>\n      </tr></table>\n      <div class=\"flex-region\" data-list-region></div>\n    </div>\n  `,\n  regions: {\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n    sidebar: '[data-sidebar-region]',\n    addClinician: {\n      el: '[data-add-region]',\n      replaceElement: true,\n    },\n    search: '[data-search-region]',\n  },\n  triggers: {\n    'click .js-add-clinician': 'click:addClinician',\n  },\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list',\n  tagName: 'table',\n  childView: ItemView,\n  emptyView() {\n    if (this.state.get('searchQuery')) {\n      return EmptyFindInListView;\n    }\n\n    return EmptyView;\n  },\n  collectionEvents: {\n    'change:name': 'sort',\n  },\n  childViewTriggers: {\n    'render': 'listItem:render',\n  },\n  viewComparator({ model }) {\n    return String(model.get('name')).toLowerCase();\n  },\n  initialize({ state }) {\n    this.state = state;\n\n    this.listenTo(state, 'change:searchQuery', this.searchList);\n  },\n  onListItemRender(view) {\n    view.searchString = view.$el.text();\n  },\n  onRenderChildren() {\n    this.triggerMethod('filtered', this.children.pluck('model'));\n  },\n  searchList(state, searchQuery) {\n    if (!searchQuery) {\n      this.removeFilter();\n      return;\n    }\n\n    const matchers = buildMatchersArray(searchQuery);\n\n    this.setFilter(function({ searchString }) {\n      return every(matchers, function(matcher) {\n        return matcher.test(searchString);\n      });\n    });\n  },\n});\n\nexport {\n  LayoutView,\n  ListView,\n};\n","import { extend } from 'underscore';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\nimport { mixinState } from 'marionette.toolkit';\n\nimport 'scss/modules/modals.scss';\n\nimport intl from 'js/i18n';\nimport trim from 'js/utils/formatting/trim';\n\nimport { GroupsComponent, TeamComponent, RoleComponent } from 'js/views/clinicians/shared/clinicians_views';\n\nimport InputFocusBehavior from 'js/behaviors/input-focus';\nimport ClinicianModalTemplate from './clinician-modal.hbs';\n\nconst i18n = intl.clinicians.clinicianModal.clinicianModalViews;\n\nconst InputView = View.extend({\n  behaviors() {\n    if (!this.getOption('shouldFocus')) return;\n\n    return [\n      {\n        behaviorClass: InputFocusBehavior,\n        selector: '.js-input',\n      },\n    ];\n  },\n  className: 'pos--relative',\n  template: hbs`\n    <input class=\"input-primary w-100 js-input {{#if hasError}}has-error{{/if}}\" placeholder=\"{{ placeholder }}\" value=\"{{ value }}\" />\n  `,\n  templateContext() {\n    const errors = this.getOption('state').get('errors');\n\n    return {\n      hasError: errors && errors[this.getOption('attr')],\n      placeholder: this.getOption('placeholder'),\n      value: this.model.get(this.getOption('attr')),\n    };\n  },\n  ui: {\n    input: '.js-input',\n  },\n  events: {\n    'input @ui.input': 'onChange',\n  },\n  initialize({ state }) {\n    this.listenTo(state, 'change:errors', this.render);\n  },\n  onChange() {\n    const text = this.ui.input.val();\n    this.model.set(this.getOption('attr'), trim(text));\n  },\n  onDomRefresh() {\n    if (this.getOption('shouldFocus')) {\n      this.ui.input.focus();\n    }\n  },\n});\n\nconst ClinicianModal = View.extend({\n  className: 'modal__content',\n  regions: {\n    name: '[data-name-region]',\n    email: '[data-email-region]',\n    role: '[data-role-region]',\n    team: '[data-team-region]',\n    groups: '[data-groups-region]',\n  },\n  modelEvents: {\n    'change': 'onChange',\n  },\n  template: ClinicianModalTemplate,\n  initialize({ state }) {\n    this.initState({ state });\n  },\n  onRender() {\n    this.showNameView();\n    this.showEmailView();\n    this.showRole();\n    this.showTeam();\n    this.showGroupsComponent();\n  },\n  showNameView() {\n    this.showChildView('name', new InputView({\n      model: this.model,\n      state: this.getState(),\n      attr: 'name',\n      placeholder: i18n.clinicianModal.name,\n      shouldFocus: true,\n    }));\n  },\n  showEmailView() {\n    this.showChildView('email', new InputView({\n      model: this.model,\n      state: this.getState(),\n      attr: 'email',\n      placeholder: i18n.clinicianModal.email,\n    }));\n  },\n  showRole() {\n    const roleComponent = new RoleComponent({\n      role: this.model.getRole(),\n      className: 'modal__form-component',\n    });\n\n    this.listenTo(roleComponent, 'change:role', role => {\n      this.model.set('_role', role.id);\n    });\n\n    this.showChildView('role', roleComponent);\n  },\n  showTeam() {\n    const teamComponent = new TeamComponent({\n      team: this.model.get('_team'),\n      className: 'modal__form-component',\n    });\n\n    this.listenTo(teamComponent, 'change:team', team => {\n      this.model.set('_team', team.id);\n    });\n\n    this.showChildView('team', teamComponent);\n  },\n  showGroupsComponent() {\n    const groupsManager = this.showChildView('groups', new GroupsComponent({\n      className: 'modal__form-component',\n      member: this.model,\n    }));\n\n    this.listenTo(groupsManager, {\n      'add:member'(clinician, group) {\n        this.model.addGroup(group);\n      },\n      'remove:member'(clinician, group) {\n        this.model.removeGroup(group);\n      },\n    });\n  },\n});\n\nmixinState(ClinicianModal);\n\nfunction getClinicianModal(opts) {\n  const clinician = opts.clinician;\n  const bodyView = new ClinicianModal({\n    model: clinician,\n  });\n\n  return extend({\n    bodyView,\n    headerIcon: 'users-gear',\n  }, i18n.clinicianModal, opts);\n}\n\nexport {\n  getClinicianModal,\n};\n","import { values } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport intl from 'js/i18n';\n\nimport SearchComponent from 'js/views/shared/components/list-search';\n\nimport { ListView, LayoutView } from 'js/views/clinicians/clinicians-all_views';\nimport { getClinicianModal } from 'js/views/clinicians/clinician-modal/clinician-modal_views';\n\nexport default SubRouterApp.extend({\n  routerAppName: 'CliniciansApp',\n  eventRoutes: {\n    'clinician': 'showClinicianSidebar',\n  },\n  viewEvents: {\n    'click:addClinician': 'onClickAddClinician',\n  },\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('list').startPreloader();\n\n    this.showSearchView();\n\n    this.clinicians = Radio.request('entities', 'clinicians:collection');\n  },\n  beforeStart() {\n    return Radio.request('entities', 'fetch:clinicians:collection');\n  },\n  onStart({ currentRoute }, collection) {\n    this.collection = collection;\n\n    this.clinicians.add(collection.models);\n\n    this.showChildView('list', new ListView({\n      collection: this.clinicians,\n      state: this.getState(),\n    }));\n\n    this.showSearchView();\n\n    this.startRoute(currentRoute);\n  },\n  _getClinician(clinicianId) {\n    if (!clinicianId) {\n      return Radio.request('entities', 'clinicians:model', {\n        enabled: true,\n        disabled_at: null,\n      });\n    }\n\n    return this.clinicians.get(clinicianId);\n  },\n  showSearchView() {\n    const searchComponent = this.showChildView('search', new SearchComponent({\n      state: {\n        query: this.getState('searchQuery'),\n        isDisabled: !this.collection || !this.collection.length,\n      },\n    }));\n\n    this.listenTo(searchComponent.getState(), 'change:query', this.setSearchState);\n  },\n  setSearchState(state, searchQuery) {\n    this.setState({\n      searchQuery: searchQuery.length > 2 ? searchQuery : '',\n    });\n  },\n  showClinicianSidebar(clinicianId) {\n    const clinician = this._getClinician(clinicianId);\n\n    if (!clinician) {\n      Radio.request('alert', 'show:error', intl.clinicians.cliniciansAllApp.notFound);\n      Radio.trigger('event-router', 'clinicians:all');\n      return;\n    }\n\n    Radio.request('sidebar', 'start', 'clinician', { clinician });\n\n    clinician.trigger('editing', true);\n  },\n  onClickAddClinician() {\n    this.showAddModal();\n  },\n  showAddModal() {\n    const clinician = this._getClinician();\n    const clinicianClone = clinician.clone();\n    const clinicianModal = Radio.request('modal', 'show', getClinicianModal({\n      clinician: clinicianClone,\n      onSubmit: () => {\n        clinicianModal.disableSubmit();\n        clinician.saveAll(clinicianClone.attributes)\n          .then(({ data }) => {\n            this.clinicians.add(clinician);\n            Radio.trigger('event-router', 'clinician', data.id);\n            clinicianModal.destroy();\n          })\n          .fail(({ responseJSON }) => {\n            clinicianModal.disableSubmit();\n            const errors = clinician.parseErrors(responseJSON);\n\n            clinicianModal.getChildView('body').setState({ errors });\n            Radio.request('alert', 'show:error', values(errors).join(', '));\n          });\n      },\n    }));\n\n    clinicianModal.disableSubmit();\n    clinicianModal.listenTo(clinicianClone, {\n      'change'() {\n        clinicianModal.disableSubmit(!clinicianClone.isValid());\n      },\n    });\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport CliniciansAllApp from 'js/apps/clinicians/clinicians-all_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'CliniciansApp',\n\n  childApps: {\n    cliniciansAll: CliniciansAllApp,\n  },\n\n  eventRoutes: {\n    'clinicians:all': {\n      action: 'showCliniciansAll',\n      route: 'clinicians',\n      isList: true,\n    },\n    'clinician': {\n      action: 'showCliniciansAll',\n      route: 'clinicians/:id',\n    },\n    'clinician:new': {\n      action: 'showCliniciansAll',\n      route: 'clinicians/new',\n    },\n  },\n\n  showCliniciansAll() {\n    this.startRoute('cliniciansAll');\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\n\nconst ItemView = View.extend({\n  template: hbs`\n    <td class=\"table-list__cell w-100\">{{ name }}</td>\n  `,\n  className: 'table-list__item',\n  tagName: 'tr',\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'dashboard', this.model.id);\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.dashboards.dashboardsAllViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ListView = CollectionView.extend({\n  childView: ItemView,\n  className: 'table-list',\n  tagName: 'table',\n  emptyView: EmptyView,\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: hbs`\n  <div class=\"list-page__header\">\n    <div class=\"list-page__title\"><span class=\"list-page__title-icon\">{{far \"gauge\"}}</span>{{ @intl.dashboards.dashboardsAllViews.layoutView.title }}</div>\n  </div>\n  <div class=\"flex-region list-page__list\">\n    <table class=\"w-100\"><tr>\n      <td class=\"table-list__header w-100\">{{ @intl.dashboards.dashboardsAllViews.layoutView.nameHeader }}</td>\n    </tr></table>\n    <div class=\"flex-region\" data-list-region></div>\n  </div>\n  `,\n  regions: {\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n});\n\nexport {\n  LayoutView,\n  ListView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { ListView, LayoutView } from 'js/views/dashboards/dashboards-all_views';\n\nexport default App.extend({\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('list').startPreloader();\n  },\n  beforeStart() {\n    return Radio.request('entities', 'fetch:dashboards:collection');\n  },\n  onStart(options, collection) {\n    this.programs = collection;\n    this.showChildView('list', new ListView({ collection }));\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\n\nimport { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport './dashboard.scss';\n\nconst ContextTrailView = View.extend({\n  className: 'dashboard__context-trail',\n  template: hbs`\n    <a class=\"js-back dashboard__context-link\">\n      {{fas \"chevron-left\"}}{{ @intl.dashboards.dashboardViews.contextTrailView.contextBackBtn }}\n    </a>\n    {{fas \"chevron-right\"}}{{ name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n  },\n  onClickBack() {\n    Radio.trigger('event-router', 'dashboards:all');\n  },\n});\n\nconst IframeView = View.extend({\n  className: 'flex-grow',\n  template: hbs`<iframe src=\"{{ embed_url }}\"></iframe>`,\n});\n\nconst LayoutView = View.extend({\n  className: 'dashboard__frame',\n  template: hbs`\n  <div class=\"dashboard__layout\">\n    <div data-context-trail-region></div>\n    <div class=\"dashboard__iframe flex\" data-dashboard-region></div>\n  </div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    dashboard: {\n      el: '[data-dashboard-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n});\n\nexport {\n  LayoutView,\n  ContextTrailView,\n  IframeView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { LayoutView, ContextTrailView, IframeView } from 'js/views/dashboards/dashboard_views';\n\nimport intl from 'js/i18n';\n\nexport default App.extend({\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('dashboard').startPreloader();\n  },\n  beforeStart({ dashboardId }) {\n    return Radio.request('entities', 'fetch:dashboards:model', dashboardId);\n  },\n  onStart(options, dashboard) {\n    this.showChildView('contextTrail', new ContextTrailView({\n      model: dashboard,\n    }));\n\n    this.showChildView('dashboard', new IframeView({\n      model: dashboard,\n    }));\n  },\n  onFail() {\n    Radio.request('alert', 'show:error', intl.dashboards.dashboardApp.notFound);\n    Radio.trigger('event-router', 'dashboards:all');\n    this.stop();\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport DashboardsAllApp from 'js/apps/dashboards/dashboards-all_app';\nimport DashboardApp from 'js/apps/dashboards/dashboard_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'DashboardsApp',\n\n  childApps: {\n    dashboardsAll: DashboardsAllApp,\n    dashboard: DashboardApp,\n  },\n\n  eventRoutes: {\n    'dashboards:all': {\n      action: 'showDashboardsAll',\n      route: 'dashboards',\n      isList: true,\n    },\n    'dashboard': {\n      action: 'showDashboard',\n      route: 'dashboards/:id',\n    },\n  },\n\n  showDashboardsAll() {\n    this.startCurrent('dashboardsAll');\n  },\n  showDashboard(dashboardId) {\n    this.startCurrent('dashboard', { dashboardId });\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport { alphaSort } from 'js/utils/sorting';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport 'scss/modules/list-pages.scss';\nimport 'scss/modules/table-list.scss';\nimport './programs-list.scss';\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-empty-list\">\n      <h2>{{ @intl.programs.programsAllViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"table-list__cell w-60\">{{ name }}</td>\n    <td class=\"table-list__cell w-20 programs-list__published{{#if published}} is-published{{/if}}\">\n      {{#if published}}{{fas \"toggle-on\"}}{{else}}{{far \"toggle-off\"}}{{/if}}\n      {{formatMessage (intlGet \"programs.programsAllViews.itemView.published\") published=published}}\n    </td>\n    <td class=\"table-list__cell w-20 programs-list__updated-ts\">{{formatDateTime updated_at \"TIME_OR_DAY\"}}</td>\n  `,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    Radio.trigger('event-router', 'program:details', this.model.id);\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region',\n  template: hbs`\n    <div class=\"list-page__header\">\n      <div class=\"list-page__title\"><span class=\"list-page__title-icon\">{{far \"screwdriver-wrench\"}}</span>{{ @intl.programs.programsAllViews.layoutView.title }}</div>\n      <button class=\"u-margin--b-16 button-primary js-add\">{{far \"circle-plus\"}}<span>{{ @intl.programs.programsAllViews.addProgramBtn }}</span></button>\n    </div>\n    <div class=\"flex-region list-page__list\">\n      <table class=\"w-100\"><tr>\n        <td class=\"table-list__header w-60\">{{ @intl.programs.programsAllViews.layoutView.programHeader }}</td>\n        <td class=\"table-list__header w-20\">{{ @intl.programs.programsAllViews.layoutView.stateHeader }}</td>\n        <td class=\"table-list__header w-20\">{{ @intl.programs.programsAllViews.layoutView.updatedHeader }}</td>\n      </tr></table>\n      <div class=\"flex-region\" data-list-region></div>\n    </div>\n  `,\n  regions: {\n    list: {\n      el: '[data-list-region]',\n      regionClass: PreloadRegion,\n    },\n  },\n  triggers: {\n    'click .js-add': 'click:add',\n  },\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list',\n  tagName: 'table',\n  childView: ItemView,\n  viewComparator(viewA, viewB) {\n    return alphaSort('desc', viewA.model.get('updated_at'), viewB.model.get('updated_at'));\n  },\n  emptyView: EmptyView,\n});\n\nexport {\n  LayoutView,\n  ListView,\n};\n","import Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\nimport { ListView, LayoutView } from 'js/views/programs/programs-all_views';\n\nexport default App.extend({\n  viewTriggers: {\n    'click:add': 'click:add',\n  },\n  onBeforeStart() {\n    this.showView(new LayoutView());\n    this.getRegion('list').startPreloader();\n  },\n  beforeStart() {\n    return Radio.request('entities', 'fetch:programs:collection');\n  },\n  onStart(options, collection) {\n    this.programs = collection;\n    this.showChildView('list', new ListView({ collection }));\n  },\n  onClickAdd() {\n    const program = Radio.request('entities', 'programs:model', {});\n    const sidebar = Radio.request('sidebar', 'start', 'program', { program });\n\n    this.listenTo(sidebar, 'stop', () => {\n      if (!program.isNew()) this.programs.add(program);\n    });\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView, Behavior } from 'marionette';\n\nimport { alphaSort } from 'js/utils/sorting';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/modules/table-list.scss';\n\nimport { PUBLISH_STATE_STATUS } from 'js/static';\nimport intl from 'js/i18n';\n\nimport Droplist from 'js/components/droplist';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { OwnerComponent as FlowOwnerComponent } from 'js/views/programs/shared/flows_views';\nimport { DueDayComponent, OwnerComponent, PublishedComponent } from 'js/views/programs/shared/actions_views';\n\nimport ActionItemTemplate from './action-item.hbs';\nimport FlowItemTemplate from './flow-item.hbs';\nimport LayoutTemplate from './layout.hbs';\n\nimport 'scss/domain/program-action-state.scss';\nimport './workflows.scss';\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"workflows__empty-list\">\n      <h2>{{ @intl.programs.program.workflows.workflowsViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst RowBehavior = Behavior.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'onChange',\n  },\n  onChange() {\n    this.view.render();\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  onInitialize() {\n    if (this.view.model.isNew()) this.$el.addClass('is-selected');\n  },\n});\n\nconst ActionItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior],\n  regions: {\n    published: '[data-published-region]',\n    owner: '[data-owner-region]',\n    due: '[data-due-region]',\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      hasForm: this.model.getForm(),\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n    };\n  },\n  ui: {\n    'form': '.js-form',\n  },\n  triggers: {\n    'click': 'click',\n    'click @ui.form': 'click:form',\n  },\n  onClick() {\n    if (this.model.isNew()) {\n      Radio.trigger('event-router', 'program:action:new', this.model.get('_program'));\n      return;\n    }\n\n    Radio.trigger('event-router', 'program:action', this.model.get('_program'), this.model.id);\n  },\n  onClickForm() {\n    const form = this.model.getForm();\n    Radio.trigger('event-router', 'form:preview', form.id);\n  },\n  onRender() {\n    this.showPublished();\n    this.showOwner();\n    this.showDue();\n  },\n  showPublished() {\n    const isDisabled = this.model.isNew();\n    const isFromFlow = !!this.model.get('_program_flow');\n    const publishedComponent = new PublishedComponent({\n      isConditionalAvailable: isFromFlow,\n      status: this.model.get('status'),\n      isCompact: true,\n      state: { isDisabled },\n    });\n\n    this.listenTo(publishedComponent, 'change:status', status => {\n      this.model.save({ status });\n    });\n\n    this.showChildView('published', publishedComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isNew();\n    const isFromFlow = !!this.model.get('_program_flow');\n    const ownerComponent = new OwnerComponent({ owner: this.model.getOwner(), isFromFlow, isCompact: true, state: { isDisabled } });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n  showDue() {\n    const isDisabled = this.model.isNew();\n    const dueDayComponent = new DueDayComponent({ day: this.model.get('days_until_due'), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(dueDayComponent, 'change:day', day => {\n      this.model.save({ days_until_due: day });\n    });\n\n    this.showChildView('due', dueDayComponent);\n  },\n});\n\nconst FlowItemView = View.extend({\n  className: 'table-list__item',\n  tagName: 'tr',\n  behaviors: [RowBehavior],\n  regions: {\n    owner: '[data-owner-region]',\n  },\n  template: FlowItemTemplate,\n  templateContext() {\n    return {\n      isPublished: this.model.get('status') === PUBLISH_STATE_STATUS.PUBLISHED,\n    };\n  },\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    if (this.model.isNew()) {\n      Radio.trigger('event-router', 'programFlow:new', this.model.get('_program'));\n      return;\n    }\n\n    Radio.trigger('event-router', 'programFlow', this.model.id);\n  },\n  onRender() {\n    this.showOwner();\n  },\n  showOwner() {\n    const isDisabled = this.model.isNew();\n    const ownerComponent = new FlowOwnerComponent({ owner: this.model.getOwner(), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst ListView = CollectionView.extend({\n  className: 'table-list workflows__list',\n  tagName: 'table',\n  childView(item) {\n    if (item.type === 'program-flows') {\n      return FlowItemView;\n    }\n\n    return ActionItemView;\n  },\n  emptyView: EmptyView,\n  viewComparator(viewA, viewB) {\n    return alphaSort('desc', viewA.model.get('updated_at'), viewB.model.get('updated_at'));\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'flex-region workflows__content',\n  regions: {\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n    add: '[data-add-region]',\n  },\n  template: LayoutTemplate,\n});\n\nconst AddActionDroplist = Droplist.extend({\n  popWidth: 248,\n  picklistOptions() {\n    return {\n      headingText: intl.programs.program.workflows.workflowsViews.addActionHeading,\n      itemClassName: 'u-text--italic',\n    };\n  },\n  viewOptions: {\n    className: 'button-primary',\n    template: hbs`{{far \"circle-plus\"}}<span>{{ @intl.programs.program.workflows.workflowsViews.addAction }}</span>{{far \"angle-down\" classes=\"workflows__arrow\"}}`,\n  },\n  picklistEvents: {\n    'picklist:item:select': 'onSelect',\n  },\n  onSelect({ model }) {\n    model.get('onSelect')();\n  },\n});\n\nexport {\n  ListView,\n  LayoutView,\n  AddActionDroplist,\n};\n","import Backbone from 'backbone';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport intl from 'js/i18n';\n\nimport { LayoutView, ListView, AddActionDroplist } from 'js/views/programs/program/workflows/workflows_views';\n\nimport 'scss/domain/workflows.scss';\n\nexport default App.extend({\n  viewTriggers: {\n    'click:add': 'click:add',\n  },\n  onBeforeStart({ program }) {\n    this.program = program;\n    this.showView(new LayoutView({ model: program }));\n    this.getRegion('content').startPreloader();\n  },\n  beforeStart({ program }) {\n    return [\n      Radio.request('entities', 'fetch:programActions:collection:byProgram', { programId: program.id }),\n      Radio.request('entities', 'fetch:programFlows:collection:byProgram', { programId: program.id }),\n    ];\n  },\n  onStart({ program }, [actions], [flows]) {\n    this.collection = new Backbone.Collection([...actions.models, ...flows.models]);\n    this.showChildView('content', new ListView({ collection: this.collection }));\n\n    const actionDroplistMenu = new Backbone.Collection([\n      {\n        onSelect: () => {\n          Radio.trigger('event-router', 'program:action:new', this.program.id);\n        },\n        icon: {\n          type: 'far',\n          icon: 'file-lines',\n          classes: 'workflows--add-action',\n        },\n        text: intl.programs.program.workflows.workflowsApp.newAction,\n      },\n      {\n        onSelect: () => {\n          Radio.trigger('event-router', 'programFlow:new', this.program.id);\n        },\n        icon: {\n          type: 'fas',\n          icon: 'folder',\n          classes: 'workflows--add-flow',\n        },\n        text: intl.programs.program.workflows.workflowsApp.newFlow,\n      },\n    ]);\n\n    this.showChildView('add', new AddActionDroplist({\n      collection: actionDroplistMenu,\n    }));\n  },\n  onEditItem(item) {\n    if (item.isNew()) {\n      this.collection.unshift(item);\n      return;\n    }\n    item.trigger('editing', true);\n  },\n});\n","import Radio from 'backbone.radio';\n\nimport intl from 'js/i18n';\n\nimport { ACTION_OUTREACH, PUBLISH_STATE_STATUS } from 'js/static';\n\nimport App from 'js/base/app';\n\nexport default App.extend({\n  beforeStart({ actionId, programId, flowId }) {\n    if (!actionId) {\n      return Radio.request('entities', 'programActions:model', {\n        _program: programId,\n        _program_flow: flowId,\n        _owner: null,\n        days_until_due: null,\n        status: PUBLISH_STATE_STATUS.DRAFT,\n        outreach: ACTION_OUTREACH.DISABLED,\n      });\n    }\n\n    return Radio.request('entities', 'fetch:programActions:model', actionId);\n  },\n  onFail() {\n    Radio.request('alert', 'show:error', intl.programs.program.action.actionApp.notFound);\n    this.stop();\n  },\n  onStart(options, action) {\n    const sidebar = Radio.request('sidebar', 'start', 'programAction', { action });\n\n    this.listenTo(sidebar, 'stop', this.stop);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport './program.scss';\n\nconst ContextTrailView = View.extend({\n  modelEvents: {\n    'change:name': 'render',\n  },\n  className: 'program__context-trail',\n  template: hbs`\n    {{#if hasLatestList}}\n      <a class=\"js-back program__context-link\">\n        {{fas \"chevron-left\"}}{{ @intl.programs.program.programViews.contextBackBtn }}\n      </a>\n      {{fas \"chevron-right\"}}\n    {{/if}}{{ name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:latestList');\n  },\n  templateContext() {\n    return {\n      hasLatestList: Radio.request('history', 'has:latestList'),\n    };\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'program__frame',\n  template: hbs`\n    <div class=\"program__layout\">\n        <div data-context-trail-region></div>\n        <div data-content-region></div>\n    </div>\n    <div class=\"program__sidebar\" data-sidebar-region></div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    sidebar: '[data-sidebar-region]',\n    content: {\n      el: '[data-content-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n  },\n  onRender() {\n    this.showChildView('contextTrail', new ContextTrailView({ model: this.model }));\n  },\n});\n\nexport {\n  LayoutView,\n};\n","import { bind } from 'underscore';\nimport Backbone from 'backbone';\nimport hbs from 'handlebars-inline-precompile';\n\nimport { View, Region } from 'marionette';\n\nimport 'scss/modules/buttons.scss';\n\nimport intl from 'js/i18n';\n\nimport Optionlist from 'js/components/optionlist';\n\nimport SidebarTemplate from './sidebar-layout.hbs';\n\nimport './program-sidebar.scss';\n\nconst i18n = intl.programs.program.sidebar.sidebarViews;\n\nconst SidebarView = View.extend({\n  className: 'program-sidebar',\n  template: SidebarTemplate,\n  regionClass: Region.extend({ replaceElement: true }),\n  triggers: {\n    'click @ui.menu': 'click:menu',\n  },\n  ui: {\n    menu: '.js-menu',\n  },\n  onClickMenu() {\n    const menuOptions = new Backbone.Collection([\n      {\n        onSelect: bind(this.triggerMethod, this, 'edit'),\n        icon: 'pen-to-square',\n        className: 'program-sidebar__edit',\n        text: i18n.menuOptions.edit,\n      },\n    ]);\n\n    const optionlist = new Optionlist({\n      ui: this.ui.menu,\n      uiView: this,\n      headingText: i18n.menuOptions.headingText,\n      itemTemplate: hbs`<span class={{ className }}>{{far icon}}{{ text }}</span>`,\n      lists: [{ collection: menuOptions }],\n      align: 'right',\n      popWidth: 248,\n    });\n\n    optionlist.show();\n  },\n});\n\nexport {\n  SidebarView,\n};\n","import { partial } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport { PUBLISH_STATE_STATUS } from 'js/static';\n\nimport WorkflowsApp from 'js/apps/programs/program/workflows/workflows_app';\nimport ActionApp from 'js/apps/programs/program/action/action_app';\n\nimport { LayoutView } from 'js/views/programs/program/program_views';\nimport { SidebarView } from 'js/views/programs/program/sidebar/sidebar-views';\n\nexport default SubRouterApp.extend({\n  eventRoutes() {\n    return {\n      'program:details': partial(this.startCurrent, 'workflows'),\n      'program:action': this.startProgramAction,\n      'program:action:new': this.startProgramAction,\n      'programFlow:new': this.startFlowSidebar,\n    };\n  },\n\n  childApps: {\n    workflows: WorkflowsApp,\n    action: ActionApp,\n  },\n\n  currentAppOptions() {\n    return {\n      region: this.getRegion('content'),\n      program: this.getOption('program'),\n    };\n  },\n\n  onBeforeStart() {\n    this.getRegion().startPreloader();\n  },\n\n  beforeStart({ programId }) {\n    return Radio.request('entities', 'fetch:programs:model', programId);\n  },\n\n  onStart({ currentRoute }, program) {\n    this.program = program;\n\n    this.setView(new LayoutView({ model: program }));\n\n    this.showSidebar();\n\n    // Show/Empty program sidebar based on app sidebar\n    this.listenTo(Radio.channel('sidebar'), {\n      'show': this.emptySidebar,\n      'close': this.showSidebar,\n    });\n\n    this.startRoute(currentRoute);\n\n    this.showView();\n  },\n\n  startProgramAction(programId, actionId) {\n    const actionApp = this.getChildApp('action');\n\n    this.listenToOnce(actionApp, {\n      'start'(options, action) {\n        this.editList(action);\n      },\n      'fail'() {\n        this.startCurrent('workflows');\n      },\n    });\n\n    this.startChildApp('action', { actionId, programId });\n  },\n\n  // Triggers event on started workflow for marking the edited item\n  editList(item) {\n    const currentWorkflow = this.getCurrent() || this.startCurrent('workflows');\n\n    if (!currentWorkflow.isRunning()) {\n      this.listenToOnce(currentWorkflow, 'start', () => {\n        currentWorkflow.triggerMethod('edit:item', item);\n      });\n      return;\n    }\n\n    currentWorkflow.triggerMethod('edit:item', item);\n  },\n\n  startFlowSidebar(programId) {\n    const flow = Radio.request('entities', 'programFlows:model', {\n      _program: programId,\n      _owner: null,\n      status: PUBLISH_STATE_STATUS.DRAFT,\n    });\n\n    Radio.request('sidebar', 'start', 'programFlow', { flow });\n\n    this.editList(flow);\n  },\n\n  showSidebar() {\n    const sidebarView = new SidebarView({ model: this.program });\n\n    this.listenTo(sidebarView, {\n      'edit': this.onEdit,\n    });\n\n    this.showChildView('sidebar', sidebarView);\n  },\n\n  emptySidebar() {\n    this.getRegion('sidebar').empty();\n  },\n\n  onEdit() {\n    Radio.request('sidebar', 'start', 'program', { program: this.program });\n  },\n});\n","import { Behavior } from 'marionette';\nimport Sortable from 'sortablejs';\n\nexport default Behavior.extend({\n  options: {\n    handle: '.js-sort',\n    item: '.js-draggable',\n  },\n  initialize() {\n    this.shouldDisable = this.getOption('shouldDisable');\n  },\n  /* istanbul ignore next: sensible but unused default */\n  shouldDisable() {\n    return this.view.collection.length < 2;\n  },\n  collectionEvents: {\n    'update change:id': 'updateDisabled',\n  },\n  updateDisabled() {\n    const shouldDisabled = this.shouldDisable();\n    this.view.$el.toggleClass('is-draggable', !shouldDisabled);\n    this.sortable.option('disabled', shouldDisabled);\n  },\n  onRender() {\n    /* istanbul ignore next: unnecessary clean-up test */\n    if (this.sortable) this.sortable.destroy();\n\n    this.sortable = Sortable.create(this.el, {\n      handle: this.getOption('handle'),\n      item: this.getOption('item'),\n      direction: 'vertical',\n      onEnd: this.onEnd.bind(this),\n      onStart: this.onStart.bind(this),\n    });\n\n    this.updateDisabled();\n  },\n  onBeforeDestroy() {\n    this.sortable.destroy();\n  },\n  onEnd({ oldIndex, newIndex }) {\n    const movedModel = this.view.collection.models[oldIndex];\n    this.view.$el.removeClass('is-dragging');\n\n    this.view.collection.models.splice(oldIndex, 1);\n    this.view.collection.models.splice(newIndex, 0, movedModel);\n\n    this.view.triggerMethod('drag:end', movedModel);\n  },\n  onStart({ oldIndex }) {\n    const movedModel = this.view.collection.models[oldIndex];\n\n    this.view.$el.addClass('is-dragging');\n    this.view.triggerMethod('drag:start', movedModel);\n  },\n});\n","import Radio from 'backbone.radio';\nimport hbs from 'handlebars-inline-precompile';\nimport { View, CollectionView } from 'marionette';\n\nimport PreloadRegion from 'js/regions/preload_region';\n\nimport { OwnerComponent as FlowOwnerComponent, FlowPublishedComponent } from 'js/views/programs/shared/flows_views';\nimport { DueDayComponent, OwnerComponent, PublishedComponent } from 'js/views/programs/shared/actions_views';\nimport SortableList from 'js/behaviors/sortable-list';\n\nimport ActionItemTemplate from './action-item.hbs';\nimport HeaderTemplate from './header.hbs';\n\nimport './program-flow.scss';\n\nconst ContextTrailView = View.extend({\n  modelEvents: {\n    'change:name': 'render',\n  },\n  initialize({ program }) {\n    this.program = program;\n\n    this.listenTo(this.program, 'change:name', this.render);\n  },\n  className: 'program-flow__context-trail',\n  template: hbs`\n    {{#if hasLatestList}}\n      <a class=\"js-back program-flow__context-link\">\n        {{fas \"chevron-left\"}}{{ @intl.programs.program.flow.flowViews.contextBackBtn }}\n      </a>\n      {{fas \"chevron-right\"}}\n    {{/if}}\n    <a class=\"js-program program-flow__context-link\">{{ programName }}</a>{{fas \"chevron-right\"}}{{ name }}\n  `,\n  triggers: {\n    'click .js-back': 'click:back',\n    'click .js-program': 'click:program',\n  },\n  onClickBack() {\n    Radio.request('history', 'go:latestList');\n  },\n  onClickProgram() {\n    Radio.trigger('event-router', 'program:details', this.program.id);\n  },\n  templateContext() {\n    return {\n      hasLatestList: Radio.request('history', 'has:latestList'),\n      programName: this.program.get('name'),\n    };\n  },\n});\n\nconst HeaderView = View.extend({\n  modelEvents: {\n    'editing': 'onEditing',\n    'change': 'render',\n  },\n  onEditing(isEditing) {\n    this.ui.flow.toggleClass('is-selected', isEditing);\n  },\n  template: HeaderTemplate,\n  regions: {\n    published: '[data-published-region]',\n    owner: '[data-owner-region]',\n  },\n  triggers: {\n    'click @ui.flow': 'edit',\n    'click .js-add-action': 'click:addAction',\n  },\n  ui: {\n    flow: '.js-flow',\n  },\n  onRender() {\n    this.showPublished();\n    this.showOwner();\n  },\n  showPublished() {\n    const publishedComponent = new FlowPublishedComponent({\n      flow: this.model,\n      status: this.model.get('status'),\n      isCompact: true,\n    });\n\n    this.listenTo(publishedComponent, 'change:status', status => {\n      this.model.save({ status });\n    });\n\n    this.showChildView('published', publishedComponent);\n  },\n  showOwner() {\n    const ownerComponent = new FlowOwnerComponent({ owner: this.model.getOwner(), isCompact: true });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst EmptyView = View.extend({\n  tagName: 'tr',\n  template: hbs`\n    <td class=\"program-flow__empty-list\">\n      <h2>{{ @intl.programs.program.flow.flowViews.emptyView }}</h2>\n    </td>\n  `,\n});\n\nconst ActionItemView = View.extend({\n  modelEvents: {\n    'change': 'render',\n    'editing': 'onEditing',\n  },\n  className() {\n    const className = 'table-list__item program-flow__action-item js-draggable';\n    if (this.model.isNew()) return `${ className } is-selected`;\n\n    return className;\n  },\n  template: ActionItemTemplate,\n  templateContext() {\n    return {\n      hasForm: this.model.getForm(),\n      icon: this.model.hasOutreach() ? 'share-from-square' : 'file-lines',\n    };\n  },\n  tagName: 'tr',\n  regions: {\n    published: '[data-published-region]',\n    owner: '[data-owner-region]',\n    due: '[data-due-region]',\n  },\n  ui: {\n    'form': '.js-form',\n  },\n  triggers: {\n    'click': 'click',\n    'click @ui.form': 'click:form',\n  },\n  onClick() {\n    if (this.model.isNew()) {\n      Radio.trigger('event-router', 'programFlow:action:new', this.model.get('_program_flow'));\n      return;\n    }\n    Radio.trigger('event-router', 'programFlow:action', this.model.get('_program_flow'), this.model.id);\n  },\n  onClickForm() {\n    const form = this.model.getForm();\n    Radio.trigger('event-router', 'form:preview', form.id);\n  },\n  onEditing(isEditing) {\n    this.$el.toggleClass('is-selected', isEditing);\n  },\n  onRender() {\n    this.showPublished();\n    this.showOwner();\n    this.showDue();\n  },\n  showDue() {\n    const isDisabled = this.model.isNew();\n    const dueDayComponent = new DueDayComponent({ day: this.model.get('days_until_due'), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(dueDayComponent, 'change:day', day => {\n      this.model.save({ days_until_due: day });\n    });\n\n    this.showChildView('due', dueDayComponent);\n  },\n  showPublished() {\n    const isDisabled = this.model.isNew();\n    const publishedComponent = new PublishedComponent({ status: this.model.get('status'), isCompact: true, state: { isDisabled } });\n\n    this.listenTo(publishedComponent, 'change:status', status => {\n      this.model.save({ status });\n    });\n\n    this.showChildView('published', publishedComponent);\n  },\n  showOwner() {\n    const isDisabled = this.model.isNew();\n    const isFromFlow = !!this.model.get('_program_flow');\n    const ownerComponent = new OwnerComponent({ owner: this.model.getOwner(), isFromFlow, isCompact: true, state: { isDisabled } });\n\n    this.listenTo(ownerComponent, 'change:owner', owner => {\n      this.model.saveOwner(owner);\n    });\n\n    this.showChildView('owner', ownerComponent);\n  },\n});\n\nconst ListView = CollectionView.extend({\n  behaviors: [\n    {\n      behaviorClass: SortableList,\n      shouldDisable() {\n        return this.view.collection.length < 2 || this.view.collection.last().isNew();\n      },\n    },\n  ],\n  collectionEvents: {\n    'change:id': 'onChangeId',\n  },\n  className: 'table-list program-flow__list',\n  tagName: 'table',\n  childView: ActionItemView,\n  emptyView: EmptyView,\n  onDragEnd() {\n    this.collection.updateSequences();\n  },\n  onChangeId() {\n    this.collection.updateSequences();\n  },\n});\n\nconst LayoutView = View.extend({\n  className: 'program-flow__frame',\n  template: hbs`\n    <div class=\"program-flow__layout\">\n      <div data-context-trail-region></div>\n      <div data-header-region></div>\n      <div data-action-list-region></div>\n    </div>\n    <div class=\"program-flow__sidebar\" data-sidebar-region></div>\n  `,\n  regions: {\n    contextTrail: {\n      el: '[data-context-trail-region]',\n      replaceElement: true,\n    },\n    header: '[data-header-region]',\n    sidebar: '[data-sidebar-region]',\n    actionList: {\n      el: '[data-action-list-region]',\n      regionClass: PreloadRegion,\n      replaceElement: true,\n    },\n  },\n});\n\nexport {\n  LayoutView,\n  ContextTrailView,\n  HeaderView,\n  ListView,\n};\n","import Radio from 'backbone.radio';\n\nimport SubRouterApp from 'js/base/subrouterapp';\n\nimport ActionApp from 'js/apps/programs/program/action/action_app';\n\nimport { LayoutView, ContextTrailView, HeaderView, ListView } from 'js/views/programs/program/flow/flow_views';\nimport { SidebarView } from 'js/views/programs/program/sidebar/sidebar-views';\n\nexport default SubRouterApp.extend({\n  routerAppName: 'ProgramFlowApp',\n  childApps: {\n    action: ActionApp,\n  },\n  eventRoutes: {\n    'programFlow:action': 'showActionSidebar',\n    'programFlow:action:new': 'showActionSidebar',\n  },\n  onBeforeStart() {\n    this.showView(new LayoutView());\n  },\n  beforeStart({ flowId }) {\n    return [\n      Radio.request('entities', 'fetch:programs:model:byProgramFlow', flowId),\n      Radio.request('entities', 'fetch:programFlows:model', flowId),\n      Radio.request('entities', 'fetch:programActions:collection:byProgramFlow', flowId),\n    ];\n  },\n  onFail() {\n    Radio.trigger('event-router', 'notFound');\n    this.stop();\n  },\n  onStart({ currentRoute }, [program], [flow], [actions]) {\n    this.program = program;\n    this.flow = flow;\n    this.actions = actions;\n\n    this.maintainFlowActions();\n\n    this.showChildView('contextTrail', new ContextTrailView({\n      model: this.flow,\n      program: this.program,\n    }));\n\n    this.showHeader();\n    this.showActionList();\n    this.showProgramSidebar();\n  },\n\n  maintainFlowActions() {\n    this.listenTo(this.actions, 'change:id destroy', () => {\n      const programActions = this.actions.map(({ id }) => {\n        return { id };\n      });\n      this.flow.set('_program_actions', programActions);\n    });\n  },\n\n  showHeader() {\n    const headerView = new HeaderView({\n      model: this.flow,\n    });\n\n    this.listenTo(headerView, {\n      'edit': this.onEditFlow,\n      'click:addAction': () => {\n        Radio.trigger('event-router', 'programFlow:action:new', this.flow.id);\n      },\n    });\n\n    this.showChildView('header', headerView);\n  },\n\n  showActionList() {\n    this.showChildView('actionList', new ListView({\n      collection: this.actions,\n    }));\n  },\n\n  showProgramSidebar() {\n    const sidebarView = new SidebarView({ model: this.program });\n\n    this.listenTo(sidebarView, {\n      'edit': this.onEditProgram,\n    });\n\n    this.showChildView('sidebar', sidebarView);\n  },\n\n  showActionSidebar(flowId, actionId) {\n    const actionApp = this.getChildApp('action');\n\n    this.listenToOnce(actionApp, {\n      'start'(options, action) {\n        this.editAction(action);\n      },\n    });\n\n    this.startChildApp('action', { actionId, flowId });\n  },\n\n  editAction(action) {\n    if (action.isNew()) {\n      action.set({ sequence: this.actions.length });\n      this.actions.add(action);\n      return;\n    }\n\n    action.trigger('editing', true);\n  },\n\n  onEditProgram() {\n    Radio.request('sidebar', 'start', 'program', { program: this.program });\n  },\n\n  onEditFlow() {\n    Radio.request('sidebar', 'start', 'programFlow', { flow: this.flow });\n  },\n});\n","import RouterApp from 'js/base/routerapp';\n\nimport ProgramsAllApp from 'js/apps/programs/programs-all_app';\nimport ProgramApp from 'js/apps/programs/program/program_app';\nimport ProgramFlowApp from 'js/apps/programs/program/flow/flow_app';\n\nexport default RouterApp.extend({\n  routerAppName: 'ProgramsApp',\n\n  childApps: {\n    programsAll: ProgramsAllApp,\n    program: ProgramApp,\n    programflow: ProgramFlowApp,\n  },\n\n  eventRoutes: {\n    'programs:all': {\n      action: 'showProgramsAll',\n      route: 'programs',\n      isList: true,\n    },\n    'program:details': {\n      action: 'showProgram',\n      route: 'program/:id',\n    },\n    'program:action': {\n      action: 'showProgram',\n      route: 'program/:id/action/:id',\n    },\n    'program:action:new': {\n      action: 'showProgram',\n      route: 'program/:id/action',\n    },\n    'programFlow:new': {\n      action: 'showProgram',\n      route: 'program/:id/flow',\n    },\n    'programFlow': {\n      action: 'showProgramFlow',\n      route: 'program-flow/:id',\n    },\n    'programFlow:action': {\n      action: 'showProgramFlow',\n      route: 'program-flow/:id/action/:id',\n    },\n    'programFlow:action:new': {\n      action: 'showProgramFlow',\n      route: 'program-flow/:id/action',\n    },\n  },\n\n  showProgramsAll() {\n    this.startCurrent('programsAll');\n  },\n  showProgram(programId) {\n    this.startRoute('program', { programId });\n  },\n  showProgramFlow(flowId) {\n    this.startRoute('programflow', { flowId });\n  },\n});\n","import { partial } from 'underscore';\nimport Radio from 'backbone.radio';\n\nimport App from 'js/base/app';\n\nimport SidebarService from 'js/services/sidebar';\n\nimport NavApp from './nav_app';\nimport FormsApp from 'js/apps/forms/forms-main_app';\nimport PatientsMainApp from 'js/apps/patients/patients-main_app';\nimport ReducedPatientsMainApp from 'js/apps/patients/reduced-patients-main_app.js';\nimport CliniciansMainApp from 'js/apps/clinicians/clinicians-main_app';\nimport DashboardsMainApp from 'js/apps/dashboards/dashboards-main_app';\nimport ProgramsMainApp from 'js/apps/programs/programs-main_app';\n\nexport default App.extend({\n  onStart() {\n    const currentUser = Radio.request('bootstrap', 'currentUser');\n\n    new SidebarService({ region: this.getRegion('sidebar') });\n    new NavApp({ region: this.getRegion('nav') });\n\n    this.startPatientsMain(currentUser);\n\n    if (currentUser.can('dashboards:view')) {\n      new DashboardsMainApp({ region: this.getRegion('content') });\n    }\n\n    if (currentUser.can('clinicians:manage')) {\n      new CliniciansMainApp({ region: this.getRegion('content') });\n    }\n\n    if (currentUser.can('programs:manage')) {\n      new ProgramsMainApp({ region: this.getRegion('content') });\n    }\n\n    this.initFormsApp();\n  },\n  startPatientsMain(currentUser) {\n    if (currentUser.can('app:schedule:reduced')) {\n      new ReducedPatientsMainApp({ region: this.getRegion('content') });\n      return;\n    }\n\n    new PatientsMainApp({ region: this.getRegion('content') });\n  },\n  initFormsApp() {\n    const formsApp = new FormsApp({ region: this.getRegion('content') });\n\n    this.listenTo(formsApp, {\n      start: partial(this.toggleNav, false),\n      stop: partial(this.toggleNav, true),\n    });\n  },\n  toggleNav(shouldShow) {\n    this.getView().toggleNav(!!shouldShow);\n  },\n});\n","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"name\")), depth0))\n    + \"</div><div class=\\\"flex-grow\\\" data-name-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"email\")), depth0))\n    + \"</div><div class=\\\"flex-grow\\\" data-email-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"role\")), depth0))\n    + \"</div><div class=\\\"modal__form-component\\\" data-role-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"team\")), depth0))\n    + \"</div><div class=\\\"modal__form-component\\\" data-team-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"clinicianModal\"))) && lookupProperty(stack1,\"clinicianModalTemplate\"))) && lookupProperty(stack1,\"groups\")), depth0))\n    + \"</div><div class=\\\"modal__form-component groups-manager__wrapper\\\" data-groups-region></div></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.escapeExpression, alias2=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\">Clinician</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias1((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":44},\"end\":{\"line\":7,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div data-name-region></div>\\n    <div class=\\\"u-margin--t-8\\\" data-email-region></div>\\n    <div data-save-region></div>\\n\\n    <div class=\\\"flex u-margin--t-16\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias1(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"clinicianSidebarTemplate\"))) && lookupProperty(stack1,\"state\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias1(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"clinicianSidebarTemplate\"))) && lookupProperty(stack1,\"role\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-role-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias1(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"clinicianSidebarTemplate\"))) && lookupProperty(stack1,\"team\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-team-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias1(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"clinicians\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"clinicianSidebarTemplate\"))) && lookupProperty(stack1,\"groups\")), depth0))\n    + \"</h4><div class=\\\"flex-grow clinician-sidebar__groups\\\" data-groups-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\"></h4><div class=\\\"flex-grow\\\" data-info-region></div></div>\\n  </div>\\n</div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"globals\"))) && lookupProperty(stack1,\"patientModal\"))) && lookupProperty(stack1,\"patientModalTemplate\"))) && lookupProperty(stack1,\"firstName\")), depth0))\n    + \"</div><div class=\\\"flex-grow\\\" data-first-name-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"globals\"))) && lookupProperty(stack1,\"patientModal\"))) && lookupProperty(stack1,\"patientModalTemplate\"))) && lookupProperty(stack1,\"lastName\")), depth0))\n    + \"</div><div class=\\\"flex-grow\\\" data-last-name-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"globals\"))) && lookupProperty(stack1,\"patientModal\"))) && lookupProperty(stack1,\"patientModalTemplate\"))) && lookupProperty(stack1,\"dateOfBirth\")), depth0))\n    + \"</div><div data-dob-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"globals\"))) && lookupProperty(stack1,\"patientModal\"))) && lookupProperty(stack1,\"patientModalTemplate\"))) && lookupProperty(stack1,\"sex\")), depth0))\n    + \"</div><div data-sex-region></div></div>\\n<div class=\\\"u-margin--b-8 flex\\\"><div class=\\\"modal__form-label\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"globals\"))) && lookupProperty(stack1,\"patientModal\"))) && lookupProperty(stack1,\"patientModalTemplate\"))) && lookupProperty(stack1,\"groups\")), depth0))\n    + \"</div><div class=\\\"modal__form-component\\\" data-groups-region></div></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":49}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":56},\"end\":{\"line\":2,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":47}}}) : helper)))\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":58},\"end\":{\"line\":6,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":58},\"end\":{\"line\":7,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":33},\"end\":{\"line\":8,\"column\":58}}}) : helper)))\n    + \"<span data-due-day-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":37},\"end\":{\"line\":9,\"column\":62}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":38},\"end\":{\"line\":10,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":9},\"end\":{\"line\":11,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":57},\"end\":{\"line\":12,\"column\":82}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":35},\"end\":{\"line\":13,\"column\":78}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":85},\"end\":{\"line\":13,\"column\":110}}}) : helper)))\n    + \"</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <td class=\\\"table-list__cell\\\">\\n      <span class=\\\"patient__flow-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":39},\"end\":{\"line\":2,\"column\":55}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":62},\"end\":{\"line\":2,\"column\":87}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":41},\"end\":{\"line\":3,\"column\":51}}}) : helper)))\n    + \"</span>\\n    </td>\\n    <td class=\\\"table-list__cell patient__list-meta\\\">\\n      <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":62},\"end\":{\"line\":6,\"column\":87}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":62},\"end\":{\"line\":7,\"column\":87}}}) : helper)))\n    + \"<progress class=\\\"progress-bar patient__flow-progress\\\" value=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":128},\"end\":{\"line\":8,\"column\":153}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":39},\"end\":{\"line\":9,\"column\":82}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":89},\"end\":{\"line\":9,\"column\":114}}}) : helper)))\n    + \"</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"newAction\")), depth0))\n    + \"</em>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":49}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":56},\"end\":{\"line\":2,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":105}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":58},\"end\":{\"line\":9,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":58},\"end\":{\"line\":10,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":33},\"end\":{\"line\":11,\"column\":58}}}) : helper)))\n    + \"<span data-due-day-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":37},\"end\":{\"line\":12,\"column\":62}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":38},\"end\":{\"line\":13,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":9},\"end\":{\"line\":14,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":57},\"end\":{\"line\":15,\"column\":82}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":35},\"end\":{\"line\":16,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__flow-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":35},\"end\":{\"line\":2,\"column\":51}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":58},\"end\":{\"line\":2,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":47}}}) : helper)))\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":33},\"end\":{\"line\":6,\"column\":58}}}) : helper)))\n    + \"<span class=\\\"patient__flow-status action--\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"color\") : stack1), depth0))\n    + \"\\\">\"\n    + alias3((lookupProperty(helpers,\"fa\")||(depth0 && lookupProperty(depth0,\"fa\"))||alias2).call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"iconType\") : stack1),((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"icon\") : stack1),{\"name\":\"fa\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":72},\"end\":{\"line\":7,\"column\":118}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":125},\"end\":{\"line\":7,\"column\":150}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":9},\"end\":{\"line\":8,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":58},\"end\":{\"line\":9,\"column\":83}}}) : helper)))\n    + \"<progress class=\\\"progress-bar patient__flow-progress\\\" value=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":124},\"end\":{\"line\":10,\"column\":149}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":35},\"end\":{\"line\":11,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div>\\n  <span class=\\\"patient__tab--selected\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"dashboardBtn\")), depth0))\n    + \"</span>\\n  <button class=\\\"patient__tab js-archive\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"archiveBtn\")), depth0))\n    + \"</button>\\n</div>\\n<div class=\\\"patient__actions\\\" data-add-workflow-region>\\n  <span class=\\\"button-primary\\\">\\n    <span class=\\\"js-loading\\\">\"\n    + alias2((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"circle-plus\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":29},\"end\":{\"line\":11,\"column\":50}}}))\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"actionLoading\")), depth0))\n    + \"</span>\\n  </span>\\n</div>\\n<div data-content-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"patient\"))) && lookupProperty(stack1,\"dashboard\"))) && lookupProperty(stack1,\"dashboardViews\"))) && lookupProperty(stack1,\"newAction\")), depth0))\n    + \"</em>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell table-list__item-check js-no-click\\\"><span data-check-region></span></td>\\n<td class=\\\"table-list__cell\\\">\\n  <span class=\\\"patient__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":49}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":56},\"end\":{\"line\":3,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"patient__action-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":14},\"end\":{\"line\":5,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":4},\"end\":{\"line\":6,\"column\":105}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell patient__list-meta\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":58},\"end\":{\"line\":10,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":58},\"end\":{\"line\":11,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":33},\"end\":{\"line\":12,\"column\":58}}}) : helper)))\n    + \"<span data-due-day-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":37},\"end\":{\"line\":13,\"column\":62}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":38},\"end\":{\"line\":14,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":9},\"end\":{\"line\":15,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":57},\"end\":{\"line\":16,\"column\":82}}}) : helper)))\n    + \"<span class=\\\"patient__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":35},\"end\":{\"line\":17,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", alias5=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h1 class=\\\"patient-flow__name\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder-open\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":31},\"end\":{\"line\":1,\"column\":52}}}))\n    + \" \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":53},\"end\":{\"line\":1,\"column\":63}}}) : helper)))\n    + \"</h1>\\n<table class=\\\"table-list\\\">\\n  <td class=\\\"patient-flow__details\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":36},\"end\":{\"line\":3,\"column\":49}}}) : helper)))\n    + \"</td>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":54},\"end\":{\"line\":3,\"column\":79}}}) : helper)))\n    + \"<td class=\\\"patient-flow__meta\\\">\\n    <span class=\\\"table-list__meta\\\" data-state-region></span>\\n    <span class=\\\"table-list__meta\\\" data-owner-region></span>\\n    <progress class=\\\"js-progress progress-bar patient-flow__progress\\\" value=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias5(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":138},\"end\":{\"line\":7,\"column\":163}}}) : helper)))\n    + \"</td>\\n</table>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"list-page__header\\\">\\n  <div class=\\\"flex list-page__title\\\">\\n    <div data-title-region></div>\\n    <div class=\\\"schedule__list-search\\\" data-search-region></div>\\n  </div>\\n  <div class=\\\"list-page__filters flex\\\">\\n    <div class=\\\"flex u-margin--r-16\\\" data-select-all-region></div>\\n    <div class=\\\"w-100\\\" data-filters-region></div>\\n    <div class=\\\"flex u-text--nowrap\\\" data-date-filter-region></div>\\n  </div>\\n  <table class=\\\"w-100\\\" data-table-region></table>\\n</div>\\n<div class=\\\"flex-region list-page__list\\\" data-list-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"dueDateLabel\")), depth0))\n    + \"</h4>\\n  <div class=\\\"flex flex-grow\\\">\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":30},\"end\":{\"line\":4,\"column\":55}}}) : helper)))\n    + \"<div class=\\\"flex-grow\\\" data-due-date-region></div>\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":54},\"end\":{\"line\":5,\"column\":79}}}) : helper)))\n    + \"<div class=\\\"flex-grow\\\" data-due-time-region></div>\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":54},\"end\":{\"line\":6,\"column\":79}}}) : helper)))\n    + \"</div>\\n</div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditActionBodyTemplate\"))) && lookupProperty(stack1,\"durationLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-duration-region></div></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditFlowBodyTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n<div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"shared\"))) && lookupProperty(stack1,\"bulkEdit\"))) && lookupProperty(stack1,\"bulkEditViews\"))) && lookupProperty(stack1,\"bulkEditFlowBodyTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n<div class=\\\"flex u-margin--t-8 u-margin--b-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\"></h4><div class=\\\"flex-grow\\\" data-apply-owner-region></div></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-secondary textarea-flex__input js-input\\\" placeholder=\\\"\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionDetailsTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":148},\"end\":{\"line\":1,\"column\":161}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-secondary sidebar__details js-spacer\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":81},\"end\":{\"line\":2,\"column\":94}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-primary textarea-flex__input js-input\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isDisabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":61},\"end\":{\"line\":2,\"column\":95}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":95},\"end\":{\"line\":2,\"column\":196}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":197},\"end\":{\"line\":2,\"column\":207}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-primary js-spacer\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":62},\"end\":{\"line\":3,\"column\":72}}}) : helper)))\n    + \" </div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" disabled\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" placeholder=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionNameTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\"\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"action-sidebar__name\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":34},\"end\":{\"line\":5,\"column\":44}}}) : helper)))\n    + \"</div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isAdHoc\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":6,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"formLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-form-region></div></div>\\n    <div class=\\\"flex\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hasOutreach\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":20},\"end\":{\"line\":27,\"column\":61}}})) != null ? stack1 : \"\")\n    + \"\\\" data-form-sharing-region></div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" u-margin--t-24\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"    <div data-form-region></div>\\n    <div data-form-sharing-region></div>\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"  <div class=\\\"u-margin--t-24\\\">\\n    <h3 class=\\\"sidebar__heading\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"activityHeadingText\")), depth0))\n    + \"</h3>\\n    <div class=\\\"u-margin--t-8 sidebar__activity\\\" data-activity-region></div>\\n  </div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\">\"\n    + alias3((lookupProperty(helpers,\"formatMessage\")||(depth0 && lookupProperty(depth0,\"formatMessage\"))||alias2).call(alias1,(lookupProperty(helpers,\"intlGet\")||(depth0 && lookupProperty(depth0,\"intlGet\"))||alias2).call(alias1,\"patients.sidebar.action.actionSidebarTemplate.headingText\",{\"name\":\"intlGet\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":51},\"end\":{\"line\":4,\"column\":120}}}),{\"name\":\"formatMessage\",\"hash\":{\"outreach\":(depth0 != null ? lookupProperty(depth0,\"outreach\") : depth0)},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":35},\"end\":{\"line\":4,\"column\":140}}}))\n    + \"</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon u-margin--r-8 js-menu\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"ellipsis\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":57},\"end\":{\"line\":7,\"column\":75}}}))\n    + \"</button>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":44},\"end\":{\"line\":8,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div data-name-region></div>\\n    <div class=\\\"u-margin--t-8\\\" data-details-region></div>\\n    <div data-save-region></div>\\n\\n    <div class=\\\"flex u-margin--t-16\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"dueDayLabel\")), depth0))\n    + \"</h4>\\n      <div class=\\\"flex flex-grow\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":34},\"end\":{\"line\":19,\"column\":59}}}) : helper)))\n    + \"<div class=\\\"flex-grow\\\" data-due-day-region></div>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":57},\"end\":{\"line\":20,\"column\":82}}}) : helper)))\n    + \"<div class=\\\"flex-grow\\\" data-due-time-region></div>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":58},\"end\":{\"line\":21,\"column\":83}}}) : helper)))\n    + \"</div>\\n    </div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"durationLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-duration-region></div></div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasForm\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":4},\"end\":{\"line\":31,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":2},\"end\":{\"line\":38,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</div>\\n<div class=\\\"u-margin--t-16\\\" data-comment-region></div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--t-8 u-text-align--right\\\">\\n  <button class=\\\"button--link js-response\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"buttonResponseText\")), depth0))\n    + \"</button>\\n</div>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--t-8\\\">\\n  <button class=\\\"button--link js-undo-cancel\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"isDone\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":45},\"end\":{\"line\":24,\"column\":75}}})) != null ? stack1 : \"\")\n    + \">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"buttonUndoText\")), depth0))\n    + \"</button>\\n</div>\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \" disabled\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--t-8\\\">\\n  <button class=\\\"button--link js-cancel\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"buttonCancelText\")), depth0))\n    + \"</button>\\n</div>\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex u-margin--t-8\\\">\\n  <div class=\\\"flex-grow\\\">\\n    <button class=\\\"button--link js-cancel\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isDone\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":37,\"column\":42},\"end\":{\"line\":37,\"column\":72}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias3(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"buttonCancelText\")), depth0))\n    + \"</button>\\n  </div>\\n  <button class=\\\"button--link js-share\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isDone\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":39,\"column\":39},\"end\":{\"line\":39,\"column\":69}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias3(alias2(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"buttonShareText\")), depth0))\n    + \"</button>\\n</div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex\\\">\\n  <h3 class=\\\"sidebar__heading flex-grow\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"share-from-square\",{\"name\":\"far\",\"hash\":{\"classes\":\"u-margin--r-8\"},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":41},\"end\":{\"line\":2,\"column\":92}}}))\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"label\")), depth0))\n    + \"</h3>\\n</div>\\n<div class=\\\"flex u-margin--t-16\\\">\\n  <h4 class=\\\"sidebar__label--inset u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"recipientLabel\")), depth0))\n    + \"</h4>\\n  <div class=\\\"flex-grow\\\"><button class=\\\"button-secondary w-100\\\" disabled>\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"user-plus\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":73},\"end\":{\"line\":6,\"column\":92}}}))\n    + \"<span>\"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"first_name\") : stack1), depth0))\n    + \" \"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"last_name\") : stack1), depth0))\n    + \"</span></button></div>\\n</div>\\n<div class=\\\"flex u-margin--t-8\\\">\\n  <h4 class=\\\"sidebar__label--inset u-margin--t-8\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"formSharingTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4>\\n  <div class=\\\"flex-grow action-sidebar__sharing-state\\\">\\n    <span class=\\\"action--\"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"color\") : stack1), depth0))\n    + \"\\\">\"\n    + alias3((lookupProperty(helpers,\"fa\")||(depth0 && lookupProperty(depth0,\"fa\"))||alias2).call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"iconType\") : stack1),((stack1 = (depth0 != null ? lookupProperty(depth0,\"stateOptions\") : depth0)) != null ? lookupProperty(stack1,\"icon\") : stack1),{\"name\":\"fa\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":51},\"end\":{\"line\":11,\"column\":98}}}))\n    + \"<span>\"\n    + alias3((lookupProperty(helpers,\"formatMessage\")||(depth0 && lookupProperty(depth0,\"formatMessage\"))||alias2).call(alias1,(lookupProperty(helpers,\"intlGet\")||(depth0 && lookupProperty(depth0,\"intlGet\"))||alias2).call(alias1,\"patients.sidebar.action.formSharingTemplate.stateText\",{\"name\":\"intlGet\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":28},\"end\":{\"line\":12,\"column\":93}}}),{\"name\":\"formatMessage\",\"hash\":{\"sharing\":(depth0 != null ? lookupProperty(depth0,\"sharing\") : depth0)},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":12},\"end\":{\"line\":12,\"column\":111}}}))\n    + \"</span>\\n    </span>\\n  </div>\\n</div>\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isResponded\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":0},\"end\":{\"line\":20,\"column\":8}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isCanceled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":0},\"end\":{\"line\":26,\"column\":8}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isWaiting\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":28,\"column\":0},\"end\":{\"line\":32,\"column\":8}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isError\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":0},\"end\":{\"line\":41,\"column\":8}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"sidebar--no-results\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"noDetails\")), depth0))\n    + \"</span>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"headingText\")), depth0))\n    + \"</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon u-margin--r-8 js-menu\\\">\"\n    + alias2((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias4).call(alias3,\"ellipsis\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":57},\"end\":{\"line\":7,\"column\":75}}}))\n    + \"</button>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias2((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias4).call(alias3,\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":44},\"end\":{\"line\":8,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div class=\\\"patient-flow-sidebar__name\\\">\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":44},\"end\":{\"line\":12,\"column\":54}}}) : helper)))\n    + \"</div>\\n    <div class=\\\"sidebar__details\\\">\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":34},\"end\":{\"line\":13,\"column\":47}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"details\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":47},\"end\":{\"line\":13,\"column\":181}}})) != null ? stack1 : \"\")\n    + \"</div>\\n    <div class=\\\"flex u-margin--t-16\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n  </div>\\n  <div class=\\\"u-margin--t-24\\\">\\n    <h3 class=\\\"sidebar__heading\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"activityHeadingText\")), depth0))\n    + \"</h3>\\n    <div class=\\\"u-margin--t-8 sidebar__activity\\\" data-activity-region></div>\\n  </div>\\n</div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <span class=\\\"worklist-patient-sidebar__user-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"address-card\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":56},\"end\":{\"line\":4,\"column\":78}}}))\n    + \"</span>\\n    </div>\\n    <div class=\\\"worklist-patient-sidebar__close-icon\\\">\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":44},\"end\":{\"line\":7,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"worklist-patient-sidebar__patient-info js-patient\\\">\\n    <div class=\\\"worklist-patient-sidebar__patient-name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"first_name\") || (depth0 != null ? lookupProperty(depth0,\"first_name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"first_name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":56},\"end\":{\"line\":11,\"column\":72}}}) : helper)))\n    + \" \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"last_name\") || (depth0 != null ? lookupProperty(depth0,\"last_name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"last_name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":73},\"end\":{\"line\":11,\"column\":88}}}) : helper)))\n    + \"</div>\\n    <div>\\n      <button class=\\\"button--link\\\">View Patient Dashboard</button>\\n    </div>\\n  </div>\\n  <div class=\\\"worklist-patient-sidebar__widgets\\\" data-widgets-region></div>\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"worklist-list__flow-name\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"flowName\") || (depth0 != null ? lookupProperty(depth0,\"flowName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"flowName\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":58},\"end\":{\"line\":15,\"column\":72}}}) : helper)))\n    + \"</div>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell table-list__item-check js-no-click\\\"><span data-check-region></span></td>\\n<td class=\\\"table-list__cell w-15\\\">\\n  <span class=\\\"worklist-list__patient-sidebar-icon\\\">\\n    <button class=\\\"button-secondary--compact js-patient-sidebar-button\\\">\\n      \"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"address-card\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":6},\"end\":{\"line\":5,\"column\":28}}}))\n    + \"&#8203;\\n    </button>\\n  </span>\\n  <div class=\\\"worklist-list__patient-name js-patient\\\">\\n    \"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"first_name\") : stack1), depth0))\n    + \" \"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"last_name\") : stack1), depth0))\n    + \"&#8203;\\n  </div>\\n</td>\\n<td class=\\\"table-list__cell worklist-list__item-name\\\">\\n  <span class=\\\"worklist-list__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":43},\"end\":{\"line\":13,\"column\":55}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":62},\"end\":{\"line\":13,\"column\":87}}}) : helper)))\n    + \"<div class=\\\"worklist-list__name\\\">\\n    \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"flowName\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":4},\"end\":{\"line\":15,\"column\":85}}})) != null ? stack1 : \"\")\n    + \"&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":92},\"end\":{\"line\":15,\"column\":117}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":4},\"end\":{\"line\":16,\"column\":14}}}) : helper)))\n    + \"&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":21},\"end\":{\"line\":16,\"column\":46}}}) : helper)))\n    + \"</div>\\n</td>\\n<td class=\\\"table-list__cell worklist-list__meta\\\">\\n  <span class=\\\"worklist-list__details\\\" data-details-region></span>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":73},\"end\":{\"line\":20,\"column\":98}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-state-region></span>&#8203;<span class=\\\"worklist-list__search-helper\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"state\") || (depth0 != null ? lookupProperty(depth0,\"state\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"state\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":108},\"end\":{\"line\":21,\"column\":119}}}) : helper)))\n    + \"</span>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":133},\"end\":{\"line\":21,\"column\":158}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>&#8203;<span class=\\\"worklist-list__search-helper\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"owner\") || (depth0 != null ? lookupProperty(depth0,\"owner\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"owner\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":108},\"end\":{\"line\":22,\"column\":119}}}) : helper)))\n    + \"</span>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":133},\"end\":{\"line\":22,\"column\":158}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":33},\"end\":{\"line\":23,\"column\":58}}}) : helper)))\n    + \"<span data-due-date-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":38},\"end\":{\"line\":24,\"column\":63}}}) : helper)))\n    + \"<span data-due-time-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":38},\"end\":{\"line\":25,\"column\":63}}}) : helper)))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":9},\"end\":{\"line\":26,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-form-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":57},\"end\":{\"line\":27,\"column\":82}}}) : helper)))\n    + \"&#8203;\\n</td>\\n<td class=\\\"table-list__cell worklist-list__action-ts w-7-5\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"created_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":60},\"end\":{\"line\":29,\"column\":103}}}))\n    + \"&#8203;</td>\\n<td class=\\\"table-list__cell worklist-list__action-ts w-7-5\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":60},\"end\":{\"line\":30,\"column\":103}}}))\n    + \"&#8203;</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"worklist-list__flow-name\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"flowName\") || (depth0 != null ? lookupProperty(depth0,\"flowName\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"flowName\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":58},\"end\":{\"line\":15,\"column\":72}}}) : helper)))\n    + \"</div>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell table-list__item-check js-no-click\\\"><span data-check-region></span></td>\\n<td class=\\\"table-list__cell w-15\\\">\\n  <span class=\\\"worklist-list__patient-sidebar-icon\\\">\\n    <button class=\\\"button-secondary--compact js-patient-sidebar-button\\\">\\n      \"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"address-card\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":6},\"end\":{\"line\":5,\"column\":28}}}))\n    + \"&#8203;\\n    </button>\\n  </span>\\n  <div class=\\\"worklist-list__patient-name js-patient\\\">\\n    \"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"first_name\") : stack1), depth0))\n    + \" \"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"patient\") : depth0)) != null ? lookupProperty(stack1,\"last_name\") : stack1), depth0))\n    + \"&#8203;\\n  </div>\\n</td>\\n<td class=\\\"table-list__cell w-30\\\">\\n  <span class=\\\"worklist-list__flow-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":41},\"end\":{\"line\":13,\"column\":57}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":64},\"end\":{\"line\":13,\"column\":89}}}) : helper)))\n    + \"<div class=\\\"worklist-list__name\\\">\\n    \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"flowName\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":4},\"end\":{\"line\":15,\"column\":85}}})) != null ? stack1 : \"\")\n    + \"&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":92},\"end\":{\"line\":15,\"column\":117}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":4},\"end\":{\"line\":16,\"column\":14}}}) : helper)))\n    + \"&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":21},\"end\":{\"line\":16,\"column\":46}}}) : helper)))\n    + \"</div>\\n</td>\\n<td class=\\\"table-list__cell w-40\\\">\\n  <span class=\\\"table-list__meta\\\" data-state-region></span>&#8203;<span class=\\\"worklist-list__search-helper\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"state\") || (depth0 != null ? lookupProperty(depth0,\"state\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"state\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":108},\"end\":{\"line\":20,\"column\":119}}}) : helper)))\n    + \"</span>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":133},\"end\":{\"line\":20,\"column\":158}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>&#8203;<span class=\\\"worklist-list__search-helper\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"owner\") || (depth0 != null ? lookupProperty(depth0,\"owner\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"owner\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":108},\"end\":{\"line\":21,\"column\":119}}}) : helper)))\n    + \"</span>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":133},\"end\":{\"line\":21,\"column\":158}}}) : helper)))\n    + \"<progress class=\\\"progress-bar worklist-list__flow-progress\\\" value=\"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"complete\") : stack1), depth0))\n    + \" max=\"\n    + alias3(alias4(((stack1 = (depth0 != null ? lookupProperty(depth0,\"_progress\") : depth0)) != null ? lookupProperty(stack1,\"total\") : stack1), depth0))\n    + \"></progress>&#8203;\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":137},\"end\":{\"line\":22,\"column\":162}}}) : helper)))\n    + \"</td>\\n<td class=\\\"table-list__cell worklist-list__action-ts w-7-5\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"created_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":60},\"end\":{\"line\":24,\"column\":103}}}))\n    + \"&#8203;</td>\\n<td class=\\\"table-list__cell worklist-list__action-ts w-7-5\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":60},\"end\":{\"line\":25,\"column\":103}}}))\n    + \"&#8203;</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"list-page__header\\\">\\n  <div class=\\\"flex list-page__title\\\">\\n    <div data-title-region></div>\\n    <div class=\\\"worklist-list__toggle\\\" data-toggle-region></div>\\n    <div class=\\\"u-margin--l-16\\\" data-search-region></div>\\n  </div>\\n  <div class=\\\"list-page__filters flex\\\">\\n    <div class=\\\"flex u-margin--r-16\\\" data-select-all-region></div>\\n    <div class=\\\"worklist-list__filter-region\\\" data-filters-region></div>\\n    <div class=\\\"flex\\\">\\n      <span class=\\\"u-margin--r-16 u-text--nowrap\\\" data-date-filter-region></span>\\n      <span class=\\\"worklist-list__filter-sort\\\" data-sort-region></span>\\n    </div>\\n  </div>\\n  <table class=\\\"worklist__header w-100 js-list-header\\\" data-table-region></table>\\n</div>\\n<div class=\\\"flex-region list-page__list js-list\\\" data-list-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    \"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"flowHeader\")), depth0))\n    + \"\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    \"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"actionHeader\")), depth0))\n    + \"\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    \"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"flowAttrHeader\")), depth0))\n    + \"\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    \"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"actionAttrHeader\")), depth0))\n    + \"\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__header table-list__item-check\\\"></td>\\n<td class=\\\"table-list__header w-15\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"patientHeader\")), depth0))\n    + \"</td>\\n<td class=\\\"table-list__header worklist-list__name-header\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"isFlowList\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":2},\"end\":{\"line\":8,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</td>\\n<td class=\\\"table-list__header worklist-list__meta-header\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"isFlowList\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":2},\"end\":{\"line\":15,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</td>\\n<td class=\\\"table-list__header w-7-5\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"createdHeader\")), depth0))\n    + \"</td>\\n<td class=\\\"table-list__header w-7-5\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"patients\"))) && lookupProperty(stack1,\"worklist\"))) && lookupProperty(stack1,\"tableHeaderTemplate\"))) && lookupProperty(stack1,\"updatedHeader\")), depth0))\n    + \"</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"actionItemTemplate\"))) && lookupProperty(stack1,\"newProgramFlowAction\")), depth0))\n    + \"</em>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <button class=\\\"js-form button-secondary--compact\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"square-poll-horizontal\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":58},\"end\":{\"line\":15,\"column\":90}}}))\n    + \"</button>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell w-40\\\">\\n  <span class=\\\"program-flow__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":42},\"end\":{\"line\":2,\"column\":54}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":61},\"end\":{\"line\":2,\"column\":86}}}) : helper)))\n    + \"<span class=\\\"program-flow__action-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":115}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell w-60\\\">\\n  <div class=\\\"pos--relative\\\">\\n    <span class=\\\"table-list__meta\\\" data-published-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":64},\"end\":{\"line\":10,\"column\":89}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":60},\"end\":{\"line\":11,\"column\":85}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-due-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":58},\"end\":{\"line\":12,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasForm\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":6},\"end\":{\"line\":16,\"column\":14}}})) != null ? stack1 : \"\")\n    + \"    </span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":11},\"end\":{\"line\":17,\"column\":36}}}) : helper)))\n    + \"<span class=\\\"program-flow__action-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":42},\"end\":{\"line\":18,\"column\":85}}}))\n    + \"</span>\\n    <span class=\\\"program-flow__sort-handle js-sort\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"grip-vertical\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":52},\"end\":{\"line\":19,\"column\":75}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":82},\"end\":{\"line\":19,\"column\":107}}}) : helper)))\n    + \"</div>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      \"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":6},\"end\":{\"line\":6,\"column\":19}}}) : helper)))\n    + \"\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <button class=\\\"program-flow__meta button-secondary\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"pen-to-square\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":58},\"end\":{\"line\":8,\"column\":81}}}))\n    + \" Add Details</button>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"program-flow__header js-flow\\\">\\n  <h1 class=\\\"program-flow__name\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder-open\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":33},\"end\":{\"line\":2,\"column\":54}}}))\n    + \" \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":55},\"end\":{\"line\":2,\"column\":65}}}) : helper)))\n    + \"</h1>\\n  <div>\\n    <p class=\\\"program-flow__details\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"details\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":9,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"    </p>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":8},\"end\":{\"line\":10,\"column\":33}}}) : helper)))\n    + \"<span class=\\\"program-flow__meta\\\" data-published-region></span>\\n    <span class=\\\"program-flow__meta\\\" data-owner-region></span>\\n  </div>\\n</div>\\n<div class=\\\"program-flow__actions\\\">\\n  <button class=\\\"button-primary js-add-action\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"circle-plus\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":47},\"end\":{\"line\":16,\"column\":68}}}))\n    + \"<span>\"\n    + alias3(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"headerTemplate\"))) && lookupProperty(stack1,\"action\")), depth0))\n    + \"</span></button>\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":22},\"end\":{\"line\":5,\"column\":35}}}) : helper)));\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<span class=\\\"u-text--italic\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"sidebarLayoutTemplate\"))) && lookupProperty(stack1,\"noDetails\")), depth0))\n    + \"</span>\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \" is-published\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"toggle-on\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":21},\"end\":{\"line\":8,\"column\":40}}}));\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"toggle-off\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":48},\"end\":{\"line\":8,\"column\":68}}}));\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h1 class=\\\"program-sidebar__name\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":34},\"end\":{\"line\":1,\"column\":44}}}) : helper)))\n    + \"</h1>\\n<button class=\\\"button--icon program-sidebar__context-menu js-menu\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,\"ellipsis\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":67},\"end\":{\"line\":2,\"column\":85}}}))\n    + \"</button>\\n<div class=\\\"u-margin--t-16\\\">\\n  <div class=\\\"program-sidebar__heading\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"sidebarLayoutTemplate\"))) && lookupProperty(stack1,\"details\")), depth0))\n    + \"</div>\\n  <div>\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"details\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":7},\"end\":{\"line\":5,\"column\":154}}})) != null ? stack1 : \"\")\n    + \"</div>\\n  <div class=\\\"program-sidebar__heading\\\">\"\n    + alias3(alias4(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"sidebarLayoutTemplate\"))) && lookupProperty(stack1,\"state\")), depth0))\n    + \"</div>\\n  <div class=\\\"program-sidebar__published\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":40},\"end\":{\"line\":7,\"column\":77}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n    \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.program(9, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":4},\"end\":{\"line\":8,\"column\":75}}})) != null ? stack1 : \"\")\n    + \"\\n    \"\n    + alias3((lookupProperty(helpers,\"formatMessage\")||(depth0 && lookupProperty(depth0,\"formatMessage\"))||alias2).call(alias1,(lookupProperty(helpers,\"intlGet\")||(depth0 && lookupProperty(depth0,\"intlGet\"))||alias2).call(alias1,\"programs.program.sidebar.sidebarLayoutTemplate.published\",{\"name\":\"intlGet\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":20},\"end\":{\"line\":9,\"column\":88}}}),{\"name\":\"formatMessage\",\"hash\":{\"published\":(depth0 != null ? lookupProperty(depth0,\"published\") : depth0)},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":4},\"end\":{\"line\":9,\"column\":110}}}))\n    + \"\\n  </div>\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"workflows\"))) && lookupProperty(stack1,\"actionItemTemplate\"))) && lookupProperty(stack1,\"newProgramAction\")), depth0))\n    + \"</em>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <button class=\\\"js-form button-secondary--compact\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"square-poll-horizontal\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":56},\"end\":{\"line\":14,\"column\":88}}}))\n    + \"</button>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell w-40\\\">\\n  <span class=\\\"workflows__action-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"icon\") : depth0),{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":39},\"end\":{\"line\":2,\"column\":51}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":58},\"end\":{\"line\":2,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"workflows__action-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":116}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell w-60\\\">\\n  <span class=\\\"table-list__meta\\\" data-published-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":62},\"end\":{\"line\":9,\"column\":87}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":58},\"end\":{\"line\":10,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-due-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":56},\"end\":{\"line\":11,\"column\":81}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"hasForm\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":4},\"end\":{\"line\":15,\"column\":12}}})) != null ? stack1 : \"\")\n    + \"  </span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":9},\"end\":{\"line\":16,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"workflows__item-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":35},\"end\":{\"line\":17,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<em>\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"workflows\"))) && lookupProperty(stack1,\"flowItemTemplate\"))) && lookupProperty(stack1,\"newProgramFlow\")), depth0))\n    + \"</em>\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <span class=\\\"workflows-action--published\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"circle-play\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":48},\"end\":{\"line\":11,\"column\":69}}}))\n    + \"</span>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <span class=\\\"workflows-action--draft\\\">\"\n    + container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"pen-to-square\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":44},\"end\":{\"line\":13,\"column\":67}}}))\n    + \"</span>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=container.escapeExpression, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<td class=\\\"table-list__cell w-40\\\">\\n  <span class=\\\"workflows__flow-icon\\\">\"\n    + alias3((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias2).call(alias1,\"folder\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":37},\"end\":{\"line\":2,\"column\":53}}}))\n    + \"</span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":60},\"end\":{\"line\":2,\"column\":85}}}) : helper)))\n    + \"<span class=\\\"workflows__flow-name\\\">\\n    \"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":14}}}) : helper)))\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":14},\"end\":{\"line\":4,\"column\":39}}}) : helper)))\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":112}}})) != null ? stack1 : \"\")\n    + \"</span>\\n</td>\\n<td class=\\\"table-list__cell w-60\\\">\\n  <span class=\\\"table-list__meta workflows__flow-status\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isPublished\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":4},\"end\":{\"line\":14,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"  </span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":9},\"end\":{\"line\":15,\"column\":34}}}) : helper)))\n    + \"<span class=\\\"table-list__meta\\\" data-owner-region></span>\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"remove_whitespace\") || (depth0 != null ? lookupProperty(depth0,\"remove_whitespace\") : depth0)) != null ? helper : alias2),(typeof helper === alias4 ? helper.call(alias1,{\"name\":\"remove_whitespace\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":58},\"end\":{\"line\":16,\"column\":83}}}) : helper)))\n    + \"<span class=\\\"workflows__item-ts\\\">\"\n    + alias3((lookupProperty(helpers,\"formatDateTime\")||(depth0 && lookupProperty(depth0,\"formatDateTime\"))||alias2).call(alias1,(depth0 != null ? lookupProperty(depth0,\"updated_at\") : depth0),\"TIME_OR_DAY\",{\"name\":\"formatDateTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":35},\"end\":{\"line\":17,\"column\":78}}}))\n    + \"</span>\\n</td>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div>\\n  <span class=\\\"workflows__tab--selected\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"workflows\"))) && lookupProperty(stack1,\"layoutTemplate\"))) && lookupProperty(stack1,\"workflowsLabel\")), depth0))\n    + \"</span>\\n</div>\\n<div class=\\\"workflows__actions\\\" data-add-region></div>\\n<div data-content-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-secondary textarea-flex__input js-input\\\" placeholder=\\\"\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionDetailsTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":148},\"end\":{\"line\":1,\"column\":161}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-secondary sidebar__details js-spacer\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":81},\"end\":{\"line\":2,\"column\":94}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" placeholder=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionNameTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\"\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-primary textarea-flex__input js-input\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":61},\"end\":{\"line\":1,\"column\":162}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":163},\"end\":{\"line\":1,\"column\":173}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-primary js-spacer\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":62},\"end\":{\"line\":2,\"column\":72}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\" data-heading-region>\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"headingText\")), depth0))\n    + \"</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon u-margin--r-8 js-menu\\\">\"\n    + alias2((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias4).call(alias3,\"ellipsis\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":57},\"end\":{\"line\":7,\"column\":75}}}))\n    + \"</button>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias2((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias4).call(alias3,\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":44},\"end\":{\"line\":8,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div data-name-region></div>\\n    <div class=\\\"u-margin--t-8\\\" data-details-region></div>\\n    <div data-save-region></div>\\n\\n    <div class=\\\"flex u-margin--t-16\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"publishedLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-published-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"dueDayLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-due-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"action\"))) && lookupProperty(stack1,\"actionSidebarTemplate\"))) && lookupProperty(stack1,\"formLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-form-region></div></div>\\n    <div class=\\\"flex u-margin--t-24\\\" data-form-sharing-region></div>\\n  </div>\\n</div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-secondary textarea-flex__input js-input\\\" placeholder=\\\"\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowDetailsTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":144},\"end\":{\"line\":1,\"column\":157}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-secondary sidebar__details js-spacer\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":81},\"end\":{\"line\":2,\"column\":94}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" placeholder=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowNameTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\"\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-primary textarea-flex__input js-input\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":61},\"end\":{\"line\":1,\"column\":158}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":159},\"end\":{\"line\":1,\"column\":169}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-primary js-spacer\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":62},\"end\":{\"line\":2,\"column\":72}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=container.hooks.helperMissing, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"headingText\")), depth0))\n    + \"</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon u-margin--r-8 js-menu\\\">\"\n    + alias2((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||alias4).call(alias3,\"ellipsis\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":57},\"end\":{\"line\":7,\"column\":75}}}))\n    + \"</button>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias2((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||alias4).call(alias3,\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":44},\"end\":{\"line\":8,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div data-name-region></div>\\n    <div class=\\\"u-margin--t-8\\\" data-details-region></div>\\n    <div data-save-region></div>\\n\\n    <div class=\\\"flex u-margin--t-16\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"publishedLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-published-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-state-region></div></div>\\n    <div class=\\\"flex u-margin--t-8\\\"><h4 class=\\\"sidebar__label u-margin--t-8\\\">\"\n    + alias2(alias1(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"flow\"))) && lookupProperty(stack1,\"flowSidebarTemplate\"))) && lookupProperty(stack1,\"ownerLabel\")), depth0))\n    + \"</h4><div class=\\\"flex-grow\\\" data-owner-region></div></div>\\n  </div>\\n</div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<textarea class=\\\"input-secondary textarea-flex__input js-input\\\" placeholder=\\\"\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"programDetailsTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":150},\"end\":{\"line\":1,\"column\":163}}}) : helper)))\n    + \"</textarea>\\n<div class=\\\"textarea-flex__container input-secondary sidebar__details js-spacer\\\">\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"details\") || (depth0 != null ? lookupProperty(depth0,\"details\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"details\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":81},\"end\":{\"line\":2,\"column\":94}}}) : helper)))\n    + \" </div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \" has-error\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" placeholder=\\\"\"\n    + container.escapeExpression(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"programNameTemplate\"))) && lookupProperty(stack1,\"placeholder\")), depth0))\n    + \"\\\"\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"form-error u-margin--b-4\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"error\") || (depth0 != null ? lookupProperty(depth0,\"error\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"error\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":51},\"end\":{\"line\":5,\"column\":62}}}) : helper)))\n    + \"</div>\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"pos--relative\\\">\\n  <textarea class=\\\"input-primary textarea-flex__input js-input\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"error\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":62},\"end\":{\"line\":2,\"column\":92}}})) != null ? stack1 : \"\")\n    + \"\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isNew\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":93},\"end\":{\"line\":2,\"column\":196}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":197},\"end\":{\"line\":2,\"column\":207}}}) : helper)))\n    + \"</textarea>\\n  <div class=\\\"textarea-flex__container input-primary js-spacer\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":64},\"end\":{\"line\":3,\"column\":74}}}) : helper)))\n    + \" </div>\\n</div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"error\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":0},\"end\":{\"line\":5,\"column\":75}}})) != null ? stack1 : \"\")\n    + \"\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"flex-grow\\\">\\n  <div class=\\\"flex\\\">\\n    <div class=\\\"flex-grow\\\">\\n      <h3 class=\\\"sidebar__heading\\\">\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"programSidebarTemplate\"))) && lookupProperty(stack1,\"headingText\")), depth0))\n    + \"</h3>\\n    </div>\\n    <div>\\n      <button class=\\\"button--icon js-close\\\">\"\n    + alias1((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"xmark\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":44},\"end\":{\"line\":7,\"column\":59}}}))\n    + \"</button>\\n    </div>\\n  </div>\\n  <div class=\\\"u-margin--t-16\\\">\\n    <div data-name-region></div>\\n    <div class=\\\"u-margin--t-8\\\" data-details-region></div>\\n    <div data-save-region></div>\\n    <div class=\\\"u-margin--t-16\\\" data-state-region></div>\\n  </div>\\n</div>\\n<div data-timestamps-region></div>\\n\";\n},\"useData\":true});","var Handlebars = require('/Users/nickmajor/projects/rw/care-ops-frontend/node_modules/handlebars/runtime.js');\nmodule.exports = (Handlebars['default'] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \" is-published\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression((lookupProperty(helpers,\"fas\")||(depth0 && lookupProperty(depth0,\"fas\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"toggle-on\",{\"name\":\"fas\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":21},\"end\":{\"line\":4,\"column\":40}}}));\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression((lookupProperty(helpers,\"far\")||(depth0 && lookupProperty(depth0,\"far\"))||container.hooks.helperMissing).call(depth0 != null ? depth0 : (container.nullContext || {}),\"toggle-off\",{\"name\":\"far\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":48},\"end\":{\"line\":4,\"column\":68}}}));\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"u-margin--t-4 u-float--left\\\">\\n  <div class=\\\"programs-sidebar__label\\\">\"\n    + alias1(container.lambda(((stack1 = ((stack1 = ((stack1 = ((stack1 = ((stack1 = (data && lookupProperty(data,\"intl\"))) && lookupProperty(stack1,\"programs\"))) && lookupProperty(stack1,\"sidebar\"))) && lookupProperty(stack1,\"program\"))) && lookupProperty(stack1,\"programStateTemplate\"))) && lookupProperty(stack1,\"stateLabel\")), depth0))\n    + \"</div>\\n  <div class=\\\"programs-sidebar__published\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias2,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":41},\"end\":{\"line\":3,\"column\":78}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n    \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias2,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":4},\"end\":{\"line\":4,\"column\":75}}})) != null ? stack1 : \"\")\n    + \"\\n    \"\n    + alias1((lookupProperty(helpers,\"formatMessage\")||(depth0 && lookupProperty(depth0,\"formatMessage\"))||alias3).call(alias2,(lookupProperty(helpers,\"intlGet\")||(depth0 && lookupProperty(depth0,\"intlGet\"))||alias3).call(alias2,\"programs.sidebar.program.programStateTemplate.published\",{\"name\":\"intlGet\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":20},\"end\":{\"line\":5,\"column\":87}}}),{\"name\":\"formatMessage\",\"hash\":{\"published\":(depth0 != null ? lookupProperty(depth0,\"published\") : depth0)},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":4},\"end\":{\"line\":5,\"column\":109}}}))\n    + \"\\n  </div>\\n</div>\\n<button class=\\\"js-state-toggle button-secondary programs-sidebar__state-toggle \"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias2,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":79},\"end\":{\"line\":8,\"column\":124}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n  \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias2,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":2},\"end\":{\"line\":9,\"column\":73}}})) != null ? stack1 : \"\")\n    + \"\\n  \"\n    + alias1((lookupProperty(helpers,\"formatMessage\")||(depth0 && lookupProperty(depth0,\"formatMessage\"))||alias3).call(alias2,(lookupProperty(helpers,\"intlGet\")||(depth0 && lookupProperty(depth0,\"intlGet\"))||alias3).call(alias2,\"programs.sidebar.program.programStateTemplate.toggle\",{\"name\":\"intlGet\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":18},\"end\":{\"line\":10,\"column\":82}}}),{\"name\":\"formatMessage\",\"hash\":{\"published\":(depth0 != null ? lookupProperty(depth0,\"published\") : depth0)},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":2},\"end\":{\"line\":10,\"column\":104}}}))\n    + \"\\n</button>\\n\";\n},\"useData\":true});"],"names":["str","replace","Component","stateEvents","viewEvents","viewOptions","tagName","className","template","this","getState","triggers","onClick","view","domEvent","toggleState","triggerMethod","onStateChangeIsSelected","state","isSelected","show","i18n","intl","StateTemplate","statesCollection","getStates","currentOrg","Radio","statuses","STATE_STATUS","statesLists","Droplist","isCompact","initialize","stateId","lists","statesByStatus","groupBy","map","status","collection","headingText","statusLabels","getStateLists","setSelected","states","setState","selected","get","onChangeSelected","popWidth","getOption","getView","$el","outerWidth","templateContext","picklistOptions","itemTemplate","OwnerItemTemplate","FilterButtonTemplate","teamsCollection","getTeams","getActiveTeams","groupCache","getGroupClinicians","group","id","getActiveClinicians","isFilter","placeholderText","hasTeams","hasCurrentClinician","itemTemplateContext","model","type","short","getTeam","isSelectlist","infoText","icon","attr","owner","groups","currentUser","push","Backbone","length","teamsHeadingText","onDestroy","DueTemplate","onChangeIsActive","isActive","toggleClass","blur","showDatepicker","isDisabled","attributes","disabled","defaultHtml","defaultText","dateFormat","date","isOverdue","datepicker","Datepicker","uiView","selectedDate","listenTo","destroy","onDatepickerDestroy","onChangeStateSelected","timeFormat","start","dayjs","times","_times","n","add","format","NoTimeCompactTemplate","TimeTemplate","align","getClassName","time","getTemplate","canClear","clearText","clear","text","durations","range","duration","NoDurationTemplate","DurationTemplate","FormButton","View","getForm","DetailsTooltip","onRender","flow","getFlow","Tooltip","messageHtml","renderTemplate","name","flowName","details","_formatDetails","ui","trim","slice","ENTER_KEY","keyCodes","DisabledSaveView","SaveView","NameView","ActionNameTemplate","behaviors","InputWatcherBehavior","input","spacer","onWatchKeydown","evt","which","preventDefault","onWatchChange","newText","removeNewline","val","set","isNew","isAdHoc","onDomRefresh","focus","DetailsView","ActionDetailsTemplate","FormView","FormSharingView","FormSharingTemplate","patient","getPatient","sharing","stateOptions","ACTION_SHARING","iconType","color","getSharingOpts","isPending","isSent","isResponded","isCanceled","isWaiting","isError","pick","isDone","LayoutView","childViewTriggers","ActionSidebarTemplate","regions","dueDay","dueTime","form","formSharing","save","activity","el","regionClass","PreloadRegion","timestamps","comment","menu","onClickMenu","menuOptions","onSelect","bind","Optionlist","outreach","action","hasOutreach","hasForm","onChangeActionState","onChangeOwner","onChangeDueDate","onChangeDuration","onChangeSharing","showAction","isFlowDone","showFormSharing","previous","showOwner","showDueDay","showDueTime","showDuration","onAttach","animSidebar","cloneAction","clonedAction","stopListening","clone","showEditForm","showState","showForm","showSave","showDisabledSave","getRegion","empty","showName","showDetails","showChildView","stateComponent","StateComponent","saveState","ownerComponent","OwnerComponent","getOwner","getGroups","saveOwner","dueDayComponent","DueComponent","saveDueDate","dueTimeComponent","TimeComponent","saveDueTime","durationComponent","DurationComponent","formView","isShowingForm","formSharingView","isValid","onSave","onCancel","PostCommentView","shouldHideCancel","hasChanged","CommentFormView","modelEvents","post","initials","getClinician","getInitials","showPostView","onConfirmDelete","modal","bodyText","submitText","buttonClass","onSubmit","CreatedTemplate","ClinicianAssignedTemplate","ActionCopiedFromProgramActionTemplate","DetailsUpdatedTemplate","DueDateUpdatedTemplate","DueTimeUpdatedTemplate","DurationUpdatedTemplate","FormUpdatedTemplate","FormRespondedTemplate","FormRemovedTemplate","NameUpdatedTemplate","TeamAssignedTemplate","StateUpdatedTemplate","SharingCanceledTemplate","SharingSentTemplate","CommentView","edit","clinician","canEdit","edited","onClickEdit","onSaveComment","message","edited_at","render","onCancelEdit","onDeleteComment","ActivityView","Templates","ActionClinicianAssigned","ActionCreated","ActionDetailsUpdated","ActionDueDateUpdated","ActionDueTimeUpdated","ActionDurationUpdated","ActionFormUpdated","ActionFormResponded","ActionFormRemoved","ActionNameUpdated","ActionCopiedFromProgramAction","ActionTeamAssigned","ActionRoleAssigned","ActionStateUpdated","recipient","getRecipient","editor","getEditor","program","getProgram","team","to_clinician","to_team","to_state","ActivitiesView","CollectionView","childView","viewFilter","viewComparator","viewA","viewB","alphaSort","_getSortDate","TimestampsView","createdAt","App","onBeforeStart","showView","startPreloader","beforeStart","onStart","options","comments","activityCollection","models","showActivity","showNewCommentForm","createdEvent","find","event_type","newCommentFormView","_action","_clinician","onPostNewComment","onCancelNewComment","saveAll","done","onDelete","wait","stop","fail","responseJSON","onStop","trigger","onClickForm","onClickShare","onClickCancel","onClickUndoCancel","created_at","FlowStateComponent","onPicklistSelect","shouldSelectDone","setSelectedStatus","isAllDone","popRegion","requireDoneModal","cancelText","doneModal","FlowSidebarTemplate","layoutView","showTimestamps","ProgramStartedTemplate","FlowProgramStarted","FlowClinicianAssigned","FlowDetailsUpdated","FlowNameUpdated","FlowTeamAssigned","FlowRoleAssigned","FlowStateUpdated","opts","extend","deleteModal","ProgramNameTemplate","error","ProgramDetailsTemplate","StateView","ProgramStateTemplate","ProgramSidebarTemplate","stateView","published","showErrors","then","errors","parseErrors","ButtonCompactTemplate","PublishedTemplate","PublishedStates","PUBLISH_STATE_STATUS","draftText","publishedText","conditionalText","mergeOptions","result","remove","isPublishDisabled","isConditionalAvailable","itemClassName","flowStatusInfoText","TeamItemTemplate","FlowPublishedComponent","PublishedComponent","getActions","some","TeamComponent","FlowNameTemplate","FlowDetailsTemplate","at","tooltip","onChangeFlowStatus","showPublished","showFlow","publishedComponent","FormTemplate","NoFormTemplate","formsCollection","onViewClickForm","noResultsText","getForms","formModels","reject","published_at","reset","days","day","SameDayTemplate","NoDayCompactTemplate","NoDayTemplate","DueDayTemplate","isFromFlow","HeadingView","FormSharingButtonView","heading","due","showHeading","onChangeActionStatus","onChangeDueDay","DueDayComponent","days_until_due","formComponent","FormComponent","saveForm","button","ACTION_OUTREACH","flowId","ItemTemplate","role","GroupsItemView","GroupsListView","childViewOptions","onRemove","child","GroupsDropList","onShow","droplist","member","currentClinician","memberGroups","showGroups","showDroplist","groupsView","removeMemberGroup","addMemberGroup","GroupsComponent","GroupsManagerComponent","groupsComponent","removeModal","ActiveState","active","PendingState","pending","DisabledState","StateCompactTemplate","selectedId","isEditable","events","onInput","target","value","EmailView","InfoView","SidebarView","ClinicianSidebarTemplate","email","info","onChangeEnabled","showInfo","showRole","showTeam","cloneClinician","clonedClinician","showEmail","enabled","roleComponent","RoleComponent","getRole","saveRole","teamComponent","saveTeam","groupsManager","droplistOptions","addClinician","removeClinician","hasTeam","_","propertyOf","escape","fieldRegEx","patientRegEx","valueRegEx","valueDeepRegEx","widgetRegEx","escapes","escapeRegExp","escapeChar","match","escapeTemplate","valueString","deepGetTemplate","dataKey","nestedKeys","keys","each","split","key","buildWidget","widget","widgetModel","isFunction","getKeyValue","getWidgetValue","fields","childValue","shift","currentField","getValue","widgets","dob","age","diff","sex","divider","patientIdentifiers","identifiersArray","identifierType","identifier","displayValue","optionsWidget","getFields","phoneWidget","phone","parsePhoneNumber","formatNational","fieldWidget","templateWidget","index","source","fieldNames","widgetNames","matcher","RegExp","join","fieldKeys","patientKeys","valueOnly","valueKeys","widgetName","offset","first","Function","templateFunction","patientFields","reduce","fieldData","field","data","call","patientTemplate","nestedWidgets","widgetRegions","addRegions","serializeData","arrayWidget","childWidget","widget_type","definition","getArrayValue","arrayValue","filterValue","filter","rejectValue","child_widget","field_name","addChildView","formWidget","formName","dateTimeWidget","dateTime","inputFormat","WidgetView","content","WidgetCollectionView","SidebarWidgetsView","PatientSidebarTemplate","onClickPatient","fieldName","channelName","radioRequests","childApps","ActionSidebarApp","FlowSidebarApp","ProgramSidebarApp","programFlow","ProgramFlowSidebarApp","programAction","ProgramActionSidebarApp","ClinicianSidebarApp","PatientSidebarApp","startSidebarApp","appName","appOptions","isStarting","stopSidebarApp","sidebarOpts","region","currentApp","startChildApp","getChannel","closeSidebar","TipTemplate","EmptyView","collectionEvents","settings","search","isSearching","PicklistItem","hasIdentifiers","ListView","serializeCollection","noop","onRenderChildren","$","removeClass","addClass","emptyView","HeaderView","DialogView","behaviorClass","InputFocusBehavior","selector","PicklistBehavior","Region","replaceElement","header","list","showHeader","PatientSearchPicklist","ViewClass","PatientSearchModal","picklist","picklistComponent","onChangeSearch","onClose","prefillText","patientSearchModal","MainNavDroplist","userName","orgName","picklistEvents","AppNavView","navMain","navContent","canPatientCreate","can","removeSelected","NavItemView","onSelected","AppNavCollectionView","PatientsAppNav","worklists","onSearchActive","isDestroyed","InputView","hasError","placeholder","onChange","SexDroplist","patientSex","sexDroplist","male","female","other","BirthdateView","dateSelect","onChangeDate","isAfter","birthdateSelect","DateSelectComponent","ErrorView","errorView","hasSearch","PatientModal","firstName","lastName","PatientModalTemplate","initState","showFirstNameView","showLastNameView","showSexDroplist","showBirthDatePicker","showGroupsComponent","patientModal","errorField","shouldFocus","birthDatePicker","addGroup","removeGroup","mixinState","appNavMenu","window","open","isExternalLink","hasDivider","patientsAppWorkflowsNav","event","eventArgs","startAfterInitialized","SearchApp","selectNav","navMatch","getNavMatch","compact","onChangeCurrentApp","setMainNav","_navMatch","navCollection","isEqual","setView","mainNav","showNav","selectedApp","navView","workflowsCollectionView","showSearch","hotkeyCh","getChildView","searchApp","onClickAddPatient","showPatientModal","getNewPatient","_groups","patientClone","bodyView","headerIcon","patientAccountManaged","getPatientModal","disableSubmit","detail","query","errorCode","birth_date","FormWidgetsHeaderView","getWidgetFields","getWidgets","ContextTrailView","actionTemplate","onClickBack","onClickDashboard","FormActionsView","isActionShown","hasHistory","responses","hasAction","renderSidebarTooltip","renderExpandTooltip","renderHistoryTooltip","sidebarButton","expandButton","historyButton","formActionsView","hideActionSidebar","showActionSidebar","decreaseWidth","increaseWidth","currentVersion","responseHistory","actions","contextTrail","formAction","sidebar","IframeView","IframeFormBehavior","responseId","StoredSubmissionView","updated","PreviewView","StatusView","ReadOnlyView","SaveButtonTypeDroplist","saveView","droplistItemText","saveAndGoBack","currentSaveButtonType","droplistLabel","isCheckable","saveType","saveButtonType","showSaveButton","showSaveGoBackButton","saveButtonTypeDroplist","UpdateView","HistoryDroplist","HistoryView","versions","responseDroplist","response","AppClass","regionName","getOptions","widgetHeader","WidgetsHeaderApp","initFormState","storedState","store","isActionSidebar","isExpanded","shouldShowHistory","patientActionId","onFail","onBeforeStop","removeChildApp","getFormResponses","isReadOnly","startFormService","showFormStatus","showFormAction","showActions","showSidebar","formService","addChildApp","FormsService","_created_at","unshift","showFormUpdate","showFormSave","onChangeState","onChangeResponseId","showContent","onChangeSaveButtonType","isEditing","formActions","onClickSidebarButton","onClickExpandButton","onClickHistoryButton","storedSubmissionView","stopChildApp","sidebarApp","showReadOnly","showFormHistory","showFormSaveDisabled","selectedSaveButtonType","updateView","historyView","formId","patientId","actionsView","RouterApp","routerAppName","FormApp","formPreview","FormPreviewApp","patientForm","FormPatientApp","eventRoutes","route","startCurrent","showFormPatient","showFormPreview","constructor","_current","initRouter","on","stopCurrent","arguments","_eventRoutes","normalizeMethods","startRoute","apply","mixinOptions","app","getCurrent","defaults","actionBeingEdited","selectedActions","isBeingEdited","getSelectedList","toggleSelected","getSelected","collectionSelected","item","clearSelected","selectAll","actionId","_patient","_state","_owner","due_date","due_time","updated_at","getIsOverdue","dueDateTime","isBefore","FlowsStateComponent","flows","invoke","complete","flowsStateComponent","BulkEditButtonView","isFlowList","BulkEditActionsHeaderView","isDevelop","_DEVELOP_","itemCount","bulkEditActionsHeaderView","confirmDeleteActionsModal","BulkEditFlowsHeaderView","bulkEditFlowsHeaderView","confirmDeleteFlowsModal","BulkEditActionsBodyView","BulkEditActionBodyTemplate","dueDate","showDueDateTime","getStateComponent","getOwnerComponent","someComplete","bulkOwnerInfoText","getDueDateComponent","getDueTimeComponent","getDurationComponent","setOwner","showDueDate","dueDateComponent","setDueDate","setDueTime","setDuration","ApplyOwnerView","onClickSelect","BulkEditFlowsBodyView","BulkEditFlowBodyTemplate","applyOwner","showApplyOwner","BulkEditFlowsSuccessTemplate","BulkEditActionsSuccessTemplate","BulkDeleteFlowsSuccessTemplate","BulkDeleteActionsSuccessTemplate","StateModel","initModel","initBulkState","initBulkOwner","initBulkDueDate","initBulkDueTime","initBulkDuration","stateMulti","ownerMulti","dateMulti","timeMulti","durationMulti","stateChanged","ownerChanged","dateChanged","timeChanged","durationChanged","getPatients","getSharedGroups","getData","saveData","headerView","partial","hasLatestList","onEditing","HeaderTemplate","progress","FlowOwnerComponent","onChangeFlowProgress","prog","max","total","ActionItemView","showCheck","ActionItemTemplate","check","checkComponent","CheckComponent","actionList","tools","SelectAllView","AddWorkflowOptlist","addWorkflowOptlist","isProgramAction","actionIcon","classes","AddButtonView","onNew","SubRouterApp","ActionApp","bulkEditActions","BulkEditActionsApp","toggleBulkSelect","resetStateDefaults","currentRoute","addOpts","getAddOpts","getProgramFlow","showActionList","onActionChangeState","onActionDestroy","onFlowChangeOwner","_progress","ownerTeam","onEditFlow","itemType","showAdd","showSelectAll","showBulkEditButtonView","bulkEditButtonView","onClickBulkCancel","onClickBulkEdit","showUpdateSuccess","restart","showDeleteSuccess","showDisabledSelectAll","isSelectAll","isSelectNone","selectAllView","onClickBulkSelect","onAddProgramAction","getAction","actionApp","getChildApp","listenToOnce","optEvents","programs","comparator","getLists","getProgramsOpts","newActionOpt","new","programItems","getPublished","noResultsOpt","getItemSearchText","itemsOpts","getProgramItemsOpts","RowBehavior","Behavior","onInitialize","DoneBehavior","anime","targets","delay","opacity","easing","css","FlowItemView","FlowItemTemplate","childViewEvents","addWorkflow","loading","LayoutTemplate","onClickArchive","loop","direction","AddWorkflowApp","addworkflow","onAddNewAction","onAddProgramFlow","onEditAction","modelA","modelB","startPatientAction","dashboard","DashboardApp","archive","ArchiveApp","currentAppOptions","editActionList","startActionList","currentActionList","isRunning","relativeRanges","RELATIVE_DATE_RANGES","actionsSortId","flowsSortId","actionsDateFilters","dateType","selectedMonth","selectedWeek","relativeDate","flowsDateFilters","filters","groupId","clinicianId","teamId","noOwner","lastSelectedIndex","selectedFlows","searchQuery","listType","preinitialize","omit","setDateFilters","getType","getDateFilters","getFilters","isFlowType","getSort","setSort","sortId","formatDateRange","rangeType","startOf","endOf","getEntityDateFilter","prev","unit","relativeRange","subtract","getEntityFilter","pluck","dateFilter","canViewAssignedActions","NIL_UUID","selectedIndex","listName","currentList","newList","selectMultiple","selectedIds","newLastSelectedIndex","currentSelectedList","newSelectedList","FiltersView","ownerToggle","NoOwnerToggleView","click","shouldShowClinician","shouldShowTeam","shouldShowOwnerToggle","showFilters","showGroupsFilterView","showOwnerFilterView","showOwnerToggleView","_getGroups","groupsFilter","getOwnerFilterOpts","ownerFilterHeadingText","teamsFilterHeadingText","teamsFilterPlaceholderText","ownerFilter","OwnerDroplist","ownerView","allGroupsName","TypeView","FilterTypeView","DateTemplate","MonthTemplate","WeekTemplate","RelativeTemplate","DefaultTemplate","ControllerView","next","getLabelTemplate","selectedEndWeek","getTooltips","tooltipMessages","getTooltipMessages","prevMessage","nextMessage","_getTooltipDayMessage","_getTooltipMonthMessage","_getTooltipWeekMessage","month","week","ts","prevWeek","nextWeek","ActionsView","component","DateRanges","Picklist","onItemSelect","relativeSets","setRelativeDate","setMonth","setWeek","setDate","incrementBackward","incrementForward","DateFilterPickerComponent","getActionsView","onClickToday","onClickCurrentWeek","onClickCurrentMonth","onSelectToday","regionOptions","dateTypes","showPop","collectionOf","dateTypeState","position","getBounds","popView","showRanges","showDateTypes","selectedRange","dateRanges","showDatePicker","datePicker","canSelectMonth","showIn","InputTemplate","SearchView","onClear","onViewClear","onViewWatchChange","searchWords","words","word","ActionTooltipTemplate","ActionEmptyView","showDetailsTooltip","shiftKey","FlowTooltipTemplate","FlowEmptyView","ReadOnlyFlowStateView","readOnlyStateView","toggle","sort","table","title","listHeader","select","userActivityCh","fixWidth","isRendered","headerWidth","width","listWidth","contents","listPadding","parseInt","scrollbarWidth","paddingRight","TypeToggleView","buttons","onClickToggleActions","onClickToggleFlows","ListTitleView","worklistId","underscored","tooltipTemplate","orientation","TableHeaderView","TableHeaderTemplate","EmptyFindInListView","onListItemRender","searchString","searchList","isAttached","children","selectedView","isShiftKeyPressed","findIndexByView","handleClickShiftMultiSelect","minIndex","Math","min","maxIndex","removeFilter","matchers","buildMatchersArray","setFilter","every","test","sortDueOptions","asc","a","b","dueA","dueB","desc","sortPatientOptions","getSortName","sortUpdateOptions","sortCreatedOptions","SortDroplist","sortDroplist","FiltersApp","restartWithParent","bulkEditFlows","BulkEditFlowsApp","onChangeStateSort","setComparator","getComparator","initListState","isRestarting","showListTitle","showTypeToggleView","showSortDroplist","showTableHeaders","showDateFilter","showSearchView","startFiltersApp","filteredCollection","collectionView","filtered","filtersApp","sortOptions","getSortOptions","union","dateFilterComponent","DateFilterComponent","sortSelect","tableHeadersView","typeToggleView","searchComponent","SearchComponent","setSearchState","dateFilters","ScheduleTitleView","DayItemView","isReduced","onClickPatientSidebarButton","DayListView","today","isToday","isSame","childViewContainer","ScheduleListView","isEmpty","setVisibleChildren","onChildFilter","debounce","visibleActions","cv","concat","showScheduleTitle","showScheduleList","changed","groupByDate","FlowApp","PatientApp","ownedBy","WorklistApp","forTeam","newPastDay","pastThree","lastThirty","schedule","ScheduleApp","defaultRoute","defaultWorklist","routeAction","defer","navigateRoute","setLatestList","showPatientsWorklist","isList","showPatient","worklistsById","showSchedule","ReducedScheduleApp","ItemView","sortBy","String","toLowerCase","ClinicianModal","ClinicianModalTemplate","showNameView","showEmailView","clinicianModal","clinicians","_getClinician","disabled_at","showClinicianSidebar","onClickAddClinician","showAddModal","clinicianClone","getClinicianModal","values","cliniciansAll","CliniciansAllApp","showCliniciansAll","dashboardId","dashboardsAll","DashboardsAllApp","showDashboardsAll","showDashboard","viewTriggers","onClickAdd","showDue","isPublished","AddActionDroplist","programId","actionDroplistMenu","onEditItem","_program","_program_flow","SidebarTemplate","startProgramAction","startFlowSidebar","workflows","WorkflowsApp","emptySidebar","editList","currentWorkflow","sidebarView","onEdit","handle","shouldDisable","updateDisabled","shouldDisabled","sortable","option","Sortable","onEnd","onBeforeDestroy","oldIndex","newIndex","movedModel","splice","onClickProgram","programName","SortableList","last","onDragEnd","updateSequences","onChangeId","maintainFlowActions","showProgramSidebar","programActions","onEditProgram","editAction","sequence","programsAll","ProgramsAllApp","ProgramApp","programflow","ProgramFlowApp","showProgramsAll","showProgram","showProgramFlow","SidebarService","NavApp","startPatientsMain","DashboardsMainApp","CliniciansMainApp","ProgramsMainApp","initFormsApp","ReducedPatientsMainApp","PatientsMainApp","formsApp","FormsApp","toggleNav","shouldShow","Handlebars","module","exports","container","depth0","helpers","partials","stack1","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","hooks","helperMissing","nullContext","helper","alias3","alias4","alias5"],"sourceRoot":""}