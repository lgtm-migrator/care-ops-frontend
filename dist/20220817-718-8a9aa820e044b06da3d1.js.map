{"version":3,"file":"20220817-718-8a9aa820e044b06da3d1.js","mappings":"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","sources":["webpack://care-ops-frontend/./node_modules/backbone.marionette/lib/backbone.marionette.esm.js"],"sourcesContent":["import Backbone from 'backbone';\nimport _ from 'underscore';\nimport Radio from 'backbone.radio';\n\nvar version = \"4.1.3\";\n\n//Internal utility for creating context style global utils\nvar proxy = function proxy(method) {\n  return function (context) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return method.apply(context, args);\n  };\n};\n\n// Marionette.extend\n\nvar extend = Backbone.Model.extend;\n\n// ----------------------\n// Pass in a mapping of events => functions or function names\n// and return a mapping of events => functions\n\nvar normalizeMethods = function normalizeMethods(hash) {\n  var _this = this;\n\n  if (!hash) {\n    return;\n  }\n\n  return _.reduce(hash, function (normalizedHash, method, name) {\n    if (!_.isFunction(method)) {\n      method = _this[method];\n    }\n\n    if (method) {\n      normalizedHash[name] = method;\n    }\n\n    return normalizedHash;\n  }, {});\n};\n\n// Error\nvar errorProps = ['description', 'fileName', 'lineNumber', 'name', 'message', 'number', 'url'];\nvar MarionetteError = extend.call(Error, {\n  urlRoot: \"http://marionettejs.com/docs/v\".concat(version, \"/\"),\n  url: '',\n  constructor: function constructor(options) {\n    var error = Error.call(this, options.message);\n\n    _.extend(this, _.pick(error, errorProps), _.pick(options, errorProps));\n\n    if (Error.captureStackTrace) {\n      this.captureStackTrace();\n    }\n\n    this.url = this.urlRoot + this.url;\n  },\n  captureStackTrace: function captureStackTrace() {\n    Error.captureStackTrace(this, MarionetteError);\n  },\n  toString: function toString() {\n    return \"\".concat(this.name, \": \").concat(this.message, \" See: \").concat(this.url);\n  }\n});\n\n// Bind Entity Events & Unbind Entity Events\n\nfunction normalizeBindings(context, bindings) {\n  if (!_.isObject(bindings)) {\n    throw new MarionetteError({\n      message: 'Bindings must be an object.',\n      url: 'common.html#bindevents'\n    });\n  }\n\n  return normalizeMethods.call(context, bindings);\n}\n\nfunction bindEvents(entity, bindings) {\n  if (!entity || !bindings) {\n    return this;\n  }\n\n  this.listenTo(entity, normalizeBindings(this, bindings));\n  return this;\n}\n\nfunction unbindEvents(entity, bindings) {\n  if (!entity) {\n    return this;\n  }\n\n  if (!bindings) {\n    this.stopListening(entity);\n    return this;\n  }\n\n  this.stopListening(entity, normalizeBindings(this, bindings));\n  return this;\n} // Export Public API\n\n// Bind/Unbind Radio Requests\n\nfunction normalizeBindings$1(context, bindings) {\n  if (!_.isObject(bindings)) {\n    throw new MarionetteError({\n      message: 'Bindings must be an object.',\n      url: 'common.html#bindrequests'\n    });\n  }\n\n  return normalizeMethods.call(context, bindings);\n}\n\nfunction bindRequests(channel, bindings) {\n  if (!channel || !bindings) {\n    return this;\n  }\n\n  channel.reply(normalizeBindings$1(this, bindings), this);\n  return this;\n}\n\nfunction unbindRequests(channel, bindings) {\n  if (!channel) {\n    return this;\n  }\n\n  if (!bindings) {\n    channel.stopReplying(null, null, this);\n    return this;\n  }\n\n  channel.stopReplying(normalizeBindings$1(this, bindings), this);\n  return this;\n}\n\n// Marionette.getOption\n// --------------------\n// Retrieve an object, function or other value from the\n// object or its `options`, with `options` taking precedence.\nvar getOption = function getOption(optionName) {\n  if (!optionName) {\n    return;\n  }\n\n  if (this.options && this.options[optionName] !== undefined) {\n    return this.options[optionName];\n  } else {\n    return this[optionName];\n  }\n};\n\nvar mergeOptions = function mergeOptions(options, keys) {\n  var _this = this;\n\n  if (!options) {\n    return;\n  }\n\n  _.each(keys, function (key) {\n    var option = options[key];\n\n    if (option !== undefined) {\n      _this[key] = option;\n    }\n  });\n};\n\n// DOM Refresh\n\nfunction triggerMethodChildren(view, event, shouldTrigger) {\n  if (!view._getImmediateChildren) {\n    return;\n  }\n\n  _.each(view._getImmediateChildren(), function (child) {\n    if (!shouldTrigger(child)) {\n      return;\n    }\n\n    child.triggerMethod(event, child);\n  });\n}\n\nfunction shouldTriggerAttach(view) {\n  return !view._isAttached;\n}\n\nfunction shouldAttach(view) {\n  if (!shouldTriggerAttach(view)) {\n    return false;\n  }\n\n  view._isAttached = true;\n  return true;\n}\n\nfunction shouldTriggerDetach(view) {\n  return view._isAttached;\n}\n\nfunction shouldDetach(view) {\n  view._isAttached = false;\n  return true;\n}\n\nfunction triggerDOMRefresh(view) {\n  if (view._isAttached && view._isRendered) {\n    view.triggerMethod('dom:refresh', view);\n  }\n}\n\nfunction triggerDOMRemove(view) {\n  if (view._isAttached && view._isRendered) {\n    view.triggerMethod('dom:remove', view);\n  }\n}\n\nfunction handleBeforeAttach() {\n  triggerMethodChildren(this, 'before:attach', shouldTriggerAttach);\n}\n\nfunction handleAttach() {\n  triggerMethodChildren(this, 'attach', shouldAttach);\n  triggerDOMRefresh(this);\n}\n\nfunction handleBeforeDetach() {\n  triggerMethodChildren(this, 'before:detach', shouldTriggerDetach);\n  triggerDOMRemove(this);\n}\n\nfunction handleDetach() {\n  triggerMethodChildren(this, 'detach', shouldDetach);\n}\n\nfunction handleBeforeRender() {\n  triggerDOMRemove(this);\n}\n\nfunction handleRender() {\n  triggerDOMRefresh(this);\n} // Monitor a view's state, propagating attach/detach events to children and firing dom:refresh\n// whenever a rendered view is attached or an attached view is rendered.\n\n\nfunction monitorViewEvents(view) {\n  if (view._areViewEventsMonitored || view.monitorViewEvents === false) {\n    return;\n  }\n\n  view._areViewEventsMonitored = true;\n  view.on({\n    'before:attach': handleBeforeAttach,\n    'attach': handleAttach,\n    'before:detach': handleBeforeDetach,\n    'detach': handleDetach,\n    'before:render': handleBeforeRender,\n    'render': handleRender\n  });\n}\n\n// Trigger Method\n\nvar splitter = /(^|:)(\\w)/gi; // Only calc getOnMethodName once\n\nvar methodCache = {}; // take the event section (\"section1:section2:section3\")\n// and turn it in to uppercase name onSection1Section2Section3\n\nfunction getEventName(match, prefix, eventName) {\n  return eventName.toUpperCase();\n}\n\nvar getOnMethodName = function getOnMethodName(event) {\n  if (!methodCache[event]) {\n    methodCache[event] = 'on' + event.replace(splitter, getEventName);\n  }\n\n  return methodCache[event];\n}; // Trigger an event and/or a corresponding method name. Examples:\n//\n// `this.triggerMethod(\"foo\")` will trigger the \"foo\" event and\n// call the \"onFoo\" method.\n//\n// `this.triggerMethod(\"foo:bar\")` will trigger the \"foo:bar\" event and\n// call the \"onFooBar\" method.\n\n\nfunction triggerMethod(event) {\n  // get the method name from the event name\n  var methodName = getOnMethodName(event);\n  var method = getOption.call(this, methodName);\n  var result; // call the onMethodName if it exists\n\n  if (_.isFunction(method)) {\n    // pass all args, except the event name\n    result = method.apply(this, _.drop(arguments));\n  } // trigger the event\n\n\n  this.trigger.apply(this, arguments);\n  return result;\n}\n\nvar Events = {\n  triggerMethod: triggerMethod\n};\n\nvar CommonMixin = {\n  // Imports the \"normalizeMethods\" to transform hashes of\n  // events=>function references/names to a hash of events=>function references\n  normalizeMethods: normalizeMethods,\n  _setOptions: function _setOptions(options, classOptions) {\n    this.options = _.extend({}, _.result(this, 'options'), options);\n    this.mergeOptions(options, classOptions);\n  },\n  // A handy way to merge passed-in options onto the instance\n  mergeOptions: mergeOptions,\n  // Enable getting options from this or this.options by name.\n  getOption: getOption,\n  // Enable binding view's events from another entity.\n  bindEvents: bindEvents,\n  // Enable unbinding view's events from another entity.\n  unbindEvents: unbindEvents,\n  // Enable binding view's requests.\n  bindRequests: bindRequests,\n  // Enable unbinding view's requests.\n  unbindRequests: unbindRequests,\n  triggerMethod: triggerMethod\n};\n\n_.extend(CommonMixin, Backbone.Events);\n\nvar DestroyMixin = {\n  _isDestroyed: false,\n  isDestroyed: function isDestroyed() {\n    return this._isDestroyed;\n  },\n  destroy: function destroy(options) {\n    if (this._isDestroyed) {\n      return this;\n    }\n\n    this.triggerMethod('before:destroy', this, options);\n    this._isDestroyed = true;\n    this.triggerMethod('destroy', this, options);\n    this.stopListening();\n    return this;\n  }\n};\n\n// - channelName\n// - radioEvents\n// - radioRequests\n\nvar RadioMixin = {\n  _initRadio: function _initRadio() {\n    var channelName = _.result(this, 'channelName');\n\n    if (!channelName) {\n      return;\n    }\n    /* istanbul ignore next */\n\n\n    if (!Radio) {\n      throw new MarionetteError({\n        message: 'The dependency \"backbone.radio\" is missing.',\n        url: 'backbone.radio.html#marionette-integration'\n      });\n    }\n\n    var channel = this._channel = Radio.channel(channelName);\n\n    var radioEvents = _.result(this, 'radioEvents');\n\n    this.bindEvents(channel, radioEvents);\n\n    var radioRequests = _.result(this, 'radioRequests');\n\n    this.bindRequests(channel, radioRequests);\n    this.on('destroy', this._destroyRadio);\n  },\n  _destroyRadio: function _destroyRadio() {\n    this._channel.stopReplying(null, null, this);\n  },\n  getChannel: function getChannel() {\n    return this._channel;\n  }\n};\n\n// Object\nvar ClassOptions = ['channelName', 'radioEvents', 'radioRequests']; // Object borrows many conventions and utilities from Backbone.\n\nvar MarionetteObject = function MarionetteObject(options) {\n  this._setOptions(options, ClassOptions);\n\n  this.cid = _.uniqueId(this.cidPrefix);\n\n  this._initRadio();\n\n  this.initialize.apply(this, arguments);\n};\n\nMarionetteObject.extend = extend; // Object Methods\n// --------------\n\n_.extend(MarionetteObject.prototype, CommonMixin, DestroyMixin, RadioMixin, {\n  cidPrefix: 'mno',\n  // This is a noop method intended to be overridden\n  initialize: function initialize() {}\n});\n\n// Implementation of the invoke method (http://underscorejs.org/#invoke) with support for\nvar _invoke = _.invokeMap || _.invoke;\n\n// - behaviors\n// Takes care of getting the behavior class\n// given options and a key.\n// If a user passes in options.behaviorClass\n// default to using that.\n// If a user passes in a Behavior Class directly, use that\n// Otherwise an error is thrown\n\nfunction getBehaviorClass(options) {\n  if (options.behaviorClass) {\n    return {\n      BehaviorClass: options.behaviorClass,\n      options: options\n    };\n  } //treat functions as a Behavior constructor\n\n\n  if (_.isFunction(options)) {\n    return {\n      BehaviorClass: options,\n      options: {}\n    };\n  }\n\n  throw new MarionetteError({\n    message: 'Unable to get behavior class. A Behavior constructor should be passed directly or as behaviorClass property of options',\n    url: 'marionette.behavior.html#defining-and-attaching-behaviors'\n  });\n} // Iterate over the behaviors object, for each behavior\n// instantiate it and get its grouped behaviors.\n// This accepts a list of behaviors in either an object or array form\n\n\nfunction parseBehaviors(view, behaviors, allBehaviors) {\n  return _.reduce(behaviors, function (reducedBehaviors, behaviorDefiniton) {\n    var _getBehaviorClass = getBehaviorClass(behaviorDefiniton),\n        BehaviorClass = _getBehaviorClass.BehaviorClass,\n        options = _getBehaviorClass.options;\n\n    var behavior = new BehaviorClass(options, view);\n    reducedBehaviors.push(behavior);\n    return parseBehaviors(view, _.result(behavior, 'behaviors'), reducedBehaviors);\n  }, allBehaviors);\n}\n\nvar BehaviorsMixin = {\n  _initBehaviors: function _initBehaviors() {\n    this._behaviors = parseBehaviors(this, _.result(this, 'behaviors'), []);\n  },\n  _getBehaviorTriggers: function _getBehaviorTriggers() {\n    var triggers = _invoke(this._behaviors, '_getTriggers');\n\n    return _.reduce(triggers, function (memo, _triggers) {\n      return _.extend(memo, _triggers);\n    }, {});\n  },\n  _getBehaviorEvents: function _getBehaviorEvents() {\n    var events = _invoke(this._behaviors, '_getEvents');\n\n    return _.reduce(events, function (memo, _events) {\n      return _.extend(memo, _events);\n    }, {});\n  },\n  // proxy behavior $el to the view's $el.\n  _proxyBehaviorViewProperties: function _proxyBehaviorViewProperties() {\n    _invoke(this._behaviors, 'proxyViewProperties');\n  },\n  // delegate modelEvents and collectionEvents\n  _delegateBehaviorEntityEvents: function _delegateBehaviorEntityEvents() {\n    _invoke(this._behaviors, 'delegateEntityEvents');\n  },\n  // undelegate modelEvents and collectionEvents\n  _undelegateBehaviorEntityEvents: function _undelegateBehaviorEntityEvents() {\n    _invoke(this._behaviors, 'undelegateEntityEvents');\n  },\n  _destroyBehaviors: function _destroyBehaviors(options) {\n    // Call destroy on each behavior after\n    // destroying the view.\n    // This unbinds event listeners\n    // that behaviors have registered for.\n    _invoke(this._behaviors, 'destroy', options);\n  },\n  // Remove a behavior\n  _removeBehavior: function _removeBehavior(behavior) {\n    // Don't worry about the clean up if the view is destroyed\n    if (this._isDestroyed) {\n      return;\n    } // Remove behavior-only triggers and events\n\n\n    this.undelegate(\".trig\".concat(behavior.cid, \" .\").concat(behavior.cid));\n    this._behaviors = _.without(this._behaviors, behavior);\n  },\n  _bindBehaviorUIElements: function _bindBehaviorUIElements() {\n    _invoke(this._behaviors, 'bindUIElements');\n  },\n  _unbindBehaviorUIElements: function _unbindBehaviorUIElements() {\n    _invoke(this._behaviors, 'unbindUIElements');\n  },\n  _triggerEventOnBehaviors: function _triggerEventOnBehaviors(eventName, view, options) {\n    _invoke(this._behaviors, 'triggerMethod', eventName, view, options);\n  }\n};\n\n// - collectionEvents\n// - modelEvents\n\nvar DelegateEntityEventsMixin = {\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  _delegateEntityEvents: function _delegateEntityEvents(model, collection) {\n    if (model) {\n      this._modelEvents = _.result(this, 'modelEvents');\n      this.bindEvents(model, this._modelEvents);\n    }\n\n    if (collection) {\n      this._collectionEvents = _.result(this, 'collectionEvents');\n      this.bindEvents(collection, this._collectionEvents);\n    }\n  },\n  // Remove any previously delegate entity events\n  _undelegateEntityEvents: function _undelegateEntityEvents(model, collection) {\n    if (this._modelEvents) {\n      this.unbindEvents(model, this._modelEvents);\n      delete this._modelEvents;\n    }\n\n    if (this._collectionEvents) {\n      this.unbindEvents(collection, this._collectionEvents);\n      delete this._collectionEvents;\n    }\n  },\n  // Remove cached event handlers\n  _deleteEntityEventHandlers: function _deleteEntityEventHandlers() {\n    delete this._modelEvents;\n    delete this._collectionEvents;\n  }\n};\n\n// - template\n// - templateContext\n\nvar TemplateRenderMixin = {\n  // Internal method to render the template with the serialized data\n  // and template context\n  _renderTemplate: function _renderTemplate(template) {\n    // Add in entity data and template context\n    var data = this.mixinTemplateContext(this.serializeData()) || {}; // Render and add to el\n\n    var html = this._renderHtml(template, data);\n\n    if (typeof html !== 'undefined') {\n      this.attachElContent(html);\n    }\n  },\n  // Get the template for this view instance.\n  // You can set a `template` attribute in the view definition\n  // or pass a `template: TemplateFunction` parameter in\n  // to the constructor options.\n  getTemplate: function getTemplate() {\n    return this.template;\n  },\n  // Mix in template context methods. Looks for a\n  // `templateContext` attribute, which can either be an\n  // object literal, or a function that returns an object\n  // literal. All methods and attributes from this object\n  // are copies to the object passed in.\n  mixinTemplateContext: function mixinTemplateContext(serializedData) {\n    var templateContext = _.result(this, 'templateContext');\n\n    if (!templateContext) {\n      return serializedData;\n    }\n\n    if (!serializedData) {\n      return templateContext;\n    }\n\n    return _.extend({}, serializedData, templateContext);\n  },\n  // Serialize the view's model *or* collection, if\n  // it exists, for the template\n  serializeData: function serializeData() {\n    // If we have a model, we serialize that\n    if (this.model) {\n      return this.serializeModel();\n    } // Otherwise, we serialize the collection,\n    // making it available under the `items` property\n\n\n    if (this.collection) {\n      return {\n        items: this.serializeCollection()\n      };\n    }\n  },\n  // Prepares the special `model` property of a view\n  // for being displayed in the template. Override this if\n  // you need a custom transformation for your view's model\n  serializeModel: function serializeModel() {\n    return this.model.attributes;\n  },\n  // Serialize a collection\n  serializeCollection: function serializeCollection() {\n    return _.map(this.collection.models, function (model) {\n      return model.attributes;\n    });\n  },\n  // Renders the data into the template\n  _renderHtml: function _renderHtml(template, data) {\n    return template(data);\n  },\n  // Attaches the content of a given view.\n  // This method can be overridden to optimize rendering,\n  // or to render in a non standard way.\n  //\n  // For example, using `innerHTML` instead of `$el.html`\n  //\n  // ```js\n  // attachElContent(html) {\n  //   this.el.innerHTML = html;\n  // }\n  // ```\n  attachElContent: function attachElContent(html) {\n    this.Dom.setContents(this.el, html, this.$el);\n  }\n};\n\n// Borrow event splitter from Backbone\nvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/; // Set event name to be namespaced using a unique index\n// to generate a non colliding event namespace\n// http://api.jquery.com/event.namespace/\n\nvar getNamespacedEventName = function getNamespacedEventName(eventName, namespace) {\n  var match = eventName.match(delegateEventSplitter);\n  return \"\".concat(match[1], \".\").concat(namespace, \" \").concat(match[2]);\n};\n\n// Add Feature flags here\n// e.g. 'class' => false\nvar FEATURES = {\n  childViewEventPrefix: false,\n  triggersStopPropagation: true,\n  triggersPreventDefault: true,\n  DEV_MODE: false\n};\n\nfunction isEnabled(name) {\n  return !!FEATURES[name];\n}\n\nfunction setEnabled(name, state) {\n  return FEATURES[name] = state;\n}\n\n// 'click:foo'\n\nfunction buildViewTrigger(view, triggerDef) {\n  if (_.isString(triggerDef)) {\n    triggerDef = {\n      event: triggerDef\n    };\n  }\n\n  var eventName = triggerDef.event;\n  var shouldPreventDefault = !!triggerDef.preventDefault;\n\n  if (isEnabled('triggersPreventDefault')) {\n    shouldPreventDefault = triggerDef.preventDefault !== false;\n  }\n\n  var shouldStopPropagation = !!triggerDef.stopPropagation;\n\n  if (isEnabled('triggersStopPropagation')) {\n    shouldStopPropagation = triggerDef.stopPropagation !== false;\n  }\n\n  return function (event) {\n    if (shouldPreventDefault) {\n      event.preventDefault();\n    }\n\n    if (shouldStopPropagation) {\n      event.stopPropagation();\n    }\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    view.triggerMethod.apply(view, [eventName, view, event].concat(args));\n  };\n}\n\nvar TriggersMixin = {\n  // Configure `triggers` to forward DOM events to view\n  // events. `triggers: {\"click .foo\": \"do:foo\"}`\n  _getViewTriggers: function _getViewTriggers(view, triggers) {\n    var _this = this;\n\n    // Configure the triggers, prevent default\n    // action and stop propagation of DOM events\n    return _.reduce(triggers, function (events, value, key) {\n      key = getNamespacedEventName(key, \"trig\".concat(_this.cid));\n      events[key] = buildViewTrigger(view, value);\n      return events;\n    }, {});\n  }\n};\n\n// a given key for triggers and events\n// swaps the @ui with the associated selector.\n// Returns a new, non-mutated, parsed events hash.\n\nvar _normalizeUIKeys = function normalizeUIKeys(hash, ui) {\n  return _.reduce(hash, function (memo, val, key) {\n    var normalizedKey = _normalizeUIString(key, ui);\n\n    memo[normalizedKey] = val;\n    return memo;\n  }, {});\n};\n\nvar uiRegEx = /@ui\\.[a-zA-Z-_$0-9]*/g; // utility method for parsing @ui. syntax strings\n// into associated selector\n\nvar _normalizeUIString = function normalizeUIString(uiString, ui) {\n  return uiString.replace(uiRegEx, function (r) {\n    return ui[r.slice(4)];\n  });\n}; // allows for the use of the @ui. syntax within\n// a given value for regions\n// swaps the @ui with the associated selector\n\n\nvar _normalizeUIValues = function normalizeUIValues(hash, ui, property) {\n  _.each(hash, function (val, key) {\n    if (_.isString(val)) {\n      hash[key] = _normalizeUIString(val, ui);\n    } else if (val) {\n      var propertyVal = val[property];\n\n      if (_.isString(propertyVal)) {\n        val[property] = _normalizeUIString(propertyVal, ui);\n      }\n    }\n  });\n\n  return hash;\n};\n\nvar UIMixin = {\n  // normalize the keys of passed hash with the views `ui` selectors.\n  // `{\"@ui.foo\": \"bar\"}`\n  normalizeUIKeys: function normalizeUIKeys(hash) {\n    var uiBindings = this._getUIBindings();\n\n    return _normalizeUIKeys(hash, uiBindings);\n  },\n  // normalize the passed string with the views `ui` selectors.\n  // `\"@ui.bar\"`\n  normalizeUIString: function normalizeUIString(uiString) {\n    var uiBindings = this._getUIBindings();\n\n    return _normalizeUIString(uiString, uiBindings);\n  },\n  // normalize the values of passed hash with the views `ui` selectors.\n  // `{foo: \"@ui.bar\"}`\n  normalizeUIValues: function normalizeUIValues(hash, property) {\n    var uiBindings = this._getUIBindings();\n\n    return _normalizeUIValues(hash, uiBindings, property);\n  },\n  _getUIBindings: function _getUIBindings() {\n    var uiBindings = _.result(this, '_uiBindings');\n\n    return uiBindings || _.result(this, 'ui');\n  },\n  // This method binds the elements specified in the \"ui\" hash inside the view's code with\n  // the associated jQuery selectors.\n  _bindUIElements: function _bindUIElements() {\n    var _this = this;\n\n    if (!this.ui) {\n      return;\n    } // store the ui hash in _uiBindings so they can be reset later\n    // and so re-rendering the view will be able to find the bindings\n\n\n    if (!this._uiBindings) {\n      this._uiBindings = this.ui;\n    } // get the bindings result, as a function or otherwise\n\n\n    var bindings = _.result(this, '_uiBindings'); // empty the ui so we don't have anything to start with\n\n\n    this._ui = {}; // bind each of the selectors\n\n    _.each(bindings, function (selector, key) {\n      _this._ui[key] = _this.$(selector);\n    });\n\n    this.ui = this._ui;\n  },\n  _unbindUIElements: function _unbindUIElements() {\n    var _this2 = this;\n\n    if (!this.ui || !this._uiBindings) {\n      return;\n    } // delete all of the existing ui bindings\n\n\n    _.each(this.ui, function ($el, name) {\n      delete _this2.ui[name];\n    }); // reset the ui element to the original bindings configuration\n\n\n    this.ui = this._uiBindings;\n    delete this._uiBindings;\n    delete this._ui;\n  },\n  _getUI: function _getUI(name) {\n    return this._ui[name];\n  }\n};\n\n// DomApi\n\nfunction _getEl(el) {\n  return el instanceof Backbone.$ ? el : Backbone.$(el);\n} // Static setter\n\n\nfunction setDomApi(mixin) {\n  this.prototype.Dom = _.extend({}, this.prototype.Dom, mixin);\n  return this;\n}\nvar DomApi = {\n  // Returns a new HTML DOM node instance\n  createBuffer: function createBuffer() {\n    return document.createDocumentFragment();\n  },\n  // Returns the document element for a given DOM element\n  getDocumentEl: function getDocumentEl(el) {\n    return el.ownerDocument.documentElement;\n  },\n  // Lookup the `selector` string\n  // Selector may also be a DOM element\n  // Returns an array-like object of nodes\n  getEl: function getEl(selector) {\n    return _getEl(selector);\n  },\n  // Finds the `selector` string with the el\n  // Returns an array-like object of nodes\n  findEl: function findEl(el, selector) {\n    return _getEl(el).find(selector);\n  },\n  // Returns true if the el contains the node childEl\n  hasEl: function hasEl(el, childEl) {\n    return el.contains(childEl && childEl.parentNode);\n  },\n  // Detach `el` from the DOM without removing listeners\n  detachEl: function detachEl(el) {\n    var _$el = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _getEl(el);\n\n    _$el.detach();\n  },\n  // Remove `oldEl` from the DOM and put `newEl` in its place\n  replaceEl: function replaceEl(newEl, oldEl) {\n    if (newEl === oldEl) {\n      return;\n    }\n\n    var parent = oldEl.parentNode;\n\n    if (!parent) {\n      return;\n    }\n\n    parent.replaceChild(newEl, oldEl);\n  },\n  // Swaps the location of `el1` and `el2` in the DOM\n  swapEl: function swapEl(el1, el2) {\n    if (el1 === el2) {\n      return;\n    }\n\n    var parent1 = el1.parentNode;\n    var parent2 = el2.parentNode;\n\n    if (!parent1 || !parent2) {\n      return;\n    }\n\n    var next1 = el1.nextSibling;\n    var next2 = el2.nextSibling;\n    parent1.insertBefore(el2, next1);\n    parent2.insertBefore(el1, next2);\n  },\n  // Replace the contents of `el` with the HTML string of `html`\n  setContents: function setContents(el, html) {\n    var _$el = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _getEl(el);\n\n    _$el.html(html);\n  },\n  // Takes the DOM node `el` and appends the DOM node `contents`\n  // to the end of the element's contents.\n  appendContents: function appendContents(el, contents) {\n    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref$_$el = _ref._$el,\n        _$el = _ref$_$el === void 0 ? _getEl(el) : _ref$_$el,\n        _ref$_$contents = _ref._$contents,\n        _$contents = _ref$_$contents === void 0 ? _getEl(contents) : _ref$_$contents;\n\n    _$el.append(_$contents);\n  },\n  // Does the el have child nodes\n  hasContents: function hasContents(el) {\n    return !!el && el.hasChildNodes();\n  },\n  // Remove the inner contents of `el` from the DOM while leaving\n  // `el` itself in the DOM.\n  detachContents: function detachContents(el) {\n    var _$el = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _getEl(el);\n\n    _$el.contents().detach();\n  }\n};\n\n// ViewMixin\n// - behaviors\n// - childViewEventPrefix\n// - childViewEvents\n// - childViewTriggers\n// - collectionEvents\n// - modelEvents\n// - triggers\n// - ui\n\nvar ViewMixin = {\n  Dom: DomApi,\n  _isElAttached: function _isElAttached() {\n    return !!this.el && this.Dom.hasEl(this.Dom.getDocumentEl(this.el), this.el);\n  },\n  supportsRenderLifecycle: true,\n  supportsDestroyLifecycle: true,\n  _isDestroyed: false,\n  isDestroyed: function isDestroyed() {\n    return !!this._isDestroyed;\n  },\n  _isRendered: false,\n  isRendered: function isRendered() {\n    return !!this._isRendered;\n  },\n  _isAttached: false,\n  isAttached: function isAttached() {\n    return !!this._isAttached;\n  },\n  // Overriding Backbone.View's `delegateEvents` to handle\n  // `events` and `triggers`\n  delegateEvents: function delegateEvents(events) {\n    this._proxyBehaviorViewProperties();\n\n    this._buildEventProxies();\n\n    var combinedEvents = _.extend({}, this._getBehaviorEvents(), this._getEvents(events), this._getBehaviorTriggers(), this._getTriggers());\n\n    Backbone.View.prototype.delegateEvents.call(this, combinedEvents);\n    return this;\n  },\n  // Allows Backbone.View events to utilize `@ui.` selectors\n  _getEvents: function _getEvents(events) {\n    if (events) {\n      return this.normalizeUIKeys(events);\n    }\n\n    if (!this.events) {\n      return;\n    }\n\n    return this.normalizeUIKeys(_.result(this, 'events'));\n  },\n  // Configure `triggers` to forward DOM events to view\n  // events. `triggers: {\"click .foo\": \"do:foo\"}`\n  _getTriggers: function _getTriggers() {\n    if (!this.triggers) {\n      return;\n    } // Allow `triggers` to be configured as a function\n\n\n    var triggers = this.normalizeUIKeys(_.result(this, 'triggers')); // Configure the triggers, prevent default\n    // action and stop propagation of DOM events\n\n    return this._getViewTriggers(this, triggers);\n  },\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  delegateEntityEvents: function delegateEntityEvents() {\n    this._delegateEntityEvents(this.model, this.collection); // bind each behaviors model and collection events\n\n\n    this._delegateBehaviorEntityEvents();\n\n    return this;\n  },\n  // Handle unbinding `modelEvents`, and `collectionEvents` configuration\n  undelegateEntityEvents: function undelegateEntityEvents() {\n    this._undelegateEntityEvents(this.model, this.collection); // unbind each behaviors model and collection events\n\n\n    this._undelegateBehaviorEntityEvents();\n\n    return this;\n  },\n  // Handle destroying the view and its children.\n  destroy: function destroy(options) {\n    if (this._isDestroyed || this._isDestroying) {\n      return this;\n    }\n\n    this._isDestroying = true;\n    var shouldTriggerDetach = this._isAttached && !this._disableDetachEvents;\n    this.triggerMethod('before:destroy', this, options);\n\n    if (shouldTriggerDetach) {\n      this.triggerMethod('before:detach', this);\n    } // unbind UI elements\n\n\n    this.unbindUIElements(); // remove the view from the DOM\n\n    this._removeElement();\n\n    if (shouldTriggerDetach) {\n      this._isAttached = false;\n      this.triggerMethod('detach', this);\n    } // remove children after the remove to prevent extra paints\n\n\n    this._removeChildren();\n\n    this._isDestroyed = true;\n    this._isRendered = false; // Destroy behaviors after _isDestroyed flag\n\n    this._destroyBehaviors(options);\n\n    this._deleteEntityEventHandlers();\n\n    this.triggerMethod('destroy', this, options);\n\n    this._triggerEventOnBehaviors('destroy', this, options);\n\n    this.stopListening();\n    return this;\n  },\n  // Equates to this.$el.remove\n  _removeElement: function _removeElement() {\n    this.$el.off().removeData();\n    this.Dom.detachEl(this.el, this.$el);\n  },\n  // This method binds the elements specified in the \"ui\" hash\n  bindUIElements: function bindUIElements() {\n    this._bindUIElements();\n\n    this._bindBehaviorUIElements();\n\n    return this;\n  },\n  // This method unbinds the elements specified in the \"ui\" hash\n  unbindUIElements: function unbindUIElements() {\n    this._unbindUIElements();\n\n    this._unbindBehaviorUIElements();\n\n    return this;\n  },\n  getUI: function getUI(name) {\n    return this._getUI(name);\n  },\n  // Cache `childViewEvents` and `childViewTriggers`\n  _buildEventProxies: function _buildEventProxies() {\n    this._childViewEvents = this.normalizeMethods(_.result(this, 'childViewEvents'));\n    this._childViewTriggers = _.result(this, 'childViewTriggers');\n    this._eventPrefix = this._getEventPrefix();\n  },\n  _getEventPrefix: function _getEventPrefix() {\n    var defaultPrefix = isEnabled('childViewEventPrefix') ? 'childview' : false;\n\n    var prefix = _.result(this, 'childViewEventPrefix', defaultPrefix);\n\n    return prefix === false ? prefix : prefix + ':';\n  },\n  _proxyChildViewEvents: function _proxyChildViewEvents(view) {\n    if (this._childViewEvents || this._childViewTriggers || this._eventPrefix) {\n      this.listenTo(view, 'all', this._childViewEventHandler);\n    }\n  },\n  _childViewEventHandler: function _childViewEventHandler(eventName) {\n    var childViewEvents = this._childViewEvents; // call collectionView childViewEvent if defined\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (childViewEvents && childViewEvents[eventName]) {\n      childViewEvents[eventName].apply(this, args);\n    } // use the parent view's proxyEvent handlers\n\n\n    var childViewTriggers = this._childViewTriggers; // Call the event with the proxy name on the parent layout\n\n    if (childViewTriggers && childViewTriggers[eventName]) {\n      this.triggerMethod.apply(this, [childViewTriggers[eventName]].concat(args));\n    }\n\n    if (this._eventPrefix) {\n      this.triggerMethod.apply(this, [this._eventPrefix + eventName].concat(args));\n    }\n  }\n};\n\n_.extend(ViewMixin, BehaviorsMixin, CommonMixin, DelegateEntityEventsMixin, TemplateRenderMixin, TriggersMixin, UIMixin);\n\nfunction renderView(view) {\n  if (view._isRendered) {\n    return;\n  }\n\n  if (!view.supportsRenderLifecycle) {\n    view.triggerMethod('before:render', view);\n  }\n\n  view.render();\n  view._isRendered = true;\n\n  if (!view.supportsRenderLifecycle) {\n    view.triggerMethod('render', view);\n  }\n}\nfunction destroyView(view, disableDetachEvents) {\n  if (view.destroy) {\n    // Attach flag for public destroy function internal check\n    view._disableDetachEvents = disableDetachEvents;\n    view.destroy();\n    return;\n  } // Destroy for non-Marionette Views\n\n\n  if (!view.supportsDestroyLifecycle) {\n    view.triggerMethod('before:destroy', view);\n  }\n\n  var shouldTriggerDetach = view._isAttached && !disableDetachEvents;\n\n  if (shouldTriggerDetach) {\n    view.triggerMethod('before:detach', view);\n  }\n\n  view.remove();\n\n  if (shouldTriggerDetach) {\n    view._isAttached = false;\n    view.triggerMethod('detach', view);\n  }\n\n  view._isDestroyed = true;\n\n  if (!view.supportsDestroyLifecycle) {\n    view.triggerMethod('destroy', view);\n  }\n}\n\n// Region\nvar classErrorName = 'RegionError';\nvar ClassOptions$1 = ['allowMissingEl', 'parentEl', 'replaceElement'];\n\nvar Region = function Region(options) {\n  this._setOptions(options, ClassOptions$1);\n\n  this.cid = _.uniqueId(this.cidPrefix); // getOption necessary because options.el may be passed as undefined\n\n  this._initEl = this.el = this.getOption('el'); // Handle when this.el is passed in as a $ wrapped element.\n\n  this.el = this.el instanceof Backbone.$ ? this.el[0] : this.el;\n  this.$el = this._getEl(this.el);\n  this.initialize.apply(this, arguments);\n};\n\nRegion.extend = extend;\nRegion.setDomApi = setDomApi; // Region Methods\n// --------------\n\n_.extend(Region.prototype, CommonMixin, {\n  Dom: DomApi,\n  cidPrefix: 'mnr',\n  replaceElement: false,\n  _isReplaced: false,\n  _isSwappingView: false,\n  // This is a noop method intended to be overridden\n  initialize: function initialize() {},\n  // Displays a view instance inside of the region. If necessary handles calling the `render`\n  // method for you. Reads content directly from the `el` attribute.\n  show: function show(view, options) {\n    if (!this._ensureElement(options)) {\n      return;\n    }\n\n    view = this._getView(view, options);\n\n    if (view === this.currentView) {\n      return this;\n    }\n\n    if (view._isShown) {\n      throw new MarionetteError({\n        name: classErrorName,\n        message: 'View is already shown in a Region or CollectionView',\n        url: 'marionette.region.html#showing-a-view'\n      });\n    }\n\n    this._isSwappingView = !!this.currentView;\n    this.triggerMethod('before:show', this, view, options); // Assume an attached view is already in the region for pre-existing DOM\n\n    if (this.currentView || !view._isAttached) {\n      this.empty(options);\n    }\n\n    this._setupChildView(view);\n\n    this.currentView = view;\n    renderView(view);\n\n    this._attachView(view, options);\n\n    this.triggerMethod('show', this, view, options);\n    this._isSwappingView = false;\n    return this;\n  },\n  _getEl: function _getEl(el) {\n    if (!el) {\n      throw new MarionetteError({\n        name: classErrorName,\n        message: 'An \"el\" must be specified for a region.',\n        url: 'marionette.region.html#additional-options'\n      });\n    }\n\n    return this.getEl(el);\n  },\n  _setEl: function _setEl() {\n    this.$el = this._getEl(this.el);\n\n    if (this.$el.length) {\n      this.el = this.$el[0];\n    } // Make sure the $el contains only the el\n\n\n    if (this.$el.length > 1) {\n      this.$el = this.Dom.getEl(this.el);\n    }\n  },\n  // Set the `el` of the region and move any current view to the new `el`.\n  _setElement: function _setElement(el) {\n    if (el === this.el) {\n      return this;\n    }\n\n    var shouldReplace = this._isReplaced;\n\n    this._restoreEl();\n\n    this.el = el;\n\n    this._setEl();\n\n    if (this.currentView) {\n      var view = this.currentView;\n\n      if (shouldReplace) {\n        this._replaceEl(view);\n      } else {\n        this.attachHtml(view);\n      }\n    }\n\n    return this;\n  },\n  _setupChildView: function _setupChildView(view) {\n    monitorViewEvents(view);\n\n    this._proxyChildViewEvents(view); // We need to listen for if a view is destroyed in a way other than through the region.\n    // If this happens we need to remove the reference to the currentView since once a view\n    // has been destroyed we can not reuse it.\n\n\n    view.on('destroy', this._empty, this);\n  },\n  _proxyChildViewEvents: function _proxyChildViewEvents(view) {\n    var parentView = this._parentView;\n\n    if (!parentView) {\n      return;\n    }\n\n    parentView._proxyChildViewEvents(view);\n  },\n  // If the regions parent view is not monitoring its attach/detach events\n  _shouldDisableMonitoring: function _shouldDisableMonitoring() {\n    return this._parentView && this._parentView.monitorViewEvents === false;\n  },\n  _isElAttached: function _isElAttached() {\n    return this.Dom.hasEl(this.Dom.getDocumentEl(this.el), this.el);\n  },\n  _attachView: function _attachView(view) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        replaceElement = _ref.replaceElement;\n\n    var shouldTriggerAttach = !view._isAttached && this._isElAttached() && !this._shouldDisableMonitoring();\n    var shouldReplaceEl = typeof replaceElement === 'undefined' ? !!_.result(this, 'replaceElement') : !!replaceElement;\n\n    if (shouldTriggerAttach) {\n      view.triggerMethod('before:attach', view);\n    }\n\n    if (shouldReplaceEl) {\n      this._replaceEl(view);\n    } else {\n      this.attachHtml(view);\n    }\n\n    if (shouldTriggerAttach) {\n      view._isAttached = true;\n      view.triggerMethod('attach', view);\n    } // Corresponds that view is shown in a marionette Region or CollectionView\n\n\n    view._isShown = true;\n  },\n  _ensureElement: function _ensureElement() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!_.isObject(this.el)) {\n      this._setEl();\n    }\n\n    if (!this.$el || this.$el.length === 0) {\n      var allowMissingEl = typeof options.allowMissingEl === 'undefined' ? !!_.result(this, 'allowMissingEl') : !!options.allowMissingEl;\n\n      if (allowMissingEl) {\n        return false;\n      } else {\n        throw new MarionetteError({\n          name: classErrorName,\n          message: \"An \\\"el\\\" must exist in DOM for this region \".concat(this.cid),\n          url: 'marionette.region.html#additional-options'\n        });\n      }\n    }\n\n    return true;\n  },\n  _getView: function _getView(view) {\n    if (!view) {\n      throw new MarionetteError({\n        name: classErrorName,\n        message: 'The view passed is undefined and therefore invalid. You must pass a view instance to show.',\n        url: 'marionette.region.html#showing-a-view'\n      });\n    }\n\n    if (view._isDestroyed) {\n      throw new MarionetteError({\n        name: classErrorName,\n        message: \"View (cid: \\\"\".concat(view.cid, \"\\\") has already been destroyed and cannot be used.\"),\n        url: 'marionette.region.html#showing-a-view'\n      });\n    }\n\n    if (view instanceof Backbone.View) {\n      return view;\n    }\n\n    var viewOptions = this._getViewOptions(view);\n\n    return new View(viewOptions);\n  },\n  // This allows for a template or a static string to be\n  // used as a template\n  _getViewOptions: function _getViewOptions(viewOptions) {\n    if (_.isFunction(viewOptions)) {\n      return {\n        template: viewOptions\n      };\n    }\n\n    if (_.isObject(viewOptions)) {\n      return viewOptions;\n    }\n\n    var template = function template() {\n      return viewOptions;\n    };\n\n    return {\n      template: template\n    };\n  },\n  // Override this method to change how the region finds the DOM element that it manages. Return\n  // a jQuery selector object scoped to a provided parent el or the document if none exists.\n  getEl: function getEl(el) {\n    var context = _.result(this, 'parentEl');\n\n    if (context && _.isString(el)) {\n      return this.Dom.findEl(context, el);\n    }\n\n    return this.Dom.getEl(el);\n  },\n  _replaceEl: function _replaceEl(view) {\n    // Always restore the el to ensure the regions el is present before replacing\n    this._restoreEl();\n\n    view.on('before:destroy', this._restoreEl, this);\n    this.Dom.replaceEl(view.el, this.el);\n    this._isReplaced = true;\n  },\n  // Restore the region's element in the DOM.\n  _restoreEl: function _restoreEl() {\n    // There is nothing to replace\n    if (!this._isReplaced) {\n      return;\n    }\n\n    var view = this.currentView;\n\n    if (!view) {\n      return;\n    }\n\n    this._detachView(view);\n\n    this._isReplaced = false;\n  },\n  // Check to see if the region's el was replaced.\n  isReplaced: function isReplaced() {\n    return !!this._isReplaced;\n  },\n  // Check to see if a view is being swapped by another\n  isSwappingView: function isSwappingView() {\n    return !!this._isSwappingView;\n  },\n  // Override this method to change how the new view is appended to the `$el` that the\n  // region is managing\n  attachHtml: function attachHtml(view) {\n    this.Dom.appendContents(this.el, view.el, {\n      _$el: this.$el,\n      _$contents: view.$el\n    });\n  },\n  // Destroy the current view, if there is one. If there is no current view,\n  // it will detach any html inside the region's `el`.\n  empty: function empty() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      allowMissingEl: true\n    };\n    var view = this.currentView; // If there is no view in the region we should only detach current html\n\n    if (!view) {\n      if (this._ensureElement(options)) {\n        this.detachHtml();\n      }\n\n      return this;\n    }\n\n    this._empty(view, true);\n\n    return this;\n  },\n  _empty: function _empty(view, shouldDestroy) {\n    view.off('destroy', this._empty, this);\n    this.triggerMethod('before:empty', this, view);\n\n    this._restoreEl();\n\n    delete this.currentView;\n\n    if (!view._isDestroyed) {\n      if (shouldDestroy) {\n        this.removeView(view);\n      } else {\n        this._detachView(view);\n      }\n\n      view._isShown = false;\n\n      this._stopChildViewEvents(view);\n    }\n\n    this.triggerMethod('empty', this, view);\n  },\n  _stopChildViewEvents: function _stopChildViewEvents(view) {\n    var parentView = this._parentView;\n\n    if (!parentView) {\n      return;\n    }\n\n    this._parentView.stopListening(view);\n  },\n  // Non-Marionette safe view.destroy\n  destroyView: function destroyView$1(view) {\n    if (view._isDestroyed) {\n      return view;\n    }\n\n    destroyView(view, this._shouldDisableMonitoring());\n\n    return view;\n  },\n  // Override this method to determine what happens when the view\n  // is removed from the region when the view is not being detached\n  removeView: function removeView(view) {\n    this.destroyView(view);\n  },\n  // Empties the Region without destroying the view\n  // Returns the detached view\n  detachView: function detachView() {\n    var view = this.currentView;\n\n    if (!view) {\n      return;\n    }\n\n    this._empty(view);\n\n    return view;\n  },\n  _detachView: function _detachView(view) {\n    var shouldTriggerDetach = view._isAttached && !this._shouldDisableMonitoring();\n    var shouldRestoreEl = this._isReplaced;\n\n    if (shouldTriggerDetach) {\n      view.triggerMethod('before:detach', view);\n    }\n\n    if (shouldRestoreEl) {\n      this.Dom.replaceEl(this.el, view.el);\n    } else {\n      this.detachHtml();\n    }\n\n    if (shouldTriggerDetach) {\n      view._isAttached = false;\n      view.triggerMethod('detach', view);\n    }\n  },\n  // Override this method to change how the region detaches current content\n  detachHtml: function detachHtml() {\n    this.Dom.detachContents(this.el, this.$el);\n  },\n  // Checks whether a view is currently present within the region. Returns `true` if there is\n  // and `false` if no view is present.\n  hasView: function hasView() {\n    return !!this.currentView;\n  },\n  // Reset the region by destroying any existing view and clearing out the cached `$el`.\n  // The next time a view is shown via this region, the region will re-query the DOM for\n  // the region's `el`.\n  reset: function reset(options) {\n    this.empty(options);\n    this.el = this._initEl;\n    delete this.$el;\n    return this;\n  },\n  _isDestroyed: false,\n  isDestroyed: function isDestroyed() {\n    return this._isDestroyed;\n  },\n  // Destroy the region, remove any child view\n  // and remove the region from any associated view\n  destroy: function destroy(options) {\n    if (this._isDestroyed) {\n      return this;\n    }\n\n    this.triggerMethod('before:destroy', this, options);\n    this._isDestroyed = true;\n    this.reset(options);\n\n    if (this._name) {\n      this._parentView._removeReferences(this._name);\n    }\n\n    delete this._parentView;\n    delete this._name;\n    this.triggerMethod('destroy', this, options);\n    this.stopListening();\n    return this;\n  }\n});\n\nfunction buildRegion (definition, defaults) {\n  if (definition instanceof Region) {\n    return definition;\n  }\n\n  if (_.isString(definition)) {\n    return buildRegionFromObject(defaults, {\n      el: definition\n    });\n  }\n\n  if (_.isFunction(definition)) {\n    return buildRegionFromObject(defaults, {\n      regionClass: definition\n    });\n  }\n\n  if (_.isObject(definition)) {\n    return buildRegionFromObject(defaults, definition);\n  }\n\n  throw new MarionetteError({\n    message: 'Improper region configuration type.',\n    url: 'marionette.region.html#defining-regions'\n  });\n}\n\nfunction buildRegionFromObject(defaults, definition) {\n  var options = _.extend({}, defaults, definition);\n\n  var RegionClass = options.regionClass;\n  delete options.regionClass;\n  return new RegionClass(options);\n}\n\n// - regions\n// - regionClass\n\nvar RegionsMixin = {\n  regionClass: Region,\n  // Internal method to initialize the regions that have been defined in a\n  // `regions` attribute on this View.\n  _initRegions: function _initRegions() {\n    // init regions hash\n    this.regions = this.regions || {};\n    this._regions = {};\n    this.addRegions(_.result(this, 'regions'));\n  },\n  // Internal method to re-initialize all of the regions by updating\n  // the `el` that they point to\n  _reInitRegions: function _reInitRegions() {\n    _invoke(this._regions, 'reset');\n  },\n  // Add a single region, by name, to the View\n  addRegion: function addRegion(name, definition) {\n    var regions = {};\n    regions[name] = definition;\n    return this.addRegions(regions)[name];\n  },\n  // Add multiple regions as a {name: definition, name2: def2} object literal\n  addRegions: function addRegions(regions) {\n    // If there's nothing to add, stop here.\n    if (_.isEmpty(regions)) {\n      return;\n    } // Normalize region selectors hash to allow\n    // a user to use the @ui. syntax.\n\n\n    regions = this.normalizeUIValues(regions, 'el'); // Add the regions definitions to the regions property\n\n    this.regions = _.extend({}, this.regions, regions);\n    return this._addRegions(regions);\n  },\n  // internal method to build and add regions\n  _addRegions: function _addRegions(regionDefinitions) {\n    var _this = this;\n\n    var defaults = {\n      regionClass: this.regionClass,\n      parentEl: _.partial(_.result, this, 'el')\n    };\n    return _.reduce(regionDefinitions, function (regions, definition, name) {\n      regions[name] = buildRegion(definition, defaults);\n\n      _this._addRegion(regions[name], name);\n\n      return regions;\n    }, {});\n  },\n  _addRegion: function _addRegion(region, name) {\n    this.triggerMethod('before:add:region', this, name, region);\n    region._parentView = this;\n    region._name = name;\n    this._regions[name] = region;\n    this.triggerMethod('add:region', this, name, region);\n  },\n  // Remove a single region from the View, by name\n  removeRegion: function removeRegion(name) {\n    var region = this._regions[name];\n\n    this._removeRegion(region, name);\n\n    return region;\n  },\n  // Remove all regions from the View\n  removeRegions: function removeRegions() {\n    var regions = this._getRegions();\n\n    _.each(this._regions, this._removeRegion.bind(this));\n\n    return regions;\n  },\n  _removeRegion: function _removeRegion(region, name) {\n    this.triggerMethod('before:remove:region', this, name, region);\n    region.destroy();\n    this.triggerMethod('remove:region', this, name, region);\n  },\n  // Called in a region's destroy\n  _removeReferences: function _removeReferences(name) {\n    delete this.regions[name];\n    delete this._regions[name];\n  },\n  // Empty all regions in the region manager, but\n  // leave them attached\n  emptyRegions: function emptyRegions() {\n    var regions = this.getRegions();\n\n    _invoke(regions, 'empty');\n\n    return regions;\n  },\n  // Checks to see if view contains region\n  // Accepts the region name\n  // hasRegion('main')\n  hasRegion: function hasRegion(name) {\n    return !!this.getRegion(name);\n  },\n  // Provides access to regions\n  // Accepts the region name\n  // getRegion('main')\n  getRegion: function getRegion(name) {\n    if (!this._isRendered) {\n      this.render();\n    }\n\n    return this._regions[name];\n  },\n  _getRegions: function _getRegions() {\n    return _.clone(this._regions);\n  },\n  // Get all regions\n  getRegions: function getRegions() {\n    if (!this._isRendered) {\n      this.render();\n    }\n\n    return this._getRegions();\n  },\n  showChildView: function showChildView(name, view, options) {\n    var region = this.getRegion(name);\n    region.show(view, options);\n    return view;\n  },\n  detachChildView: function detachChildView(name) {\n    return this.getRegion(name).detachView();\n  },\n  getChildView: function getChildView(name) {\n    return this.getRegion(name).currentView;\n  }\n};\n\n// Static setter for the renderer\nfunction setRenderer(renderer) {\n  this.prototype._renderHtml = renderer;\n  return this;\n}\n\n// View\nvar ClassOptions$2 = ['behaviors', 'childViewEventPrefix', 'childViewEvents', 'childViewTriggers', 'collectionEvents', 'events', 'modelEvents', 'regionClass', 'regions', 'template', 'templateContext', 'triggers', 'ui']; // Used by _getImmediateChildren\n\nfunction childReducer(children, region) {\n  if (region.currentView) {\n    children.push(region.currentView);\n  }\n\n  return children;\n} // The standard view. Includes view events, automatic rendering\n// templates, nested views, and more.\n\n\nvar View = Backbone.View.extend({\n  constructor: function constructor(options) {\n    this._setOptions(options, ClassOptions$2);\n\n    monitorViewEvents(this);\n\n    this._initBehaviors();\n\n    this._initRegions();\n\n    Backbone.View.prototype.constructor.apply(this, arguments);\n    this.delegateEntityEvents();\n\n    this._triggerEventOnBehaviors('initialize', this, options);\n  },\n  // Overriding Backbone.View's `setElement` to handle\n  // if an el was previously defined. If so, the view might be\n  // rendered or attached on setElement.\n  setElement: function setElement() {\n    Backbone.View.prototype.setElement.apply(this, arguments);\n    this._isRendered = this.Dom.hasContents(this.el);\n    this._isAttached = this._isElAttached();\n\n    if (this._isRendered) {\n      this.bindUIElements();\n    }\n\n    return this;\n  },\n  // If a template is available, renders it into the view's `el`\n  // Re-inits regions and binds UI.\n  render: function render() {\n    var template = this.getTemplate();\n\n    if (template === false || this._isDestroyed) {\n      return this;\n    }\n\n    this.triggerMethod('before:render', this); // If this is not the first render call, then we need to\n    // re-initialize the `el` for each region\n\n    if (this._isRendered) {\n      this._reInitRegions();\n    }\n\n    this._renderTemplate(template);\n\n    this.bindUIElements();\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n    return this;\n  },\n  // called by ViewMixin destroy\n  _removeChildren: function _removeChildren() {\n    this.removeRegions();\n  },\n  _getImmediateChildren: function _getImmediateChildren() {\n    return _.reduce(this._regions, childReducer, []);\n  }\n}, {\n  setRenderer: setRenderer,\n  setDomApi: setDomApi\n});\n\n_.extend(View.prototype, ViewMixin, RegionsMixin);\n\n// shut down child views.\n\nvar Container = function Container() {\n  this._init();\n}; // Mix in methods from Underscore, for iteration, and other\n// collection related features.\n// Borrowing this code from Backbone.Collection:\n// https://github.com/jashkenas/backbone/blob/1.1.2/backbone.js#L962\n\n\nvar methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter', 'select', 'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke', 'toArray', 'first', 'initial', 'rest', 'last', 'without', 'isEmpty', 'pluck', 'reduce', 'partition'];\n\n_.each(methods, function (method) {\n  Container.prototype[method] = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _[method].apply(_, [this._views].concat(args));\n  };\n});\n\nfunction stringComparator(comparator, view) {\n  return view.model && view.model.get(comparator);\n} // Container Methods\n// -----------------\n\n\n_.extend(Container.prototype, {\n  // Initializes an empty container\n  _init: function _init() {\n    this._views = [];\n    this._viewsByCid = {};\n    this._indexByModel = {};\n\n    this._updateLength();\n  },\n  // Add a view to this container. Stores the view\n  // by `cid` and makes it searchable by the model\n  // cid (and model itself). Additionally it stores\n  // the view by index in the _views array\n  _add: function _add(view) {\n    var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._views.length;\n\n    this._addViewIndexes(view); // add to end by default\n\n\n    this._views.splice(index, 0, view);\n\n    this._updateLength();\n  },\n  _addViewIndexes: function _addViewIndexes(view) {\n    // store the view\n    this._viewsByCid[view.cid] = view; // index it by model\n\n    if (view.model) {\n      this._indexByModel[view.model.cid] = view;\n    }\n  },\n  // Sort (mutate) and return the array of the child views.\n  _sort: function _sort(comparator, context) {\n    if (typeof comparator === 'string') {\n      comparator = _.partial(stringComparator, comparator);\n      return this._sortBy(comparator);\n    }\n\n    if (comparator.length === 1) {\n      return this._sortBy(comparator.bind(context));\n    }\n\n    return this._views.sort(comparator.bind(context));\n  },\n  // Makes `_.sortBy` mutate the array to match `this._views.sort`\n  _sortBy: function _sortBy(comparator) {\n    var sortedViews = _.sortBy(this._views, comparator);\n\n    this._set(sortedViews);\n\n    return sortedViews;\n  },\n  // Replace array contents without overwriting the reference.\n  // Should not add/remove views\n  _set: function _set(views, shouldReset) {\n    this._views.length = 0;\n\n    this._views.push.apply(this._views, views.slice(0));\n\n    if (shouldReset) {\n      this._viewsByCid = {};\n      this._indexByModel = {};\n\n      _.each(views, this._addViewIndexes.bind(this));\n\n      this._updateLength();\n    }\n  },\n  // Swap views by index\n  _swap: function _swap(view1, view2) {\n    var view1Index = this.findIndexByView(view1);\n    var view2Index = this.findIndexByView(view2);\n\n    if (view1Index === -1 || view2Index === -1) {\n      return;\n    }\n\n    var swapView = this._views[view1Index];\n    this._views[view1Index] = this._views[view2Index];\n    this._views[view2Index] = swapView;\n  },\n  // Find a view by the model that was attached to it.\n  // Uses the model's `cid` to find it.\n  findByModel: function findByModel(model) {\n    return this.findByModelCid(model.cid);\n  },\n  // Find a view by the `cid` of the model that was attached to it.\n  findByModelCid: function findByModelCid(modelCid) {\n    return this._indexByModel[modelCid];\n  },\n  // Find a view by index.\n  findByIndex: function findByIndex(index) {\n    return this._views[index];\n  },\n  // Find the index of a view instance\n  findIndexByView: function findIndexByView(view) {\n    return this._views.indexOf(view);\n  },\n  // Retrieve a view by its `cid` directly\n  findByCid: function findByCid(cid) {\n    return this._viewsByCid[cid];\n  },\n  hasView: function hasView(view) {\n    return !!this.findByCid(view.cid);\n  },\n  // Remove a view and clean up index references.\n  _remove: function _remove(view) {\n    if (!this._viewsByCid[view.cid]) {\n      return;\n    } // delete model index\n\n\n    if (view.model) {\n      delete this._indexByModel[view.model.cid];\n    } // remove the view from the container\n\n\n    delete this._viewsByCid[view.cid];\n    var index = this.findIndexByView(view);\n\n    this._views.splice(index, 1);\n\n    this._updateLength();\n  },\n  // Update the `.length` attribute on this container\n  _updateLength: function _updateLength() {\n    this.length = this._views.length;\n  }\n});\n\n// Collection View\nvar classErrorName$1 = 'CollectionViewError';\nvar ClassOptions$3 = ['behaviors', 'childView', 'childViewContainer', 'childViewEventPrefix', 'childViewEvents', 'childViewOptions', 'childViewTriggers', 'collectionEvents', 'emptyView', 'emptyViewOptions', 'events', 'modelEvents', 'sortWithCollection', 'template', 'templateContext', 'triggers', 'ui', 'viewComparator', 'viewFilter']; // A view that iterates over a Backbone.Collection\n// and renders an individual child view for each model.\n\nvar CollectionView = Backbone.View.extend({\n  // flag for maintaining the sorted order of the collection\n  sortWithCollection: true,\n  // constructor\n  constructor: function constructor(options) {\n    this._setOptions(options, ClassOptions$3);\n\n    monitorViewEvents(this);\n\n    this._initChildViewStorage();\n\n    this._initBehaviors();\n\n    Backbone.View.prototype.constructor.apply(this, arguments); // Init empty region\n\n    this.getEmptyRegion();\n    this.delegateEntityEvents();\n\n    this._triggerEventOnBehaviors('initialize', this, options);\n  },\n  // Internal method to set up the `children` object for storing all of the child views\n  // `_children` represents all child views\n  // `children` represents only views filtered to be shown\n  _initChildViewStorage: function _initChildViewStorage() {\n    this._children = new Container();\n    this.children = new Container();\n  },\n  // Create an region to show the emptyView\n  getEmptyRegion: function getEmptyRegion() {\n    var $emptyEl = this.$container || this.$el;\n\n    if (this._emptyRegion && !this._emptyRegion.isDestroyed()) {\n      this._emptyRegion._setElement($emptyEl[0]);\n\n      return this._emptyRegion;\n    }\n\n    this._emptyRegion = new Region({\n      el: $emptyEl[0],\n      replaceElement: false\n    });\n    this._emptyRegion._parentView = this;\n    return this._emptyRegion;\n  },\n  // Configured the initial events that the collection view binds to.\n  _initialEvents: function _initialEvents() {\n    if (this._isRendered) {\n      return;\n    }\n\n    this.listenTo(this.collection, {\n      'sort': this._onCollectionSort,\n      'reset': this._onCollectionReset,\n      'update': this._onCollectionUpdate\n    });\n  },\n  // Internal method. This checks for any changes in the order of the collection.\n  // If the index of any view doesn't match, it will re-sort.\n  _onCollectionSort: function _onCollectionSort(collection, _ref) {\n    var add = _ref.add,\n        merge = _ref.merge,\n        remove = _ref.remove;\n\n    if (!this.sortWithCollection || this.viewComparator === false) {\n      return;\n    } // If the data is changing we will handle the sort later in `_onCollectionUpdate`\n\n\n    if (add || remove || merge) {\n      return;\n    } // If the only thing happening here is sorting, sort.\n\n\n    this.sort();\n  },\n  _onCollectionReset: function _onCollectionReset() {\n    this._destroyChildren();\n\n    this._addChildModels(this.collection.models);\n\n    this.sort();\n  },\n  // Handle collection update model additions and  removals\n  _onCollectionUpdate: function _onCollectionUpdate(collection, options) {\n    var changes = options.changes; // Remove first since it'll be a shorter array lookup.\n\n    var removedViews = changes.removed.length && this._removeChildModels(changes.removed);\n\n    this._addedViews = changes.added.length && this._addChildModels(changes.added);\n\n    this._detachChildren(removedViews);\n\n    this.sort(); // Destroy removed child views after all of the render is complete\n\n    this._removeChildViews(removedViews);\n  },\n  _removeChildModels: function _removeChildModels(models) {\n    var _this = this;\n\n    return _.reduce(models, function (views, model) {\n      var removeView = _this._removeChildModel(model);\n\n      if (removeView) {\n        views.push(removeView);\n      }\n\n      return views;\n    }, []);\n  },\n  _removeChildModel: function _removeChildModel(model) {\n    var view = this._children.findByModel(model);\n\n    if (view) {\n      this._removeChild(view);\n    }\n\n    return view;\n  },\n  _removeChild: function _removeChild(view) {\n    this.triggerMethod('before:remove:child', this, view);\n\n    this.children._remove(view);\n\n    this._children._remove(view);\n\n    this.triggerMethod('remove:child', this, view);\n  },\n  // Added views are returned for consistency with _removeChildModels\n  _addChildModels: function _addChildModels(models) {\n    return _.map(models, this._addChildModel.bind(this));\n  },\n  _addChildModel: function _addChildModel(model) {\n    var view = this._createChildView(model);\n\n    this._addChild(view);\n\n    return view;\n  },\n  _createChildView: function _createChildView(model) {\n    var ChildView = this._getChildView(model);\n\n    var childViewOptions = this._getChildViewOptions(model);\n\n    var view = this.buildChildView(model, ChildView, childViewOptions);\n    return view;\n  },\n  _addChild: function _addChild(view, index) {\n    this.triggerMethod('before:add:child', this, view);\n\n    this._setupChildView(view);\n\n    this._children._add(view, index);\n\n    this.children._add(view, index);\n\n    this.triggerMethod('add:child', this, view);\n  },\n  // Retrieve the `childView` class\n  // The `childView` property can be either a view class or a function that\n  // returns a view class. If it is a function, it will receive the model that\n  // will be passed to the view instance (created from the returned view class)\n  _getChildView: function _getChildView(child) {\n    var childView = this.childView;\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: classErrorName$1,\n        message: 'A \"childView\" must be specified',\n        url: 'marionette.collectionview.html#collectionviews-childview'\n      });\n    }\n\n    childView = this._getView(childView, child);\n\n    if (!childView) {\n      throw new MarionetteError({\n        name: classErrorName$1,\n        message: '\"childView\" must be a view class or a function that returns a view class',\n        url: 'marionette.collectionview.html#collectionviews-childview'\n      });\n    }\n\n    return childView;\n  },\n  // First check if the `view` is a view class (the common case)\n  // Then check if it's a function (which we assume that returns a view class)\n  _getView: function _getView(view, child) {\n    if (view.prototype instanceof Backbone.View || view === Backbone.View) {\n      return view;\n    } else if (_.isFunction(view)) {\n      return view.call(this, child);\n    }\n  },\n  _getChildViewOptions: function _getChildViewOptions(child) {\n    if (_.isFunction(this.childViewOptions)) {\n      return this.childViewOptions(child);\n    }\n\n    return this.childViewOptions;\n  },\n  // Build a `childView` for a model in the collection.\n  // Override to customize the build\n  buildChildView: function buildChildView(child, ChildViewClass, childViewOptions) {\n    var options = _.extend({\n      model: child\n    }, childViewOptions);\n\n    return new ChildViewClass(options);\n  },\n  _setupChildView: function _setupChildView(view) {\n    monitorViewEvents(view); // We need to listen for if a view is destroyed in a way other\n    // than through the CollectionView.\n    // If this happens we need to remove the reference to the view\n    // since once a view has been destroyed we can not reuse it.\n\n    view.on('destroy', this.removeChildView, this); // set up the child view event forwarding\n\n    this._proxyChildViewEvents(view);\n  },\n  // used by ViewMixin's `_childViewEventHandler`\n  _getImmediateChildren: function _getImmediateChildren() {\n    return this.children._views;\n  },\n  // Overriding Backbone.View's `setElement` to handle\n  // if an el was previously defined. If so, the view might be\n  // attached on setElement.\n  setElement: function setElement() {\n    Backbone.View.prototype.setElement.apply(this, arguments);\n    this._isAttached = this._isElAttached();\n    return this;\n  },\n  // Render children views.\n  render: function render() {\n    if (this._isDestroyed) {\n      return this;\n    }\n\n    this.triggerMethod('before:render', this);\n\n    this._destroyChildren();\n\n    if (this.collection) {\n      this._addChildModels(this.collection.models);\n\n      this._initialEvents();\n    }\n\n    var template = this.getTemplate();\n\n    if (template) {\n      this._renderTemplate(template);\n\n      this.bindUIElements();\n    }\n\n    this._getChildViewContainer();\n\n    this.sort();\n    this._isRendered = true;\n    this.triggerMethod('render', this);\n    return this;\n  },\n  // Get a container within the template to add the children within\n  _getChildViewContainer: function _getChildViewContainer() {\n    var childViewContainer = _.result(this, 'childViewContainer');\n\n    this.$container = childViewContainer ? this.$(childViewContainer) : this.$el;\n\n    if (!this.$container.length) {\n      throw new MarionetteError({\n        name: classErrorName$1,\n        message: \"The specified \\\"childViewContainer\\\" was not found: \".concat(childViewContainer),\n        url: 'marionette.collectionview.html#defining-the-childviewcontainer'\n      });\n    }\n  },\n  // Sorts the children then filters and renders the results.\n  sort: function sort() {\n    this._sortChildren();\n\n    this.filter();\n    return this;\n  },\n  // Sorts views by viewComparator and sets the children to the new order\n  _sortChildren: function _sortChildren() {\n    if (!this._children.length) {\n      return;\n    }\n\n    var viewComparator = this.getComparator();\n\n    if (!viewComparator) {\n      return;\n    } // If children are sorted prevent added to end perf\n\n\n    delete this._addedViews;\n    this.triggerMethod('before:sort', this);\n\n    this._children._sort(viewComparator, this);\n\n    this.triggerMethod('sort', this);\n  },\n  // Sets the view's `viewComparator` and applies the sort if the view is ready.\n  // To prevent the render pass `{ preventRender: true }` as the 2nd argument.\n  setComparator: function setComparator(comparator) {\n    var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        preventRender = _ref2.preventRender;\n\n    var comparatorChanged = this.viewComparator !== comparator;\n    var shouldSort = comparatorChanged && !preventRender;\n    this.viewComparator = comparator;\n\n    if (shouldSort) {\n      this.sort();\n    }\n\n    return this;\n  },\n  // Clears the `viewComparator` and follows the same rules for rendering as `setComparator`.\n  removeComparator: function removeComparator(options) {\n    return this.setComparator(null, options);\n  },\n  // If viewComparator is overridden it will be returned here.\n  // Additionally override this function to provide custom\n  // viewComparator logic\n  getComparator: function getComparator() {\n    if (this.viewComparator) {\n      return this.viewComparator;\n    }\n\n    if (!this.sortWithCollection || this.viewComparator === false || !this.collection) {\n      return false;\n    }\n\n    return this._viewComparator;\n  },\n  // Default internal view comparator that order the views by\n  // the order of the collection\n  _viewComparator: function _viewComparator(view) {\n    return this.collection.indexOf(view.model);\n  },\n  // This method filters the children views and renders the results\n  filter: function filter() {\n    if (this._isDestroyed) {\n      return this;\n    }\n\n    this._filterChildren();\n\n    this._renderChildren();\n\n    return this;\n  },\n  _filterChildren: function _filterChildren() {\n    var _this2 = this;\n\n    if (!this._children.length) {\n      return;\n    }\n\n    var viewFilter = this._getFilter();\n\n    if (!viewFilter) {\n      var shouldReset = this.children.length !== this._children.length;\n\n      this.children._set(this._children._views, shouldReset);\n\n      return;\n    } // If children are filtered prevent added to end perf\n\n\n    delete this._addedViews;\n    this.triggerMethod('before:filter', this);\n    var attachViews = [];\n    var detachViews = [];\n\n    _.each(this._children._views, function (view, key, children) {\n      (viewFilter.call(_this2, view, key, children) ? attachViews : detachViews).push(view);\n    });\n\n    this._detachChildren(detachViews); // reset children\n\n\n    this.children._set(attachViews, true);\n\n    this.triggerMethod('filter', this, attachViews, detachViews);\n  },\n  // This method returns a function for the viewFilter\n  _getFilter: function _getFilter() {\n    var viewFilter = this.getFilter();\n\n    if (!viewFilter) {\n      return false;\n    }\n\n    if (_.isFunction(viewFilter)) {\n      return viewFilter;\n    } // Support filter predicates `{ fooFlag: true }`\n\n\n    if (_.isObject(viewFilter)) {\n      var matcher = _.matches(viewFilter);\n\n      return function (view) {\n        return matcher(view.model && view.model.attributes);\n      };\n    } // Filter by model attribute\n\n\n    if (_.isString(viewFilter)) {\n      return function (view) {\n        return view.model && view.model.get(viewFilter);\n      };\n    }\n\n    throw new MarionetteError({\n      name: classErrorName$1,\n      message: '\"viewFilter\" must be a function, predicate object literal, a string indicating a model attribute, or falsy',\n      url: 'marionette.collectionview.html#defining-the-viewfilter'\n    });\n  },\n  // Override this function to provide custom\n  // viewFilter logic\n  getFilter: function getFilter() {\n    return this.viewFilter;\n  },\n  // Sets the view's `viewFilter` and applies the filter if the view is ready.\n  // To prevent the render pass `{ preventRender: true }` as the 2nd argument.\n  setFilter: function setFilter(filter) {\n    var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        preventRender = _ref3.preventRender;\n\n    var filterChanged = this.viewFilter !== filter;\n    var shouldRender = filterChanged && !preventRender;\n    this.viewFilter = filter;\n\n    if (shouldRender) {\n      this.filter();\n    }\n\n    return this;\n  },\n  // Clears the `viewFilter` and follows the same rules for rendering as `setFilter`.\n  removeFilter: function removeFilter(options) {\n    return this.setFilter(null, options);\n  },\n  _detachChildren: function _detachChildren(detachingViews) {\n    _.each(detachingViews, this._detachChildView.bind(this));\n  },\n  _detachChildView: function _detachChildView(view) {\n    var shouldTriggerDetach = view._isAttached && this.monitorViewEvents !== false;\n\n    if (shouldTriggerDetach) {\n      view.triggerMethod('before:detach', view);\n    }\n\n    this.detachHtml(view);\n\n    if (shouldTriggerDetach) {\n      view._isAttached = false;\n      view.triggerMethod('detach', view);\n    }\n\n    view._isShown = false;\n  },\n  // Override this method to change how the collectionView detaches a child view\n  detachHtml: function detachHtml(view) {\n    this.Dom.detachEl(view.el, view.$el);\n  },\n  _renderChildren: function _renderChildren() {\n    // If there are unrendered views prevent add to end perf\n    if (this._hasUnrenderedViews) {\n      delete this._addedViews;\n      delete this._hasUnrenderedViews;\n    }\n\n    var views = this._addedViews || this.children._views;\n    this.triggerMethod('before:render:children', this, views);\n\n    if (this.isEmpty()) {\n      this._showEmptyView();\n    } else {\n      this._destroyEmptyView();\n\n      var els = this._getBuffer(views);\n\n      this._attachChildren(els, views);\n    }\n\n    delete this._addedViews;\n    this.triggerMethod('render:children', this, views);\n  },\n  // Renders each view and creates a fragment buffer from them\n  _getBuffer: function _getBuffer(views) {\n    var _this3 = this;\n\n    var elBuffer = this.Dom.createBuffer();\n\n    _.each(views, function (view) {\n      renderView(view); // corresponds that view is shown in a Region or CollectionView\n\n      view._isShown = true;\n\n      _this3.Dom.appendContents(elBuffer, view.el, {\n        _$contents: view.$el\n      });\n    });\n\n    return elBuffer;\n  },\n  _attachChildren: function _attachChildren(els, views) {\n    var shouldTriggerAttach = this._isAttached && this.monitorViewEvents !== false;\n    views = shouldTriggerAttach ? views : [];\n\n    _.each(views, function (view) {\n      if (view._isAttached) {\n        return;\n      }\n\n      view.triggerMethod('before:attach', view);\n    });\n\n    this.attachHtml(els, this.$container);\n\n    _.each(views, function (view) {\n      if (view._isAttached) {\n        return;\n      }\n\n      view._isAttached = true;\n      view.triggerMethod('attach', view);\n    });\n  },\n  // Override this method to do something other than `.append`.\n  // You can attach any HTML at this point including the els.\n  attachHtml: function attachHtml(els, $container) {\n    this.Dom.appendContents($container[0], els, {\n      _$el: $container\n    });\n  },\n  isEmpty: function isEmpty() {\n    return !this.children.length;\n  },\n  _showEmptyView: function _showEmptyView() {\n    var EmptyView = this._getEmptyView();\n\n    if (!EmptyView) {\n      return;\n    }\n\n    var options = this._getEmptyViewOptions();\n\n    var emptyRegion = this.getEmptyRegion();\n    emptyRegion.show(new EmptyView(options));\n  },\n  // Retrieve the empty view class\n  _getEmptyView: function _getEmptyView() {\n    var emptyView = this.emptyView;\n\n    if (!emptyView) {\n      return;\n    }\n\n    return this._getView(emptyView);\n  },\n  // Remove the emptyView\n  _destroyEmptyView: function _destroyEmptyView() {\n    var emptyRegion = this.getEmptyRegion(); // Only empty if a view is show so the region\n    // doesn't detach any other unrelated HTML\n\n    if (emptyRegion.hasView()) {\n      emptyRegion.empty();\n    }\n  },\n  //\n  _getEmptyViewOptions: function _getEmptyViewOptions() {\n    var emptyViewOptions = this.emptyViewOptions || this.childViewOptions;\n\n    if (_.isFunction(emptyViewOptions)) {\n      return emptyViewOptions.call(this);\n    }\n\n    return emptyViewOptions;\n  },\n  swapChildViews: function swapChildViews(view1, view2) {\n    if (!this._children.hasView(view1) || !this._children.hasView(view2)) {\n      throw new MarionetteError({\n        name: classErrorName$1,\n        message: 'Both views must be children of the collection view to swap.',\n        url: 'marionette.collectionview.html#swapping-child-views'\n      });\n    }\n\n    this._children._swap(view1, view2);\n\n    this.Dom.swapEl(view1.el, view2.el); // If the views are not filtered the same, refilter\n\n    if (this.children.hasView(view1) !== this.children.hasView(view2)) {\n      this.filter();\n    } else {\n      this.children._swap(view1, view2);\n    }\n\n    return this;\n  },\n  // Render the child's view and add it to the HTML for the collection view at a given index, based on the current sort\n  addChildView: function addChildView(view, index) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (!view || view._isDestroyed) {\n      return view;\n    }\n\n    if (view._isShown) {\n      throw new MarionetteError({\n        name: classErrorName$1,\n        message: 'View is already shown in a Region or CollectionView',\n        url: 'marionette.region.html#showing-a-view'\n      });\n    }\n\n    if (_.isObject(index)) {\n      options = index;\n    } // If options has defined index we should use it\n\n\n    if (options.index != null) {\n      index = options.index;\n    }\n\n    if (!this._isRendered) {\n      this.render();\n    }\n\n    this._addChild(view, index);\n\n    if (options.preventRender) {\n      this._hasUnrenderedViews = true;\n      return view;\n    }\n\n    var hasIndex = typeof index !== 'undefined';\n    var isAddedToEnd = !hasIndex || index >= this._children.length; // Only cache views if added to the end and there is no unrendered views\n\n    if (isAddedToEnd && !this._hasUnrenderedViews) {\n      this._addedViews = [view];\n    }\n\n    if (hasIndex) {\n      this._renderChildren();\n    } else {\n      this.sort();\n    }\n\n    return view;\n  },\n  // Detach a view from the children.  Best used when adding a\n  // childView from `addChildView`\n  detachChildView: function detachChildView(view) {\n    this.removeChildView(view, {\n      shouldDetach: true\n    });\n    return view;\n  },\n  // Remove the child view and destroy it.  Best used when adding a\n  // childView from `addChildView`\n  // The options argument is for internal use only\n  removeChildView: function removeChildView(view, options) {\n    if (!view) {\n      return view;\n    }\n\n    this._removeChildView(view, options);\n\n    this._removeChild(view);\n\n    if (this.isEmpty()) {\n      this._showEmptyView();\n    }\n\n    return view;\n  },\n  _removeChildViews: function _removeChildViews(views) {\n    _.each(views, this._removeChildView.bind(this));\n  },\n  _removeChildView: function _removeChildView(view) {\n    var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        shouldDetach = _ref4.shouldDetach;\n\n    view.off('destroy', this.removeChildView, this);\n\n    if (shouldDetach) {\n      this._detachChildView(view);\n    } else {\n      this._destroyChildView(view);\n    }\n\n    this.stopListening(view);\n  },\n  _destroyChildView: function _destroyChildView(view) {\n    if (view._isDestroyed) {\n      return;\n    }\n\n    var shouldDisableEvents = this.monitorViewEvents === false;\n    destroyView(view, shouldDisableEvents);\n  },\n  // called by ViewMixin destroy\n  _removeChildren: function _removeChildren() {\n    this._destroyChildren();\n\n    var emptyRegion = this.getEmptyRegion();\n    emptyRegion.destroy();\n    delete this._addedViews;\n  },\n  // Destroy the child views that this collection view is holding on to, if any\n  _destroyChildren: function _destroyChildren() {\n    if (!this._children.length) {\n      return;\n    }\n\n    this.triggerMethod('before:destroy:children', this);\n\n    if (this.monitorViewEvents === false) {\n      this.Dom.detachContents(this.el, this.$el);\n    }\n\n    this._removeChildViews(this._children._views); // After all children have been destroyed re-init the container\n\n\n    this._children._init();\n\n    this.children._init();\n\n    this.triggerMethod('destroy:children', this);\n  }\n}, {\n  setDomApi: setDomApi,\n  setRenderer: setRenderer\n});\n\n_.extend(CollectionView.prototype, ViewMixin);\n\n// Behavior\nvar ClassOptions$4 = ['collectionEvents', 'events', 'modelEvents', 'triggers', 'ui'];\n\nvar Behavior = function Behavior(options, view) {\n  // Setup reference to the view.\n  // this comes in handle when a behavior\n  // wants to directly talk up the chain\n  // to the view.\n  this.view = view;\n\n  this._setOptions(options, ClassOptions$4);\n\n  this.cid = _.uniqueId(this.cidPrefix); // Construct an internal UI hash using the behaviors UI\n  // hash combined and overridden by the view UI hash.\n  // This allows the user to use UI hash elements defined\n  // in the parent view as well as those defined in the behavior.\n  // This order will help the reuse and share of a behavior\n  // between multiple views, while letting a view override\n  // a selector under an UI key.\n\n  this.ui = _.extend({}, _.result(this, 'ui'), _.result(view, 'ui')); // Proxy view triggers\n\n  this.listenTo(view, 'all', this.triggerMethod);\n  this.initialize.apply(this, arguments);\n};\n\nBehavior.extend = extend; // Behavior Methods\n// --------------\n\n_.extend(Behavior.prototype, CommonMixin, DelegateEntityEventsMixin, TriggersMixin, UIMixin, {\n  cidPrefix: 'mnb',\n  // This is a noop method intended to be overridden\n  initialize: function initialize() {},\n  // proxy behavior $ method to the view\n  // this is useful for doing jquery DOM lookups\n  // scoped to behaviors view.\n  $: function $() {\n    return this.view.$.apply(this.view, arguments);\n  },\n  // Stops the behavior from listening to events.\n  destroy: function destroy() {\n    this.stopListening();\n\n    this.view._removeBehavior(this);\n\n    this._deleteEntityEventHandlers();\n\n    return this;\n  },\n  proxyViewProperties: function proxyViewProperties() {\n    this.$el = this.view.$el;\n    this.el = this.view.el;\n    return this;\n  },\n  bindUIElements: function bindUIElements() {\n    this._bindUIElements();\n\n    return this;\n  },\n  unbindUIElements: function unbindUIElements() {\n    this._unbindUIElements();\n\n    return this;\n  },\n  getUI: function getUI(name) {\n    return this._getUI(name);\n  },\n  // Handle `modelEvents`, and `collectionEvents` configuration\n  delegateEntityEvents: function delegateEntityEvents() {\n    this._delegateEntityEvents(this.view.model, this.view.collection);\n\n    return this;\n  },\n  undelegateEntityEvents: function undelegateEntityEvents() {\n    this._undelegateEntityEvents(this.view.model, this.view.collection);\n\n    return this;\n  },\n  _getEvents: function _getEvents() {\n    var _this = this;\n\n    if (!this.events) {\n      return;\n    } // Normalize behavior events hash to allow\n    // a user to use the @ui. syntax.\n\n\n    var behaviorEvents = this.normalizeUIKeys(_.result(this, 'events')); // binds the handler to the behavior and builds a unique eventName\n\n    return _.reduce(behaviorEvents, function (events, behaviorHandler, key) {\n      if (!_.isFunction(behaviorHandler)) {\n        behaviorHandler = _this[behaviorHandler];\n      }\n\n      if (!behaviorHandler) {\n        return events;\n      }\n\n      key = getNamespacedEventName(key, _this.cid);\n      events[key] = behaviorHandler.bind(_this);\n      return events;\n    }, {});\n  },\n  // Internal method to build all trigger handlers for a given behavior\n  _getTriggers: function _getTriggers() {\n    if (!this.triggers) {\n      return;\n    } // Normalize behavior triggers hash to allow\n    // a user to use the @ui. syntax.\n\n\n    var behaviorTriggers = this.normalizeUIKeys(_.result(this, 'triggers'));\n    return this._getViewTriggers(this.view, behaviorTriggers);\n  }\n});\n\n// Application\nvar ClassOptions$5 = ['channelName', 'radioEvents', 'radioRequests', 'region', 'regionClass'];\n\nvar Application = function Application(options) {\n  this._setOptions(options, ClassOptions$5);\n\n  this.cid = _.uniqueId(this.cidPrefix);\n\n  this._initRegion();\n\n  this._initRadio();\n\n  this.initialize.apply(this, arguments);\n};\n\nApplication.extend = extend; // Application Methods\n// --------------\n\n_.extend(Application.prototype, CommonMixin, DestroyMixin, RadioMixin, {\n  cidPrefix: 'mna',\n  // This is a noop method intended to be overridden\n  initialize: function initialize() {},\n  // Kick off all of the application's processes.\n  start: function start(options) {\n    this.triggerMethod('before:start', this, options);\n    this.triggerMethod('start', this, options);\n    return this;\n  },\n  regionClass: Region,\n  _initRegion: function _initRegion() {\n    var region = this.region;\n\n    if (!region) {\n      return;\n    }\n\n    var defaults = {\n      regionClass: this.regionClass\n    };\n    this._region = buildRegion(region, defaults);\n  },\n  getRegion: function getRegion() {\n    return this._region;\n  },\n  showView: function showView(view) {\n    var region = this.getRegion();\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    region.show.apply(region, [view].concat(args));\n    return view;\n  },\n  getView: function getView() {\n    return this.getRegion().currentView;\n  }\n});\n\nvar bindEvents$1 = proxy(bindEvents);\nvar unbindEvents$1 = proxy(unbindEvents);\nvar bindRequests$1 = proxy(bindRequests);\nvar unbindRequests$1 = proxy(unbindRequests);\nvar mergeOptions$1 = proxy(mergeOptions);\nvar getOption$1 = proxy(getOption);\nvar normalizeMethods$1 = proxy(normalizeMethods);\nvar triggerMethod$1 = proxy(triggerMethod); // Configuration\n\nvar setDomApi$1 = function setDomApi(mixin) {\n  CollectionView.setDomApi(mixin);\n  Region.setDomApi(mixin);\n  View.setDomApi(mixin);\n};\nvar setRenderer$1 = function setRenderer(renderer) {\n  CollectionView.setRenderer(renderer);\n  View.setRenderer(renderer);\n};\nvar backbone_marionette = {\n  View: View,\n  CollectionView: CollectionView,\n  MnObject: MarionetteObject,\n  Object: MarionetteObject,\n  Region: Region,\n  Behavior: Behavior,\n  Application: Application,\n  isEnabled: isEnabled,\n  setEnabled: setEnabled,\n  monitorViewEvents: monitorViewEvents,\n  Events: Events,\n  extend: extend,\n  DomApi: DomApi,\n  VERSION: version\n};\n\nexport default backbone_marionette;\nexport { Application, Behavior, CollectionView, DomApi, Events, MarionetteObject as MnObject, Region, version as VERSION, View, bindEvents$1 as bindEvents, bindRequests$1 as bindRequests, extend, getOption$1 as getOption, isEnabled, mergeOptions$1 as mergeOptions, monitorViewEvents, normalizeMethods$1 as normalizeMethods, setDomApi$1 as setDomApi, setEnabled, setRenderer$1 as setRenderer, triggerMethod$1 as triggerMethod, unbindEvents$1 as unbindEvents, unbindRequests$1 as unbindRequests };\n"],"names":["version","proxy","method","context","_len","arguments","length","args","Array","_key","apply","extend","normalizeMethods","hash","_this","this","normalizedHash","name","errorProps","MarionetteError","call","Error","urlRoot","concat","url","constructor","options","error","message","captureStackTrace","toString","normalizeBindings","bindings","bindEvents","entity","listenTo","unbindEvents","stopListening","normalizeBindings$1","bindRequests","channel","reply","unbindRequests","stopReplying","getOption","optionName","undefined","mergeOptions","keys","key","option","triggerMethodChildren","view","event","shouldTrigger","_getImmediateChildren","child","triggerMethod","shouldTriggerAttach","_isAttached","shouldAttach","shouldTriggerDetach","shouldDetach","triggerDOMRefresh","_isRendered","triggerDOMRemove","handleBeforeAttach","handleAttach","handleBeforeDetach","handleDetach","handleBeforeRender","handleRender","monitorViewEvents","_areViewEventsMonitored","on","splitter","methodCache","getEventName","match","prefix","eventName","toUpperCase","getOnMethodName","replace","result","methodName","trigger","Events","CommonMixin","_setOptions","classOptions","DestroyMixin","_isDestroyed","isDestroyed","destroy","RadioMixin","_initRadio","channelName","_channel","radioEvents","radioRequests","_destroyRadio","getChannel","ClassOptions","MarionetteObject","cid","cidPrefix","initialize","prototype","_invoke","parseBehaviors","behaviors","allBehaviors","reducedBehaviors","behaviorDefiniton","_getBehaviorClass","behaviorClass","BehaviorClass","getBehaviorClass","behavior","push","BehaviorsMixin","_initBehaviors","_behaviors","_getBehaviorTriggers","triggers","memo","_triggers","_getBehaviorEvents","events","_events","_proxyBehaviorViewProperties","_delegateBehaviorEntityEvents","_undelegateBehaviorEntityEvents","_destroyBehaviors","_removeBehavior","undelegate","_bindBehaviorUIElements","_unbindBehaviorUIElements","_triggerEventOnBehaviors","DelegateEntityEventsMixin","_delegateEntityEvents","model","collection","_modelEvents","_collectionEvents","_undelegateEntityEvents","_deleteEntityEventHandlers","TemplateRenderMixin","_renderTemplate","template","data","mixinTemplateContext","serializeData","html","_renderHtml","attachElContent","getTemplate","serializedData","templateContext","serializeModel","items","serializeCollection","attributes","models","Dom","setContents","el","$el","delegateEventSplitter","getNamespacedEventName","namespace","FEATURES","childViewEventPrefix","triggersStopPropagation","triggersPreventDefault","DEV_MODE","isEnabled","setEnabled","state","TriggersMixin","_getViewTriggers","value","triggerDef","shouldPreventDefault","preventDefault","shouldStopPropagation","stopPropagation","buildViewTrigger","uiRegEx","_normalizeUIString","uiString","ui","r","slice","UIMixin","normalizeUIKeys","val","_normalizeUIKeys","_getUIBindings","normalizeUIString","uiBindings","normalizeUIValues","property","propertyVal","_normalizeUIValues","_bindUIElements","_uiBindings","_ui","selector","$","_unbindUIElements","_this2","_getUI","_getEl","setDomApi","mixin","DomApi","createBuffer","document","createDocumentFragment","getDocumentEl","ownerDocument","documentElement","getEl","findEl","find","hasEl","childEl","contains","parentNode","detachEl","_$el","detach","replaceEl","newEl","oldEl","parent","replaceChild","swapEl","el1","el2","parent1","parent2","next1","nextSibling","next2","insertBefore","appendContents","contents","_ref","_ref$_$el","_ref$_$contents","_$contents","append","hasContents","hasChildNodes","detachContents","ViewMixin","_isElAttached","supportsRenderLifecycle","supportsDestroyLifecycle","isRendered","isAttached","delegateEvents","_buildEventProxies","combinedEvents","_getEvents","_getTriggers","delegateEntityEvents","undelegateEntityEvents","_isDestroying","_disableDetachEvents","unbindUIElements","_removeElement","_removeChildren","off","removeData","bindUIElements","getUI","_childViewEvents","_childViewTriggers","_eventPrefix","_getEventPrefix","defaultPrefix","_proxyChildViewEvents","_childViewEventHandler","childViewEvents","childViewTriggers","renderView","render","destroyView","disableDetachEvents","remove","classErrorName","ClassOptions$1","Region","_initEl","buildRegion","definition","defaults","buildRegionFromObject","regionClass","RegionClass","replaceElement","_isReplaced","_isSwappingView","show","_ensureElement","_getView","currentView","_isShown","empty","_setupChildView","_attachView","_setEl","_setElement","shouldReplace","_restoreEl","_replaceEl","attachHtml","_empty","parentView","_parentView","_shouldDisableMonitoring","shouldReplaceEl","allowMissingEl","viewOptions","_getViewOptions","View","_detachView","isReplaced","isSwappingView","detachHtml","shouldDestroy","removeView","_stopChildViewEvents","detachView","shouldRestoreEl","hasView","reset","_name","_removeReferences","RegionsMixin","_initRegions","regions","_regions","addRegions","_reInitRegions","addRegion","_addRegions","regionDefinitions","parentEl","_addRegion","region","removeRegion","_removeRegion","removeRegions","_getRegions","bind","emptyRegions","getRegions","hasRegion","getRegion","showChildView","detachChildView","getChildView","setRenderer","renderer","ClassOptions$2","childReducer","children","setElement","Container","_init","stringComparator","comparator","get","_views","_viewsByCid","_indexByModel","_updateLength","_add","index","_addViewIndexes","splice","_sort","_sortBy","sort","sortedViews","_set","views","shouldReset","_swap","view1","view2","view1Index","findIndexByView","view2Index","swapView","findByModel","findByModelCid","modelCid","findByIndex","indexOf","findByCid","_remove","classErrorName$1","ClassOptions$3","CollectionView","sortWithCollection","_initChildViewStorage","getEmptyRegion","_children","$emptyEl","$container","_emptyRegion","_initialEvents","_onCollectionSort","_onCollectionReset","_onCollectionUpdate","add","merge","viewComparator","_destroyChildren","_addChildModels","changes","removedViews","removed","_removeChildModels","_addedViews","added","_detachChildren","_removeChildViews","_removeChildModel","_removeChild","_addChildModel","_createChildView","_addChild","ChildView","_getChildView","childViewOptions","_getChildViewOptions","buildChildView","childView","ChildViewClass","removeChildView","_getChildViewContainer","childViewContainer","_sortChildren","filter","getComparator","setComparator","_ref2","preventRender","comparatorChanged","shouldSort","removeComparator","_viewComparator","_filterChildren","_renderChildren","viewFilter","_getFilter","attachViews","detachViews","getFilter","matcher","setFilter","_ref3","filterChanged","shouldRender","removeFilter","detachingViews","_detachChildView","_hasUnrenderedViews","isEmpty","_showEmptyView","_destroyEmptyView","els","_getBuffer","_attachChildren","_this3","elBuffer","EmptyView","_getEmptyView","_getEmptyViewOptions","emptyView","emptyRegion","emptyViewOptions","swapChildViews","addChildView","hasIndex","isAddedToEnd","_removeChildView","_ref4","_destroyChildView","ClassOptions$4","Behavior","proxyViewProperties","behaviorEvents","behaviorHandler","behaviorTriggers","ClassOptions$5","Application","_initRegion","start","_region","showView","getView","bindEvents$1","unbindEvents$1","bindRequests$1","unbindRequests$1","mergeOptions$1","getOption$1","normalizeMethods$1","triggerMethod$1","setDomApi$1","setRenderer$1","MnObject","Object","VERSION"],"sourceRoot":""}