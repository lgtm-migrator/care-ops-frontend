{"version":3,"file":"20220809-outreach-b488bae3e29b497fe137.js","mappings":"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","sources":["webpack://care-ops-frontend/./src/js/base/app.js","webpack://care-ops-frontend/./src/js/base/fontawesome.js","webpack://care-ops-frontend/./src/js/base/routerapp.js","webpack://care-ops-frontend/./src/js/behaviors/iframe-form.js","webpack://care-ops-frontend/./src/js/outreach/outreach_views.js","webpack://care-ops-frontend/./src/js/outreach/index.js","webpack://care-ops-frontend/./node_modules/backbone.eventrouter/dist/backbone.eventrouter.js"],"sourcesContent":["import $ from 'jquery';\nimport { bind, isArray, noop, rest, uniqueId } from 'underscore';\nimport { App } from 'marionette.toolkit';\n\nexport default App.extend({\n  triggerStart(options) {\n    this._isLoading = true;\n\n    this._fetchId = uniqueId('fetch');\n    const triggerSyncData = bind(this.triggerMethod, this, 'sync:data', this._fetchId, options);\n    const triggerFail = bind(this.triggerSyncFail, this, this._fetchId, options);\n    const promise = this.beforeStart(options);\n\n    (isArray(promise) ? $.when(...promise) : $.when(promise))\n      .fail(triggerFail)\n      .done(triggerSyncData);\n  },\n  beforeStart: noop,\n  onSyncData(fetchId) {\n    this._isLoading = false;\n    if (!this.isRunning() || this._fetchId !== fetchId) return;\n\n    this.finallyStart.apply(this, rest(arguments));\n  },\n  triggerSyncFail(fetchId, options, ...args) {\n    this._isLoading = false;\n    if (!this.isRunning() || this._fetchId !== fetchId) return;\n\n    this.triggerMethod('fail', options, ...args);\n  },\n  isRunning() {\n    return this._isRunning && !this.isLoading();\n  },\n  _isLoading: false,\n  isLoading() {\n    return this._isLoading;\n  },\n});\n\n","import { partial } from 'underscore';\nimport Handlebars from 'handlebars/runtime';\nimport { findIconDefinition, icon, config } from '@fortawesome/fontawesome-svg-core';\nimport '@fortawesome/fontawesome-svg-core/styles.css';\n\nconfig.autoAddCss = false;\nconfig.replacementClass = 'svg-inline--fa icon';\n\nfunction faHelper(prefix, iconName, { hash = {} }) {\n  const faDefinition = findIconDefinition({ prefix, iconName });\n  const faIcon = icon(faDefinition, hash);\n\n  /* istanbul ignore next: dev safety */\n  if (!faIcon || !faIcon.html) {\n    // eslint-disable-next-line no-console\n    console.error(new Error(`${ prefix }:${ iconName } fontawesome icon not loaded`));\n    return;\n  }\n  return new Handlebars.SafeString(faIcon.html);\n}\n\n// {{far \"acorn\"}} -> <svg ...>\nHandlebars.registerHelper({\n  far: partial(faHelper, 'far'),\n  fas: partial(faHelper, 'fas'),\n  fal: partial(faHelper, 'fal'),\n  fa: faHelper,\n});\n","import { extend, isEqual, isFunction, partial, reduce, rest, result } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport EventRouter from 'backbone.eventrouter';\nimport App from './app';\n\nexport default App.extend({\n  // Set in router apps for nav selection\n  routerAppName: '',\n\n  constructor: function() {\n    this.initRouter();\n\n    // if the app does not handle a given route, stop\n    this.listenTo(this.router, 'noMatch', this.onNoMatch);\n\n    this.on('before:stop', this.stopCurrent);\n\n    App.apply(this, arguments);\n  },\n\n  initRouter() {\n    this._routes = result(this, 'eventRoutes');\n\n    const routeTriggers = this.getRouteTriggers();\n\n    this.router = new EventRouter({ routeTriggers });\n\n    this.bindRouteEvents();\n  },\n\n  onNoMatch() {\n    this.stop();\n    this._currentRoute = null;\n  },\n\n  // For each route in the hash creates a routeTriggers hash\n  getRouteTriggers() {\n    return reduce(this._routes, function(routeTriggers, { route }, eventName) {\n      routeTriggers[eventName] = route;\n\n      return routeTriggers;\n    }, {});\n  },\n\n  getEventActions(eventRoutes, routeAction) {\n    return reduce(eventRoutes, function(eventActions, { action }, eventName) {\n      eventActions[eventName] = partial(routeAction, eventName, action);\n\n      return eventActions;\n    }, {});\n  },\n\n  // handle route events\n  // accepts a hash of 'some:event' : 'actionFunction'\n  // listens to the router channel and calls the appropriate\n  // action via the routeAction handler\n  bindRouteEvents() {\n    const eventActions = this.getEventActions(this._routes, this.routeAction);\n\n    this.listenTo(this.router.getChannel(), eventActions);\n  },\n\n  // applys the route's action\n  // starts this routerapp if necessary\n  // triggers before and after events\n  routeAction(event, action, ...args) {\n    if (!this.isRunning()) {\n      this.start();\n    }\n\n    this.triggerMethod('before:appRoute', event, ...args);\n\n    Radio.request('sidebar', 'close');\n\n    Radio.request('nav', 'select', this.routerAppName, event, args);\n\n    this.setLatestList(event, args);\n\n    this._currentRoute = {\n      event,\n      eventArgs: args,\n    };\n\n    if (!isFunction(action)) {\n      action = this[action];\n    }\n\n    action.apply(this, args);\n\n    Backbone.history.trigger('current', event, ...args);\n\n    this.triggerMethod('appRoute', event, ...args);\n  },\n\n  setLatestList(event, eventArgs) {\n    if (this._routes[event].isList) {\n      Radio.request('history', 'set:latestList', event, eventArgs);\n      return;\n    }\n\n    if (!this._routes[event].clearLatestList) return;\n\n    Radio.request('history', 'set:latestList', false);\n  },\n\n  // handler that ensures one running app\n  startCurrent(appName, options) {\n    this.stopCurrent();\n\n    this._currentAppName = appName;\n    this._currentAppOptions = options;\n\n    options = extend({\n      currentRoute: this._currentRoute,\n    }, options);\n\n    const app = this.startChildApp(appName, options);\n\n    this._current = app;\n\n    return app;\n  },\n\n  startRoute(appName, options) {\n    if (this.isCurrent(appName, options)) {\n      return this.getCurrent().startRoute(this.getCurrentRoute());\n    }\n    return this.startCurrent(appName, options);\n  },\n\n  getCurrent() {\n    return this._current;\n  },\n\n  isCurrent(appName, options) {\n    return (appName === this._currentAppName)\n      && (isEqual(options, this._currentAppOptions));\n  },\n\n  getCurrentRoute() {\n    return this._currentRoute;\n  },\n\n  stopCurrent() {\n    if (!this._current) return;\n\n    this._current.stop();\n    this._current = null;\n    this._currentAppName = null;\n    this._currentAppOptions = null;\n  },\n\n  // takes an event and translates data into the applicable url fragment\n  translateEvent(event) {\n    const route = this.router.getDefaultRoute(event);\n\n    return this.router.translateRoute(route, rest(arguments));\n  },\n\n  // takes an event and changes the URL without triggering or adding to the history\n  replaceRoute() {\n    const url = this.translateEvent.apply(this, arguments);\n\n    Backbone.history.navigate(url, { trigger: false, replace: true });\n  },\n\n  navigateRoute() {\n    const url = this.translateEvent.apply(this, arguments);\n\n    Backbone.history.navigate(url, { trigger: false });\n  },\n});\n","import $ from 'jquery';\nimport Radio from 'backbone.radio';\nimport { Behavior } from 'marionette';\n\nexport default Behavior.extend({\n  ui: {\n    iframe: 'iframe',\n  },\n  onInitialize() {\n    this.channel = Radio.channel(`form${ this.view.model.id }`);\n  },\n  onAttach() {\n    const iframeWindow = this.ui.iframe[0].contentWindow;\n    this.channel.reply('send', (message, args = {}) => {\n      iframeWindow.postMessage({ message, args }, window.origin);\n    }, this);\n\n    $(window).on('message', ({ originalEvent }) => {\n      const { data, origin } = originalEvent;\n      /* istanbul ignore next: security check */\n      if (origin !== window.origin || !data || !data.message) return;\n\n      this.channel.request(data.message, data.args);\n    });\n  },\n  onBeforeDetach() {\n    $(window).off('message');\n    this.channel.stopReplying('send');\n  },\n});\n","import hbs from 'handlebars-inline-precompile';\nimport { View } from 'marionette';\n\nimport IframeFormBehavior from 'js/behaviors/iframe-form';\n\nimport { auth0Config } from 'js/config';\n\nimport 'scss/modules/buttons.scss';\nimport 'scss/outreach-core.scss';\nimport './outreach.scss';\n\nconst DialogView = View.extend({\n  template: hbs`\n    <div><h1 class=\"site-title\">{{ name }}</h1></div>\n    <div class=\"dialog\" data-content-region>\n      <div class=\"dialog__icon--success\">{{fas \"check-circle\"}}</div>\n      <div>You’ve submitted the form. Nice job.</div>\n    </div>\n  `,\n  templateContext() {\n    return {\n      name: auth0Config.name,\n    };\n  },\n  regions: {\n    content: '[data-content-region]',\n  },\n});\n\nconst iFrameFormView = View.extend({\n  behaviors: [IframeFormBehavior],\n  regions: {\n    formAction: '[data-action-region]',\n  },\n  template: hbs`\n  <div class=\"form__header\">\n    <div class=\"form__title\">{{ name }}</div>\n    <div data-action-region></div>\n  </div>\n  <div class=\"form__content\">\n    <iframe src=\"/formapp/\"></iframe>\n  </div>\n  `,\n});\n\nconst SaveView = View.extend({\n  isDisabled: false,\n  tagName: 'button',\n  className: 'button--green',\n  attributes() {\n    return {\n      disabled: this.getOption('isDisabled'),\n    };\n  },\n  template: hbs`Save`,\n  triggers: {\n    'click': 'click',\n  },\n  onClick() {\n    this.$el.prop('disabled', true);\n  },\n});\n\nconst LoginView = View.extend({\n  ui: {\n    date: '.js-date',\n    submit: '.js-submit',\n  },\n  triggers: {\n    'change @ui.date': 'change:date',\n    'blur @ui.date': 'blur:date',\n    'click @ui.submit': 'click:submit',\n  },\n  modelEvents: {\n    'change:hasError': 'render',\n  },\n  template: hbs`\n    <div class=\"dialog__icon\">{{far \"lock-alt\"}}</div>\n    <div>Enter your date of birth to access this form.</div>\n    <div><input type=\"date\" class=\"js-date dialog__input{{#if hasError}} has-error{{/if}}\" required pattern=\"\\d{4}-\\d{2}-\\d{2}\" placeholder=\"Your Date of Birth\" value=\"{{ dob }}\"></div>\n    {{#if hasError}}<div class=\"dialog__error\">That date of birth does not match our records. Please try again.</div>{{/if}}\n    <div><button class=\"button--green dialog__button js-submit\" {{#unless dob}}disabled{{/unless}}>Continue to Form {{fas \"sign-in-alt\"}}</button></div>\n  `,\n  onChangeDate() {\n    const dob = this.ui.date.val();\n    this.model.set({ dob });\n    this.ui.submit.prop('disabled', !dob);\n  },\n  onBlurDate() {\n    this.model.set({ hasError: false });\n  },\n});\n\nconst ResponseErrorView = View.extend({\n  template: hbs`\n    <div class=\"dialog__icon--success\">{{fas \"check-circle\"}}</div>\n    <div>This form has already been submitted.</div>\n  `,\n});\n\nconst NotAvailableView = View.extend({\n  template: hbs`\n    <div class=\"dialog__icon--warn\">{{far \"minus-octagon\"}}</div>\n    <div>This form is no longer shared. Nothing else to do here.</div>\n  `,\n});\n\nconst ErrorView = View.extend({\n  template: hbs`\n    <div class=\"dialog__icon--error\">{{far \"exclamation-circle\"}}</div>\n    <div>Uh-oh, there was an error. Try reloading the page.</div>\n  `,\n});\n\nexport {\n  DialogView,\n  iFrameFormView,\n  SaveView,\n  LoginView,\n  ResponseErrorView,\n  NotAvailableView,\n  ErrorView,\n};\n","import $ from 'jquery';\nimport { get, pluck, extend } from 'underscore';\nimport Backbone from 'backbone';\nimport Radio from 'backbone.radio';\nimport { v4 as uuid } from 'uuid';\nimport 'js/base/fontawesome';\n\nimport RouterApp from 'js/base/routerapp';\nimport App from 'js/base/app';\n\nimport {\n  DialogView,\n  iFrameFormView,\n  SaveView,\n  LoginView,\n  ResponseErrorView,\n  NotAvailableView,\n  ErrorView,\n} from './outreach_views';\n\n$.ajaxSetup({ contentType: 'application/vnd.api+json' });\n\nfunction getRelationship(id, type) {\n  return { data: { type, id } };\n}\n\nfunction getToken({ dob, actionId }) {\n  const data = {\n    type: 'patient-tokens',\n    id: uuid(),\n    attributes: {\n      reason: 'outreach',\n      birth_date: dob,\n    },\n    relationships: {\n      action: getRelationship(actionId, 'patient-actions'),\n    },\n  };\n\n  return $.ajax({\n    url: '/api/patient-tokens',\n    method: 'POST',\n    data: JSON.stringify({ data }),\n  })\n    .done(({ data: { attributes } }) => {\n      $.ajaxSetup({\n        beforeSend(xhr) {\n          xhr.setRequestHeader('Authorization', `Bearer ${ attributes.token }`);\n        },\n      });\n    });\n}\n\nfunction postResponse({ formId, actionId, response }) {\n  const data = {\n    type: 'form-responses',\n    id: uuid(),\n    attributes: { response },\n    relationships: {\n      action: getRelationship(actionId, 'patient-actions'),\n      form: getRelationship(formId, 'forms'),\n    },\n  };\n\n  return $.ajax({\n    url: `/api/actions/${ actionId }/relationships/form-responses`,\n    method: 'POST',\n    data: JSON.stringify({ data }),\n  });\n}\n\nconst LoginApp = App.extend({\n  onStart({ actionId }) {\n    const dialogView = new DialogView();\n\n    this.showLogin(actionId, dialogView.getRegion('content'));\n\n    this.showView(dialogView);\n  },\n  showLogin(actionId, region) {\n    const loginView = new LoginView({ model: this.getState() });\n\n    this.listenTo(loginView, 'click:submit', () => {\n      getToken({ actionId, dob: this.getState('dob') })\n        .done(() => {\n          this.stop({ isAuthed: true });\n        })\n        .fail(({ status }) => {\n          switch (status) {\n            case 400:\n              this.setState({ hasError: true });\n              break;\n            case 409:\n              region.show(new ResponseErrorView());\n              break;\n            case 404:\n            case 403:\n            case 401:\n              region.show(new NotAvailableView());\n              break;\n            default:\n              region.show(new ErrorView());\n              break;\n          }\n        });\n    });\n\n    region.show(loginView);\n  },\n});\n\nconst FormApp = App.extend({\n  beforeStart({ actionId }) {\n    return [\n      $.ajax(`/api/actions/${ actionId }/form`),\n      $.ajax(`/api/actions/${ actionId }/form/definition`),\n      $.ajax(`/api/actions/${ actionId }/form/fields`),\n    ];\n  },\n  onFail() {\n    const dialogView = new DialogView();\n    dialogView.showChildView('content', new ErrorView());\n    this.showView(dialogView);\n  },\n  onStart({ actionId }, [form], [definition], [fields]) {\n    this.actionId = actionId;\n    this.form = form.data;\n    this.reducers = get(this.form, ['attributes', 'options', 'reducers'], ['return formData;']);\n    this.definition = definition;\n    this.fields = fields;\n    this.isReadOnly = get(this.form, ['attributes', 'options', 'read_only']);\n    this.setView(new iFrameFormView({ model: new Backbone.Model(extend({ id: this.form.id }, this.form.attributes)) }));\n    this.startService();\n    this.showFormSaveDisabled();\n    this.showView();\n  },\n  startService() {\n    this.channel = Radio.channel(`form${ this.form.id }`);\n\n    this.channel.reply({\n      'ready:form': this.showFormSave,\n      'submit:form': this.submitForm,\n      'fetch:form:data': this.getFormPrefill,\n    }, this);\n  },\n  getFormPrefill() {\n    this.channel.request('send', 'fetch:form:data', { definition: this.definition, formData: this.fields.data.attributes, reducers: this.reducers });\n  },\n  showFormSaveDisabled() {\n    if (this.isReadOnly) return;\n    this.showChildView('formAction', new SaveView({ isDisabled: true }));\n  },\n  showFormSave() {\n    if (this.isReadOnly) return;\n    const saveView = this.showChildView('formAction', new SaveView());\n\n    this.listenTo(saveView, 'click', () => {\n      this.channel.request('send', 'form:submit');\n    });\n  },\n  submitForm({ response }) {\n    postResponse({\n      formId: this.form.id,\n      actionId: this.actionId,\n      response,\n    })\n      .done(/* istanbul ignore next: Skipping flaky portion of Outreach > Form test */ () => {\n        this.showView(new DialogView());\n      })\n      .fail(({ responseJSON }) => {\n        this.showFormSave();\n        /* istanbul ignore next: Don't handle non-API errors */\n        if (!responseJSON) return;\n        const errors = pluck(responseJSON.errors, 'detail');\n        this.channel.request('send', 'form:errors', errors);\n      });\n  },\n});\n\nconst OutreachApp = RouterApp.extend({\n  childApps: {\n    login: LoginApp,\n    form: FormApp,\n  },\n  routerAppName: 'PatientsApp',\n  eventRoutes: {\n    'outreach': {\n      action: 'show',\n      route: 'outreach/:id',\n    },\n  },\n  show(actionId) {\n    this.actionId = actionId;\n\n    this.startLogin();\n  },\n  startLogin() {\n    const loginApp = this.startCurrent('login', { actionId: this.actionId });\n\n    this.listenTo(loginApp, 'stop', () => {\n      // NOTE: Future non-authed stop if (!isAuthed) return;\n      this.startForm();\n    });\n  },\n  startForm() {\n    this.startCurrent('form', { actionId: this.actionId });\n  },\n});\n\nfunction startOutreachApp() {\n  new OutreachApp({ region: { el: document.getElementById('root') } });\n  Backbone.history.start({ pushState: true });\n}\n\nexport {\n  startOutreachApp,\n};\n","/**\n * backbone.eventrouter - A highly opinionated, simplistic Backbone.Router coupled with a Backbone.Radio.Channel\n * @version v1.0.1\n * @link https://github.com/RoundingWellOS/backbone.eventrouter\n * @license MIT\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('underscore'), require('backbone'), require('backbone.radio')) :\n  typeof define === 'function' && define.amd ? define(['underscore', 'backbone', 'backbone.radio'], factory) :\n  (global.Backbone = global.Backbone || {}, global.Backbone.EventRouter = factory(global._,global.Backbone,global.Radio));\n}(this, function (_,Backbone,backbone_radio) { 'use strict';\n\n  _ = 'default' in _ ? _['default'] : _;\n  Backbone = 'default' in Backbone ? Backbone['default'] : Backbone;\n\n  // eslint-disable-line\n\n  // https://github.com/jashkenas/backbone/blob/1.2.1/backbone.js#L1425\n  var namedParamRegex = /(\\(\\?)?:\\w+/;\n\n  /**\n   * Backbone.Router coupled with a Backbone.Radio Channel.\n   *\n   * @public\n   * @class EventRouter\n   * @memberOf Backbone\n   */\n  var EventRouter = Backbone.EventRouter = Backbone.Router.extend({\n\n    /**\n     * @public\n     * @constructs EventRouter\n     * @param {Object} [options] - Settings for the EventRouter\n     * @param {Boolean} [options.channelName]\n     * @param {Boolean} [options.routeTriggers]\n     */\n    constructor: function constructor(options) {\n      _.extend(this, _.pick(options, ['channelName', 'routeTriggers']));\n\n      this._ch = Backbone.Radio.channel(_.result(this, 'channelName'));\n\n      this.listenTo(this._ch, 'all', this.navigateFromEvent);\n\n      // Backbone.Router routes are added first\n      // Routes can be added after the triggerRoutes with the Backbone.Router API\n      Backbone.Router.apply(this, arguments);\n\n      this._initRoutes();\n    },\n\n\n    /**\n     * The Radio Channel name.\n     *\n     * @type {String}\n     * @default 'event-router'\n     */\n    channelName: 'event-router',\n\n    /**\n     * Get the router's Radio channel instance\n     *\n     * @public\n     * @method getChannel\n     * @memberOf EventRouter\n     * @returns {Backbone.Radio.Channel}\n     */\n    getChannel: function getChannel() {\n      return this._ch;\n    },\n\n\n    /**\n     * For each routeTrigger it adds a route to Backbone.Router\n     *\n     * @private\n     * @method _initRoutes\n     * @memberOf EventRouter\n     */\n    _initRoutes: function _initRoutes() {\n      this._routeTriggers = _.result(this, 'routeTriggers', {});\n\n      _.each(this._routeTriggers, this._addRouteTrigger, this);\n    },\n\n\n    /**\n     * Adds a route(s) to Backbone.Router which on route triggers\n     * the appropriate event\n     *\n     * @private\n     * @method _addRouteTrigger\n     * @param {Array|String} routes - Route string or array of route strings\n     * @param {String} event - Event string to trigger on route\n     * @memberOf EventRouter\n     */\n    _addRouteTrigger: function _addRouteTrigger(routes, event) {\n      // handle any route as an array by default for the _.each\n      routes = _.isArray(routes) ? routes : [routes];\n\n      _.each(routes, function (route) {\n        this.route(route, event, _.bind(this._ch.trigger, this._ch, event));\n      }, this);\n    },\n\n\n    /**\n     * Adds a routeTrigger, and route(s) to Backbone.Router\n     * which on route triggers the appropriate event.\n     *\n     * @public\n     * @method addRouteTrigger\n     * @param {Array|String} routes - Route string or array of route strings\n     * @param {String} event - Event string to trigger on route\n     * @memberOf EventRouter\n     * @returns {EventRouter}\n     */\n    addRouteTrigger: function addRouteTrigger(routes, event) {\n      this._routeTriggers[event] = routes;\n      this._addRouteTrigger(routes, event);\n\n      return this;\n    },\n\n\n    /**\n     * Overrides `Backbone.Router.route()\n     * Like Backbone.Router.Route but with before events\n     * It also temporarily stores the event for understanding\n     * what route is currently being handled.\n     *\n     * @public\n     * @method route\n     * @param {String} route - Route string\n     * @param {String} [name] - Name of route\n     * @param {String} callback - Function called on route\n     * @event EventRouter#before:route - passes route name and route arguments\n     * @event EventRouter#before:route:{event_name} - passes route arguments\n     * @memberOf EventRouter\n     * @returns {EventRouter}\n     */\n    route: function route(_route, name, callback) {\n      var bbRoute = Backbone.Router.prototype.route;\n\n      if (_.isFunction(name) || !callback) {\n        return bbRoute.call(this, _route, name, callback);\n      }\n\n      var wrappedCallback = _.bind(function () {\n        var args = _.drop(arguments, 0);\n\n        // Trigger before: events that match currently triggered events\n        this.trigger('before:route', name, args);\n        this.trigger.apply(this, ['before:route:' + name].concat(args));\n\n        this._storeRouteTrigger([name].concat(args));\n        callback.apply(this, args);\n        this._clearRouteTrigger();\n      }, this);\n\n      return bbRoute.call(this, _route, name, wrappedCallback);\n    },\n\n\n    /**\n     * Stores the route name and route arguments on a stack\n     *\n     * @private\n     * @method _storeRouteTrigger\n     * @param {Array} args - Array of route name and route arguments\n     * @memberOf EventRouter\n     */\n    _storeRouteTrigger: function _storeRouteTrigger(args) {\n      this._routeArgs = this._routeArgs || [];\n      this._routeArgs.push(args);\n    },\n\n\n    /**\n     * Gets the top of the triggered route store stack\n     *\n     * @private\n     * @method _getCurrentRouteTrigger\n     * @memberOf EventRouter\n     * @returns {Array}\n     */\n    _getCurrentRouteTrigger: function _getCurrentRouteTrigger() {\n      return _.last(this._routeArgs) || [];\n    },\n\n\n    /**\n     * Pops the latests route triggered off of the store stack\n     *\n     * @private\n     * @method _clearRouteTrigger\n     * @memberOf EventRouter\n     */\n    _clearRouteTrigger: function _clearRouteTrigger() {\n      this._routeArgs.pop();\n    },\n\n\n    /**\n     * Checks to see if the current event being tests is the latest\n     * route being handled by comparing the route name and arguments\n     *\n     * @private\n     * @method _isTriggeredFromRoute\n     * @memberOf EventRouter\n     * @returns {Boolean}\n     */\n    _isTriggeredFromRoute: function _isTriggeredFromRoute() {\n      var currentRoute = this._getCurrentRouteTrigger();\n\n      if (arguments.length !== currentRoute.length) {\n        return false;\n      }\n\n      return arguments.length === _.union(arguments, this.currentRoute).length;\n    },\n\n\n    /**\n     * Takes a event string and any arguments passed to that event\n     * And if not initiated by a route, translates the event into a\n     * URL and navigates to it without re-triggering the route\n     *\n     * @public\n     * @method navigateFromEvent\n     * @param {String} event - Event string\n     * @event EventRouter#noMatch - passes route arguments\n     * @memberOf EventRouter\n     * @returns {EventRouter}\n     */\n    navigateFromEvent: function navigateFromEvent(event) {\n      var route = this.getDefaultRoute(event);\n\n      // if no matching route exists do nothing\n      if (!route) {\n        var args = _.drop(arguments, 0);\n        this.trigger.apply(this, ['noMatch'].concat(args));\n        return this;\n      }\n\n      if (this._isTriggeredFromRoute.apply(this, arguments)) {\n        return this;\n      }\n\n      var eventArgs = _.drop(arguments, 1);\n\n      var translatedRoute = this.translateRoute(route, eventArgs);\n\n      // update URL without triggering the route\n      return this.navigate(translatedRoute, { trigger: false });\n    },\n\n\n    /**\n     * Get the default route string\n     * Either the first of the array or the passed in event if singular\n     *\n     * @public\n     * @method getDefaultRoute\n     * @memberOf EventRouter\n     * @returns {String}\n     */\n    getDefaultRoute: function getDefaultRoute(event) {\n      var routes = this._routeTriggers[event];\n\n      return _.isArray(routes) ? routes[0] : routes;\n    },\n\n\n    /**\n     * Finds the next name params (ie: :param) and replaces it with the arg\n     *\n     * @private\n     * @method _replaceParam\n     * @param {String} route - Route string\n     * @param {String|Number} arg - value to replace named param\n     * @memberOf EventRouter\n     * @returns {String}\n     */\n    _replaceParam: function _replaceParam(route, arg) {\n      return route.replace(namedParamRegex, arg);\n    },\n\n\n    /**\n     * Takes a route string and an array or arguments\n     * and returns a url with the named params replaced with the argument values\n     *\n     * @public\n     * @method translateRoute\n     * @param {String} route - Route string\n     * @param {Array} eventArgs - Passed event arguments\n     * @memberOf EventRouter\n     * @returns {String}\n     */\n    translateRoute: function translateRoute(route, eventArgs) {\n      return _.reduce(eventArgs, this._replaceParam, route);\n    }\n  });\n\n  return EventRouter;\n\n}));\n\n"],"names":["App","triggerStart","options","this","_isLoading","_fetchId","uniqueId","triggerSyncData","bind","triggerMethod","triggerFail","triggerSyncFail","promise","beforeStart","isArray","$","fail","done","noop","onSyncData","fetchId","isRunning","finallyStart","apply","rest","arguments","args","_isRunning","isLoading","faHelper","prefix","iconName","hash","faDefinition","findIconDefinition","faIcon","icon","html","Handlebars","console","error","Error","config","far","partial","fas","fal","fa","routerAppName","constructor","initRouter","listenTo","router","onNoMatch","on","stopCurrent","_routes","result","routeTriggers","getRouteTriggers","EventRouter","bindRouteEvents","stop","_currentRoute","reduce","eventName","route","getEventActions","eventRoutes","routeAction","eventActions","action","getChannel","event","start","Radio","setLatestList","eventArgs","isFunction","Backbone","isList","clearLatestList","startCurrent","appName","_currentAppName","_currentAppOptions","extend","currentRoute","app","startChildApp","_current","startRoute","isCurrent","getCurrent","getCurrentRoute","isEqual","translateEvent","getDefaultRoute","translateRoute","replaceRoute","url","trigger","replace","navigateRoute","Behavior","ui","iframe","onInitialize","channel","view","model","id","onAttach","iframeWindow","contentWindow","reply","message","postMessage","window","origin","originalEvent","data","request","onBeforeDetach","off","stopReplying","DialogView","View","template","templateContext","name","auth0Config","regions","content","iFrameFormView","behaviors","IframeFormBehavior","formAction","SaveView","isDisabled","tagName","className","attributes","disabled","getOption","triggers","onClick","$el","prop","LoginView","date","submit","modelEvents","onChangeDate","dob","val","set","onBlurDate","hasError","ResponseErrorView","NotAvailableView","ErrorView","getRelationship","type","contentType","LoginApp","onStart","actionId","dialogView","showLogin","getRegion","showView","region","loginView","getState","uuid","reason","birth_date","relationships","method","JSON","stringify","beforeSend","xhr","setRequestHeader","token","getToken","isAuthed","status","setState","show","FormApp","onFail","showChildView","form","definition","fields","reducers","get","isReadOnly","setView","startService","showFormSaveDisabled","showFormSave","submitForm","getFormPrefill","formData","saveView","response","formId","postResponse","responseJSON","errors","pluck","OutreachApp","RouterApp","childApps","login","startLogin","loginApp","startForm","startOutreachApp","el","document","getElementById","pushState","module","exports","_","backbone_radio","namedParamRegex","Router","pick","_ch","navigateFromEvent","_initRoutes","channelName","_routeTriggers","each","_addRouteTrigger","routes","addRouteTrigger","_route","callback","bbRoute","prototype","call","wrappedCallback","drop","concat","_storeRouteTrigger","_clearRouteTrigger","_routeArgs","push","_getCurrentRouteTrigger","last","pop","_isTriggeredFromRoute","length","union","translatedRoute","navigate","_replaceParam","arg","factory"],"sourceRoot":""}